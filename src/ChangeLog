commit fcbc195d87f07b6c26afe6c4ab7d762b5215ee50
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 18 13:01:57 2019 -0400

    New version: 0.61.15.74

commit 74cc3f19be98ea9d93013a50bcafae3026609dba
Merge: 7166d365 14ca6bd9
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 30 12:43:22 2019 -0400

    Merge pull request #776 from vojtechtrefny/rhel7-branch_dasd-reformat
    
    Recommend DASD disk label for disks with an existing DASD label

commit 14ca6bd969d1970aa98dbd42b4b1ef811292adec
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 30 10:55:48 2019 -0400

    Handle exceptions raised from parted.Disk ctor.
    
    Related: rhbz#1677383

commit 02d811af33e10d2d992335a8c58ea1f3da8617b8
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon May 13 14:46:12 2019 +0200

    Recommend DASD disk label for disks with an existing DASD label
    
    It is possible to have a virtio disk backed by a DASD disk and
    in this case we use disk type to determine best label type
    because disk type is not DASD.
    
    Resolves: rhbz#1677383
    
    Submitted-by: Masahiro Matsuya <mmatsuya@redhat.com>

commit 7166d3654dd2f1239fe1d6d3db5aa03f81f3e940
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 26 08:16:48 2019 +0100

    New version: 0.61.15.73

commit 7ba0890fb91f0e11342837ee8f966a067417b7fb
Merge: a1e36fe5 c85ad588
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 26 08:10:30 2019 +0100

    Merge pull request #733 from vojtechtrefny/rhel7-branch_six-dependency
    
    Add dependency on python-six

commit a1e36fe517ce9d315b38bbade7511988ef18d54c
Merge: a902218d 870945ae
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 26 08:10:14 2019 +0100

    Merge pull request #567 from dwlehman/rhel7-test-as-root
    
    Fix unit tests run as root (rhel7-branch)

commit a902218d34292d37a2a1377d979dae003e48fd98
Merge: b59c740e 9777db22
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 26 08:09:47 2019 +0100

    Merge pull request #744 from vojtechtrefny/rhel7-branch_wipe-cachepool-metadata
    
    Tell LVM to wipe cachepool metadata when attaching the cachepool

commit b59c740e75ec0a3fd9833fcd6f1b51c3c89962b2
Merge: ba6b6ccb b51d28fe
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 26 08:09:40 2019 +0100

    Merge pull request #757 from japokorn/rhel7-branch-ro_disk_fail
    
    Fixed KS forcing zerombr onto RO disk (#1544425)

commit 870945ae7f70e5bb98c6ab47842dcf6ae7f3e5aa
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jun 11 16:05:12 2018 +0200

    Use --yes when calling pvresize
    
    pvresize now asks for confirmation when shrinking a PV.
    
    Related: rhbz#1657000

commit 75f05a04dfae75b318acf0dd37d60f86deefefb2
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 4 16:01:40 2017 -0400

    Fix typo in partitioning test cleanup.
    
    Related: rhbz#1657000

commit f2f347595b86d458ea2705aa9161cb81e2c83373
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 11:41:08 2017 -0400

    Remove selinux test that doesn't do anything meaningful.
    
    Related: rhbz#1657000
    
    A meaningful test should be added at some point, but for now
    this one is a maintenance burden with no tangible benefit.

commit 455d89060b5f238c62a732bef8adddc798f1294e
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 11:40:38 2017 -0400

    Improve parsing of mdadm detail output.
    
    Related: rhbz#1657000

commit 539d7f3b0c9c120d47c4c0584bab3dbc3314a9d7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 11:39:36 2017 -0400

    Update btrfs tests to use sufficiently large loop devices.
    
    Related: rhbz#1657000

commit f2f3fa52a69353aeb7f81b8ed909f3951154426d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 11:39:02 2017 -0400

    vfat labels apparently cannot contain lower case characters.
    
    Related: rhbz#1657000

commit 6fdadae899a99fc5970f0283f296bd5f8c5b2eba
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 11:37:13 2017 -0400

    Check label format regardless of mechanism used to set it.
    
    Related: rhbz#1657000

commit c054637440a01b34f55b8acbe1efc4ab45549cf9
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 3 11:36:23 2017 -0400

    Adapt to presence or absence of python-mock.
    
    Related: rhbz#1657000

commit b51d28fec42355aa7bd765755646a7fe5d8e4fb8
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Tue Mar 6 13:16:11 2018 +0100

    Fixed KS forcing zerombr onto RO disk (#1544425)
    
    The exception caused by using anaconda kickstart with zerombr and --only-use read-only disk
    now produces a warning
    
    Added tests for this behavior
    
    Resolves: rhbz#1544425

commit 9777db2203cae349c9422ac4016b4d0dc76e2ef1
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Dec 5 09:28:11 2018 +0100

    Tell LVM to wipe cachepool metadata when attaching the cachepool
    
    Resolves: rhbz#1643531
    
    Submitted-by: Renaud MÃ©trich <rmetrich@redhat.com>

commit c85ad588f28290b87cf636ca0e19e40b911bb1f0
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Nov 7 08:31:59 2018 +0100

    Add dependency on python-six
    
    six is needed since 3af623c2a5e57e8397468b4825362275cb0f1ccb but
    we forgot to add the dependency to the spec file.
    
    Resolves: rhbz#1647173

commit ba6b6ccb784df605a64f1fe8b5c9646be330ce89
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Sep 3 13:32:39 2018 +0200

    New version: 0.61.15.72

commit 102c660b5540771c737071ab90e2a2e0b899c9c8
Merge: d6c8e7c2 2fe05870
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Sep 3 09:19:18 2018 +0200

    Merge pull request #719 from dwlehman/ndctl-rhel7
    
    Install ndctl when NVDIMMs are used.

commit d6c8e7c205b00fdb5d0ffe482630c4c558245c12
Merge: dea0ad90 db06065d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Sep 3 09:19:09 2018 +0200

    Merge pull request #718 from vojtechtrefny/rhel7-branch_nvdimm-lvm-filter-escape
    
    Escape dots in lvm filter devices

commit 2fe058704e5e22c4f886d2d2c79ec85cf0e13ac5
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Aug 24 10:35:49 2018 -0400

    Install ndctl when NVDIMMs are used.
    
    Related: rhbz#1600496

commit db06065d499c54b17765e7b2e9629939e5f44751
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Aug 23 16:00:54 2018 +0200

    Escape dots in lvm filter devices
    
    Without this ignoring device like "pmem0.1" will also ignore
    first partition on "pmem0s" ("pmem0s1").
    
    Resolves: rhbz#1614039

commit dea0ad90ec819b9afbfcb44cf3d63357d676be6f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 26 11:39:31 2018 -0400

    New version: 0.61.15.71

commit 71669509933c37dc84df6da7048d463bacddb4e1
Merge: 561147b8 73601215
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jul 26 16:50:23 2018 +0200

    Merge pull request #707 from vojtechtrefny/rhel7-branch_nvdimm-64-only
    
    Remove NVDIMM support on non-x86_64

commit 561147b85532ac73750fcc5b09860f48d24bac31
Merge: 7179d080 403e6701
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Jul 26 16:50:11 2018 +0200

    Merge pull request #708 from vojtechtrefny/rhel7-branch_luks-version
    
    Add version to the LUKS format

commit 7360121594c569d00d93ff7823f233ecf2c70857
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jul 18 09:16:33 2018 +0200

    Remove dependency on libblockdev-nvdimm
    
    Blivet can work without it on systems without NVDIMM support
    (e.g. all non-x86_64 architectures). Blivet users (like Anaconda)
    must depend on libblockdev-nvdimm if they want to use this
    functionality.
    
    Resolves: rhbz#1601557

commit e4f4f8e2e7c448c62c1b884b08de774236055bc1
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jul 18 09:14:42 2018 +0200

    Do not try to load NVDIMM plugin on non-x86_64 architectures
    
    Also make sure we don't call functions from the plugin if it isn't
    available.
    
    Related: rhbz#1601557

commit 403e670158e873f06de22096739bacfd0af267be
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jul 25 09:57:44 2018 +0200

    Add version to the LUKS format
    
    Resolves: rhbz#1607830

commit 7179d080d2436962abe53e210c0cd5d2785fc195
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 22 08:51:06 2018 -0400

    New version: 0.61.16.70

commit 23e815e9e35fcc7e104ad7b8c0e29e8af99838f7
Merge: 2318c004 39637796
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 22 08:28:22 2018 -0400

    Merge pull request #703 from dwlehman/deactivate-incomplete-lvm
    
    Deactivate incomplete lvm in DeviceTree.teardownAll

commit 2318c0045b89fafa41a4d8a854e2f781f2dbb3c1
Merge: 984783d9 5297ec65
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 22 08:28:09 2018 -0400

    Merge pull request #702 from dwlehman/lvm-udev-races
    
    Work around udev timing issues.

commit 39637796ca1aa2f03c89b5ec86ac246eecca1570
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 20 16:37:24 2018 -0400

    Deactivate incomplete VGs along with everything else.
    
    Resolves: rhbz#1554224

commit 984783d9cdfdcb7219e157ee7bf3723e0cb3d037
Merge: c11eb4b1 bfe60d98
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jun 20 17:48:53 2018 +0200

    Merge pull request #699 from rvykydal/rhel7-branch-nvdimm-devices-handling-in-installer-mode
    
    Rhel7 branch nvdimm devices handling in installer mode

commit 5297ec65e9db2cf7df68e1f5d5b230a7bf668f1e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 19 10:34:04 2018 -0400

    Work around udev timing issues.
    
    Resolves: rhbz#1592253
    Resolves: rhbz#1592191

commit c11eb4b12a0a002457dbadadef0dd15d23e3d855
Merge: 5bd83265 3f06ecb6
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jun 13 14:59:04 2018 +0200

    Merge pull request #694 from vojtechtrefny/rhel7-branch_nvdimm
    
    NVDIMM support

commit bfe60d983825913204ac26fc7f7321546662e8c7
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Tue Jun 12 11:06:23 2018 +0200

    nvdimm: don't crash on non-block devices
    
    Related: rhbz#1280500

commit 3f06ecb627094f60370c603e039e6a5b6626922d
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 15 10:51:22 2018 +0200

    Add NVDIMM detection to "addUdevDiskDevice"
    
    Related: rhbz#1558942

commit 3da782e2e65541128c3a57dc8f5dd814c7e93b33
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 15 10:39:04 2018 +0200

    Add 'NVDIMMNamespaceDevice' device representing NVDIMM namespaces
    
    Related: rhbz#1558942

commit dff355429818dab947e2724f6e0d1feb443daa4a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 15 10:18:22 2018 +0200

    Add a function for identifying NVDIMM namespaces
    
    Related: rhbz#1558942

commit ca37c82f091b51c9dede7bc4ac72faa3c14976f7
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jun 4 09:04:20 2018 +0200

     Add a singleton for NVDIMM namespaces management
    
     This currently allows changing mode of the namespace and getting
     information about available namespaces.
    
     Resolves: rhbz#1558942

commit 3af623c2a5e57e8397468b4825362275cb0f1ccb
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jun 4 09:03:29 2018 +0200

    Backport DependencyGuard from master
    
    Related: rhbz#1558942

commit e70b13d2cd78f268f2c2a768c242162476b70357
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon May 21 16:15:52 2018 +0200

    Ignore nvdimm devices unless configured in kickstart
    
    Also the device has to be in sector mode.
    
    Related: rhbz#1280500

commit 68c8432459ddcf3b2020273006811eb0cd802ba8
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Thu May 17 11:15:42 2018 +0200

    Do not ignore nvdimm (pmemX) devices
    
    Related: rhbz#1280500

commit 5bd832657181acc41deeaafea2c9f0e3e775f24a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 21 11:49:35 2018 -0500

    New version: 0.61.15.69

commit 915044304c6ce0d1cc2f7ff5d9d81470ed4c3e6c
Merge: d1f9f95f 6480770d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 21 11:05:23 2018 -0500

    Merge branch 'rhel7-thpool-grow-metadata' into rhel7-branch

commit 6480770d071833fd816c639748bc6805b6cc9515
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 2 10:49:36 2018 -0500

    Fix accounting for metadata when growing lvm.
    
    LVM sets aside space for an extra copy of the thin pool metadata.
    We will set aside this space for any logical volume with an
    explicit metadata size just in case.
    
    Resolves: rhbz#1494475

commit d1f9f95f6496653fc178e7df4e066ca4cb421bea
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 9 08:31:03 2018 -0500

    New version: 0.61.15.68

commit 77039cb4d7037b47c59e26890d1e68f064656dfe
Merge: b2ef6f70 15db06fc
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 9 08:18:54 2018 -0500

    Merge pull request #659 from dwlehman/1223564-followup
    
    Followup for #651

commit 15db06fc9954e1c5b81d7ae9eb2f6210ea75635d
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 8 15:31:54 2018 -0500

    Catch lvm metadata lookup failure in md post create.
    
    Resolves: rhbz#1543579
    Related: rhbz#1223564

commit b2ef6f70f7f4e4bdd6d2462e3b8c3159069ab33c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 7 11:45:54 2018 -0500

    New version: 0.61.16.67

commit ac2e18e978652ceb9839e145bf523f21f3480a85
Merge: 4c9ea1d0 57524f38
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 7 11:17:38 2018 -0500

    Merge pull request #651 from dwlehman/mdcreate-stale-lvm-metadata
    
    Remove stale lvm metadata found on new md arrays.

commit 4c9ea1d08d9ab3b04d6f936b222e86dee7587fb0
Merge: 143baf7e 16ea6e01
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 7 11:16:11 2018 -0500

    Merge pull request #656 from rvykydal/rhel7-branch-fix-fcoe-on-rhev
    
    fcoe: remove /etc/fcoe dir if it exists before copying configuration â¦

commit 16ea6e0116523390beae428a2132704bfc5a58b9
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Tue Feb 6 10:05:30 2018 +0100

    fcoe: remove /etc/fcoe dir if it exists before copying configuration (#1482512)
    
    Resolves: rhbz#1482512
    
    On image installation (eg RHEV) the configuration directory may already exist.
    Remove it in this case before copying the configuration (same as we do for iscsi).

commit 57524f382e414a56d729e8f274fa279bebf57a6c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 26 10:23:38 2018 -0500

    Followups for stale lvm metadata removal after md creation.

commit 1b0491830a3278376b7bda68c7f3fe36d144076a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 17 13:17:24 2018 -0500

    Find and remove stale LVM metadata immediately after creating md array.
    
    Resolves: rhbz#1223564

commit 272b910214cd78fbe10a6434835c704adeeedcef
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 17 12:57:26 2018 -0500

    Add ability to specify vg by uuid for vgremove.
    
    Related: rhbz#1223564

commit 143baf7e80430da384a26d506015b96036e24e9e
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 3 10:49:09 2017 -0400

    New version: 0.61.15.66

commit b58c18dbc90f02c4527645bf7c3e4102d858052c
Merge: 8545cefa 0372da2b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 3 10:21:54 2017 -0400

    Merge pull request #636 from vojtechtrefny/rhel7-branch_autopart-read-only
    
    Do not try to use protected disks for autopart

commit 8545cefa3e9834a13571005a1c7ee385d26918b2
Merge: 6dea2f3d 62a66fde
Author: japokorn <japokorn@redhat.com>
Date:   Wed Oct 18 14:20:36 2017 +0200

    Merge pull request #641 from japokorn/rhel7-branch-ext4_confirm
    
    mkfs.ext4 no longer hangs on confirmation

commit 62a66fde4176ae44204f9a2b10b69d527674b90d
Author: Jan Pokorny <japokorn@redhat.com>
Date:   Mon Oct 16 14:56:09 2017 +0200

    mkfs.ext4 no longer hangs on confirmation
    
    Fixed confirmation hang when ext[234] partition was created on the whole
    disk.
    
    Resolves: rhbz#1461459

commit 6dea2f3df1c9320a74f41fe63af694abdcb5133a
Merge: e8df8b48 18e6c263
Author: japokorn <japokorn@redhat.com>
Date:   Mon Oct 16 09:51:26 2017 +0200

    Merge pull request #639 from japokorn/rhel7-branch-max_logical
    
    Stop enforcing obsolete limits on partition count. (#1460668)

commit 18e6c26376a84fafe854ab0fc5542af18b59c88d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 21 15:36:42 2017 -0400

    Stop enforcing obsolete limits on partition count. (#1460668)
    
    (cherry picked from commit d81ed9e8eb4eb861927276b1632ff1a49263fc20)
    
    Resolves: rhbz#1460668

commit 0372da2be0a554792735454cb43e4bbb788c43ea
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Oct 5 11:09:40 2017 +0200

    Do not try to use protected disks for autopart
    
    Resolves: rhbz#1456409

commit e8df8b48b137cbcb596b21c956b7e053c83e682c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 28 09:52:38 2017 -0400

    New version: 0.61.15.65

commit 9e57aaeaaa8ee7d851bfb69ca9ee54a5eec43aa2
Merge: 182d2629 e8c4c006
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Wed Jun 28 15:46:44 2017 +0200

    Merge pull request #610 from vpodzime/rhel7-percent_thpool_fixes
    
    Percent-based thpool fixes

commit e8c4c006b93ab25f17acd036c165d48c97000a85
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jun 21 10:27:16 2017 +0200

    Autoset metadata size on percent-based thin pools
    
    Once we calculate their real size, we need to make sure their
    metadata size is set properly (unless explicitly specified, of
    course).
    
    Resolves: rhbz#1463198

commit 058be8514c107292b8407c9a0c963f5488639314
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jun 21 10:25:56 2017 +0200

    Do not try to autoset MD size on a thin pool with no size
    
    If a thin pool device doesn't have its size specified (yet),
    there's no way to calculate the recommended MD size for it.
    
    Related: rhbz#1463198

commit 182d2629595bb961208fb3b00852d8a37aa435cb
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 7 10:44:24 2017 -0400

    New version: 0.61.15.64

commit 2c82c923a518afa767948ce2daad375c46653131
Merge: a921ef1b 062360ce
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 7 10:31:49 2017 -0400

    Merge pull request #599 from vpodzime/rhel7-round_thpool_mdsize
    
    Round the recommended thpool metadata size to extents

commit a921ef1ba3a492861068a96e0e2206244f72d5f1
Merge: c240820a 237e4a3c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 7 10:21:04 2017 -0400

    Merge pull request #602 from vpodzime/rhel7-lvremove_deactivate
    
    Make sure an LV is deactivated before removal

commit 237e4a3c592dc02d7264d39c526705378a6c4529
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 5 15:17:25 2017 +0200

    Make sure an LV is deactivated before removal
    
    Before and LV is removed, we may need to set its ancestors (VG
    and its PVs) up which may trigger auto-activation of the LV
    itself. And since we are supposed to always remove a deactivated
    LV so we have to make sure the LV is deactivated before we try to
    remove it.
    
    Resolves: rhbz#1456821

commit c240820a0b3345a30b96726d648f313edda05e8f
Merge: d26f5ce6 0272660a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 7 09:49:28 2017 -0400

    Merge pull request #603 from dwlehman/setup-before-format-create-1368986
    
    Setup device before format create

commit 0272660a5e569465ed89a6292358229848ae94a9
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Mar 9 17:20:14 2015 -0700

    Make sure the device is setup before formatting it (#1368986)
    
    Reusing an existing LV wasn't working because it was not setup before
    formatting.
    
    (cherry picked from commit 1834001a731a11ce42186bffc84a54d02d4f1df4)

commit 062360ce6498ee33b62a7ee6833e681d274522b4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jun 2 08:58:17 2017 +0200

    Round the recommended thpool metadata size to extents
    
    Otherwise LVM does it when creating the thin pool and we may end
    up with not enough space in the VG to create the data part of the
    pool (which happens afterwards).
    
    Resolves: rhbz#1456528

commit d26f5ce6aa5433418abbcaf9d1433df475297215
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 16 15:43:48 2017 -0400

    New version: 0.61.15.63

commit ef387064e70d75d4ef1d1659e9e138717bd4b6b6
Merge: 43852fa8 7335c863
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon May 15 16:13:27 2017 +0200

    Merge pull request #589 from vpodzime/rhel7-no_uuidgen
    
    Use the uuid module instead of the uuidgen tool

commit 43852fa843962d69722e7c480d20bd582b2347c8
Merge: ff1061bc ba2ac50d
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon May 15 16:13:18 2017 +0200

    Merge pull request #582 from vpodzime/rhel7-thpool_min_size
    
    Respect thin pool's min size when setting its req_size

commit 7335c8631c959397b056c41d19545585f687966e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 15 11:12:03 2017 +0200

    Use the uuid module instead of the uuidgen tool
    
    The uuid module is shipped together with Python so we should use
    it instead of requiring an extra utility.
    
    Related: rhbz#1413942

commit ba2ac50d8ea508fda639f207da87242d59e54a10
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 3 15:54:33 2017 +0200

    Respect thin pool's min size when setting its req_size
    
    When setting thin pool's size based on the sum of its thin LVs we
    need respect its minimum size. That can for example be its actual
    size if it already exists.
    
    Resolves: rhbz#1449963
    
    (Together with the recent changes for thin pool padding this also
    resolves rhbz#1435180.)

commit ff1061bc948f333254b679d866166ad8269da991
Merge: d2937258 e4b63c75
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue May 9 13:09:28 2017 +0200

    Merge pull request #580 from vojtechtrefny/rhel7-branch_fix-chunksize-ks
    
    Add RAID chunk size to the generated kickstart file

commit d2937258c9c33f9ca3dbfaebfdf64deea6676476
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 3 10:49:22 2017 -0400

    New version: blivet-0.61.15.62

commit e4b63c7580efa169c144ea779aac1368f27ceb0f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed May 3 16:19:02 2017 +0200

    Add RAID chunk size to the generated kickstart file
    
    Resolves: rhbz#1447343

commit 34fe7a67d87fd03073de09420acdb7a329cd6a6d
Merge: e98f58e8 76ec17a3
Author: Vendula Poncova <vponcova@redhat.com>
Date:   Wed May 3 13:16:50 2017 +0200

    Merge pull request #578 from poncovka/rhel7-branch-biosraid
    
    Fix resolve_devspec to fully support raid devices (#1445723)

commit e98f58e821d287ac5871c2187d0ba72b25d91fe8
Merge: 44ed16ea e70eeabc
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 2 13:07:41 2017 -0400

    Merge pull request #579 from dwlehman/boot-md-metadata-ver-1184945
    
    Update md boot metadata version selection.

commit e70eeabc08ab011bbfba45409de5997a7abfdb8d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 29 15:07:07 2015 -0500

    Don't pass unused mountpoint dict to preCommitFixup.
    
    (cherry picked from commit b6792689cfe45a19d8350905641a85445f40d590)
    
    Related: rhbz#1184945

commit d479da9aaea2794ae4b40faf2eebad5031907657
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 27 16:07:05 2015 -0500

    Use the default md metadata version for everything except /boot/efi.
    
    Now that we've moved to grub2 this is no longer necessary for /boot.
    As far as I know we have never actually allowed PReP on md, so that's
    not needed either. Apparently UEFI firmware/bootloader still needs it.
    
    (cherry picked from commit 8bce84025e0f0af9b2538a2611e5d52257a82881)
    
    Resolves: rhbz#1184945

commit 76ec17a33c5347527d1b2751f9eb735f9297e505
Author: Vendula Poncova <vponcova@redhat.com>
Date:   Tue Apr 25 16:58:26 2017 +0200

    Fix resolve_devspec to fully support raid devices (#1445723)
    
    Return md name if it matches a device name for the given device
    specification, so the device names are consistent when we work
    with udev module and a devicetree.
    
    Resolves: rhbz#1445723

commit 44ed16ea54bc8f05b3414ded266e022ac2ce0654
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 12 15:34:04 2017 -0400

    New version: 0.61.15.61

commit ab8e0e05062e9fae792dfe64f83a8581612d418c
Merge: fdce7616 92356058
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Tue Apr 18 08:44:41 2017 +0200

    Merge pull request #570 from vpodzime/rhel7-vg_thpool_reserve
    
    Reserve space for thin pool(s) to grow in a VG

commit fdce7616d8b8c9c079b3db240f364c57a8e18b07
Merge: 005cfea2 25d4b7ab
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Apr 12 13:40:12 2017 +0200

    Merge pull request #572 from rvykydal/rhel7-branch-rhbz#1411407-fork-from-thread-streerror-hang
    
    Call subprocess.Popen with absolute path to a binary (#1411407)

commit 25d4b7ab288010b99cd730a4442d2f521df65853
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Apr 10 14:46:49 2017 +0200

    Call subprocess.Popen with absolute path to a binary (#1411407)
    
    Related: rhbz#1411407
    
    Python is trying to execve the program (specified without the path) in the
    fork, iterating over the path list and calling strerror when failing on paths
    before it finds the right one. The strerror call can then hang waiting forever
    for a lock held by parent process (__libc_setlocale_lock).
    
    NOTE: in the future we want to replace this workaround by using subprocess32
    module.

commit 92356058d19def13f7468c7f4e493bd6d7dc149c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 5 17:47:20 2017 +0200

    Also set pool's size to at least sum of its thin LVs
    
    Because that's what VG takes into account when calculating free
    space and thus, among the other things, the base for growth.
    
    Related: rhbz#1131247

commit 16bcac10d4580394917554f31f446cafaeefeecf
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 5 17:43:54 2017 +0200

    Check if new device's size is != 0 when comparing it to maxSize
    
    Setting size to 0 happens as part of the operations in
    DeviceFactory (when removing a device). And when that happens,
    the calculated maxSize can be negative (as an interim
    state). However, setting device's size to 0 in order to make sure
    its container can omit the space for it should be always allowed.
    
    Related: rhbz#1131247

commit 60d48c7f2c760c6e4be0a77f0051b60b50daa67a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 5 17:43:08 2017 +0200

    Do not count in thin LVs when calculating VG's free space
    
    Thin LVs are allocated from a thin pool not from the VG itself.
    
    Related: rhbz#1131247

commit e6747f14b58a7bb35c1dc9c44a48a89b16e320fa
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Apr 6 15:56:58 2017 +0200

    Support multiplication of Size by float
    
    Decimal doesn't support multiplication by float due to potential
    loss of precision. But we sometimes need to for example make the
    size 25% bigger so size * 1.25. Let's just convert the float to
    Decimal instead.
    
    Related: rhbz#1131247

commit dd08cbf059d11ec7f9866fa81bcffd4e6d3551b9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 4 14:34:48 2017 +0200

    Reserve space in a VG when using LVMThinPFactory
    
    Instead of adding padding to thin pool. See commit 4f5e65419e for
    details.
    
    Related: rhbz#1131247
    
    (ported commit efc0db967a738877fa822992f0a24dac9344e3b9)

commit 5fee129bf237f924566ca4e92d2be54a06bbabe4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 4 12:13:24 2017 +0200

    Reserve space in a VG instead of padding thin pools on autopart
    
    Padding thin pools brings many complications and issues. For
    example, what should we do with existing thin pools? What if
    somebody really wants to create a thin pool of size not leaving
    enough space for the padding in the VG? And more.
    
    Nevertheless, we want to leave some space in the VG if doing
    thinp auto partitioning because that's a good practice. However,
    we already have an existing mechanism for that -- the VG can
    reserve some space in itself (the size or percentage of which can
    even be defined by user). So let's just extend and use this
    mechanism to make sure there's some free space in the VG left for
    the thin pool to grow when doing autopartitioning. If users give
    us all the numbers, we should just do as they say, they probably
    know what they are doing.
    
    (ported commit 788d7d0d8fcaa3c830bdcdc24482e1b7ea815920)
    
    Resolves: rhbz#1131247

commit 005cfea2db1f02cd6bccf2414c3f4f31b7601bc8
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 27 12:40:57 2017 -0400

    New version: 0.61.15.60

commit 520a43b1af529f046c8a58fd9acdaffd8d055f1b
Merge: 9c0fb8d2 b88b2d93
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Mon Mar 27 17:16:35 2017 +0200

    Merge pull request #563 from vpodzime/rhel7-snapshot
    
    Fixes for thin snapshot creation

commit 9c0fb8d243b28a7e43019d74642d89d879ec12b4
Merge: f048b337 876147e5
Author: Vendula Poncova <vponcova@redhat.com>
Date:   Thu Mar 23 14:31:11 2017 +0100

    Merge pull request #546 from poncovka/rhel7-branch-fba
    
    FBA DASD should use the msdos disk label type (#1214407)

commit b88b2d93b9d7abda278217123ea55968e9c3b4e2
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Dec 16 16:42:37 2016 +0100

    Add a method to regenerate XFS' uuid
    
    This is needed when creating snapshots of the file system that can be mounted at
    the same time as the original file system. If both have the same UUID, the
    second mount fails (well, unless 'nouuid' option is used).
    
    Related: rhbz#1413942

commit 2aa5f37d158048362ea8f3285d78f074860e4d04
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jan 16 16:53:29 2017 +0100

    Properly unset mountpoint of a snapshot's format
    
    It's _mountpoint and it should be None not "" because it is later checked as 'is
    not None'.
    
    Related: rhbz#1413942

commit 8309c10146d5773e875579d627be5b1d4d600a34
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jan 16 13:56:10 2017 +0100

    Update the snapshot's format's exists flag on creation
    
    Once the snapshot is created, it has a separate format. However, the format
    exists iff the origin's format exists at the moment when the snapshot is
    created.
    
    Related: rhbz#1413942

commit 94dd0eda2c5452f98bb0ad75cfbd503e6f6208bc
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Dec 19 17:22:20 2016 +0100

    Do not require origin to exist when creating snapshot
    
    Otherwise the user code cannot create the snapshot for a
    non-existing LV in the model to find out if it's even possible.
    
    Related: rhbz#1413942

commit 5945669716c0c7160e3fab8cfe12c02849721781
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Mar 20 16:19:35 2017 +0100

    Make padding smaller for existing thin pools (#1432012)
    
    Because when creating them we could have not know the metadata
    size and relied on the padding to provide enough space for
    it. Then for an existing thin pool, we know the metadata size and
    if we just sum it with the padding we can easily get over the
    VG's (free space) size resulting in a VG reporting negative free
    space.

commit f048b33720c57060bc23c2426ba7ca3d8f742124
Merge: a7f8a442 d303d3da
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Mar 17 12:02:24 2017 +0100

    Merge pull request #554 from vojtechtrefny/rhel7-branch_chunk-size
    
    Allow custom chunk size specification for MDRaidArrayDevice

commit a7f8a4428c698725f62414ea7abf5ee0143ffae2
Merge: 4257538a 9ac62113
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Mar 17 12:01:48 2017 +0100

    Merge pull request #555 from vojtechtrefny/rhel7-branch_linear-raid-fix
    
    Fix detection of linear MD RAID

commit 4257538a6b2cedacca2d400b1b5bc9195975dc8d
Merge: 99485557 1b36639f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Mar 17 12:01:01 2017 +0100

    Merge pull request #558 from vojtechtrefny/rhel7-branch_fix-biosraid-ignoredisk
    
    Use all ancestors when adding RAID disks to exclusiveDisks

commit 1b36639f1cdbcc3a3b7f5f33c9439948e8fa6e5f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 14 12:34:45 2017 +0100

    Use all ancestors when adding RAID disks to exclusiveDisks
    
    For some BIOS RAIDs the hierarchy of devices looks like
    [sdb, sdc] -> imsm0 -> md126 (= Volume0_0) so when adding Volume0_0
    to exclusiveDisks we need to check for all ancestors, not only
    parents, to add the disks to exclusiveDisks.
    
    Resolves: rhbz#1327463
    
    Submitted-by: Masahiro Matsuya <mmatsuya@redhat.com>

commit 9ac62113253cacb1a5924468dded555c38c2a652
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Mar 14 09:25:33 2017 +0100

    Fix detection of linear MD RAID
    
    'Linear' RAID class was missing 'nick' property causing Anaconda
    to crash with an AttributeError on system with a linear MD RAID.
    This also fixes same issue for the Container, Single and Dup RAID
    levels.
    
    Resolves: rhbz#1372414

commit d303d3da9ffec9c856ca0116f22d70b35855c199
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Mar 16 15:04:32 2016 +0100

    Allow custom chunk size specification for MDRaidArrayDevice
    
    Resolves: rhbz#1405141

commit 994855578500b7a5219d6643bee1022b827e1b56
Merge: 54999060 76a07f38
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Mar 13 08:56:49 2017 +0100

    Merge pull request #479 from vojtechtrefny/rhel7-branch_mount-symlinks
    
    Eliminate mountpoint symlinks when looking for mounted device

commit 876147e5cdc24ca800f687fbf5a1f95ff6d1ef5c
Author: Vendula Poncova <vponcova@redhat.com>
Date:   Thu Feb 23 10:07:38 2017 +0100

    Remove the useless method requiredDiskLabelType
    
    The method requiredDiskLabelType can be removed, because it is not
    needed anymore.

commit aad5acf0db661f75b573ee19642355364e73a838
Author: Vendula Poncova <vponcova@redhat.com>
Date:   Fri Feb 17 14:26:17 2017 +0100

    FBA DASD should use the msdos disk label type (#1214407)
    
    There can be created up to three partitions on FBA DASD with the msdos
    disk label type instead of only one, so we should prefer that.
    
    Resolves: rhbz#1214407

commit 549990606f2e0a329d51aee9dc46e11d1bcfc77c
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Thu Sep 15 15:41:22 2016 -0400

    New version: 0.61.15.59

commit e956b4310f3d0beb8fb9bd22b7e5671d95dc40bd
Merge: e2d2aa86 3e7188db
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 15 14:29:20 2016 -0400

    Merge pull request #508 from vpodzime/rhel7-thpool_meta_padding
    
    Fixes for thpool padding and metadata on rhel7-branch (rhbz#1374499)

commit 3e7188db81966a46d31df02629a4a412e900f848
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Sep 14 15:33:54 2016 +0200

    Properly calculate thin pool's vgSpaceUsed
    
    Using the superclass' vgSpaceUsed as the source value for padding calculation is
    wrong because that contains cache size, metadata size, etc. Let's just use the
    pool's size as the source value and add all the extra stuff on its own.
    
    Related: rhbz#1374499

commit 8d66bffefb5f4b1fe7cdddc76928c6192233d081
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Sep 14 15:32:01 2016 +0200

    Remove cache and metadata space from pool for an LVRequest
    
    These are not part of the LV's 'size' space and are not grown as parts the
    LVRequest.
    
    Resolves: rbhz#1374499

commit e2d2aa860683c783aaf3b6c4e9d3d438f89c39e0
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Sep 12 22:29:43 2016 -0400

    New version: 0.61.15.58

commit 475adcade9b2f69d9b2b5c7abe8f9ffea627f034
Merge: 1bc8dc12 dbe7a321
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 12 11:06:23 2016 -0400

    Merge pull request #488 from dwlehman/lvactivate-fail-rhel7

commit 1bc8dc124d64814e078d79326d043c5fb82a0335
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Sep 7 11:06:37 2016 -0400

    New version: 0.61.15.57

commit 3f9ede703ba7ce7d9b35f465a2f3c5b19d8d1aab
Merge: 96166c29 efd4aa03
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 7 10:31:11 2016 -0400

    Merge pull request #501 from dwlehman/rhel7-20160906

commit efd4aa033f4d2de07cc348200e16485321106297
Author: David Shea <dshea@redhat.com>
Date:   Fri Jan 16 13:35:26 2015 -0500

    Relax the blivet device name requirements.
    
    Allow ., .., and /'s in all kinds of btrfs device.
    
    (cherry picked from commit c093367586a6dcaaeb76eb26d7e818cc89ec0585)
    
    Resolves: rhbz#1259491

commit 2b55cd3bc8fac52ef3aca0b822f7abc11e31eb39
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 6 12:06:59 2016 -0400

    Do not include both size and percent in kickstart logvol cmd.
    
    Resolves: rhbz#1269124

commit 3382397779ece71a5dcc6cb1de19f90d17977beb
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 6 11:13:55 2016 -0400

    Ignore NVDIMMs at OS installation time.
    
    Resolves: rhbz#1334448

commit 96166c29604183d1efe67fd79f890157ff72eb16
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Fri Sep 2 11:10:20 2016 -0400

    New version: 0.61.15.56

commit 212e2367689b35e66321e110740c49300d4df77f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 8 16:45:52 2015 -0400

    Fix an overly inclusive regex in DeviceTree.resolveDevice.
    
    Also adds support for specifying partitions by bios disk, eg: 0x81p3
    
    Fixes #152
    
    (cherry picked from commit 5a1c2d62b51e5e0ee752ec782f5db5b6f223a07a)
    
    Resolves: rhbz#1288118

commit dbe7a321a09d296a552c216d3e2fe5790d6ae82b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 11 14:06:31 2016 -0400

    Don't crash if lvm refuses to activate an lv. (#1365758)
    
    Mark the device as not controllable, which should prevent further
    attempts to setup/teardown. It should still be possible to destroy
    the device.

commit 9862898069fe44f327a9d9e31a5e0181393fcc25
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Aug 23 15:32:15 2016 -0400

    New version: 0.61.15.55

commit c913a665eab31bd364f79efa812b257c42606679
Merge: 91f6f566 db52ecda
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Aug 22 14:14:42 2016 -0400

    Merge pull request #482 from dwlehman/md-partition-name-rhel7

commit 91f6f56676334d2f589fc3fd7ffa33f5e8bd0687
Merge: 2032b6e5 00f258de
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Aug 19 10:23:23 2016 +0200

    Merge pull request #448 from rvykydal/rhel7-branch-fcoe-cfg-dont-eat-newlines
    
    fcoe: don't eat newlines in /etc/fcoe/NIC-cfg target system config (#â¦

commit 2032b6e55844c341621a61b0b8d841596e9afd02
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Aug 9 20:30:36 2016 -0400

    New version: 0.61.15.54

commit cd2513829d97180a50fed6a93f22e09b5df8f247
Merge: add1c61c 8823a5d3
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 4 14:31:36 2016 -0400

    Merge pull request #470 from kellinm/bz1242666_RHEL7

commit add1c61c62c141349e505a26037a65ab92cb5a24
Merge: 173e0a6c 460d6f8b
Author: Samantha N. Bueno <snbueno@users.noreply.github.com>
Date:   Wed Aug 3 13:35:16 2016 -0400

    Merge pull request #480 from snbueno/1353667
    
    Check a device is a DASD before doing DASD-specific things. (#1353667)

commit 460d6f8b4301aa32ae85147afb242d239461a8ff
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Aug 2 14:32:08 2016 -0400

    Check a device is a DASD before doing DASD-specific checks. (#1353667)
    
    This will weed out non-DASD devices and prevent tb's occurring when we
    try to check for DASD-specific attrs.
    
    Resolves: rhbz#1353667

commit db52ecda98945cd8dd0ef3fa6e900aeff9a55676
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 2 09:12:34 2016 -0400

    Fix lookup of md partition's disk.
    
    Resolves: rhbz#1362161

commit 76a07f389368642c9f7fdad41d2a7dd95edbc548
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Aug 2 10:22:16 2016 +0200

    Eliminate mountpoint symlinks when looking for mounted device
    
    Resolves: rhbz#1322439

commit 173e0a6cfbfe09a524519f4c5ab0875ad03093c2
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Jul 27 14:27:42 2016 -0400

    New version: 0.61.15.53

commit 8823a5d3be6dde9ed5c6f49b164935d328ee0780
Author: Robert Marshall <rmarshall@redhat.com>
Date:   Tue Jul 26 16:31:31 2016 -0400

    Ensure biosboot shows up in kickstart (#1242666)
    
    Added support to detect the biosboot partition.
    
    The biosboot partition, unlike other bootloaders, is not considered a stage1
    device and is not mountable therefore it never actually showed up. Detection
    of the biosboot partition required a special case that does not impact the
    internal bootloader device properties which would have wreaked havoc
    elsewhere in the codebase.
    
    Resolves: rhbz#1242666

commit 3563a7ea9ce849e657257d00cac2388c15525581
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Jul 25 12:56:14 2016 +0200

    Suggest container names based on current hostname in installer (#1359631)
    
    We stopped setting ksdata's hostname from hostname looked up by anaconda (from
    dhcp or dns lookup) which is same as the current installer hostname in most
    cases, so use the current hostname for suggesting container names to keep
    former behaviour.
    
    Resolves: rhbz#1359631
    
    Related: rhbz#1290858

commit a0a15c9b82c1f74b24ca4e461293d2a8d7dfc0b5
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Jul 6 16:40:21 2016 -0400

    New version: 0.61.15.52

commit 9f815e018868b55732cdf71188d8bc7d07e19ba7
Merge: 0e1f45d4 40196d9a
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri Jul 1 10:25:07 2016 +0200

    Merge pull request #442 from vojtechtrefny/rhel7-branch_resolve-glob2
    
    Fix udev.resolve_glob to match device path too

commit 40196d9a39df73145f731d6eda962edd9bf7c14f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Jun 28 12:18:09 2016 +0200

    Add a method to determine if a udev device is a disk.
    
    Many things are represented as disks by udev, we have to define
    what is a disk in terms of what is not a disk.
    
    Related: rhbz#1200833

commit 00f258de8af28a4a8d73d26c4c335bbedc7d586e
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Jun 27 13:41:32 2016 +0200

    fcoe: don't eat newlines in /etc/fcoe/NIC-cfg target system config (#1350411)
    
    Resolves: rhbz#1350411

commit 0e1f45d4007d1b8c33ea09c38461a657b385bd53
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jun 24 17:35:28 2016 -0700

    New version: 0.61.15.51

commit 29fe26da5fb702e19e2e01ecc3351d296be1f283
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Mar 30 10:03:56 2016 +0200

    fcoe: don't use dcb for autoconnecting of bnx2x and bnx2fc (#1261703)
    
    Also use fcoemon instead of fipvlan for bnx2fc.
    
    Resolves: rhbz#1261703

commit e275942787c3960404650175dae9b1c83ea33333
Merge: 1ffa8453 460625de
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 23 12:39:40 2016 -0400

    Merge pull request #444 from dwlehman/bug-1262137
    
    backport minimal alignment fallback for bug 1262137

commit 460625dee159d332c610b7229eb1c31a472da506
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 9 17:01:55 2015 -0400

    Use minimal alignment as needed when allocating small partitions.
    
    (cherry picked from commit 3b4885e0501140e6fe0a76f523fc7ee99e47d83a)
    
    Resolves: rhbz#1262317

commit d2958373f101c3e70eda0b0c66dc16361211394b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 9 16:59:35 2015 -0400

    Add support for minimal alignment of very small partitions.
    
    This patch teaches blivet to use the minimal alignment if the optimal
    alignment's grain size is larger than the requested partition.
    
    Some disks export an optimal io size of 16 or even 64 MiB. Blivet
    always using the optimal alignment made it impossible to allocate
    a PReP partition (allowed size range 4-10 MiB) on these disks.
    
    (cherry picked from commit 93c805d74b6ee893e8f9cf59663207ffd45268c3)
    
    Related: rhbz#1262317

commit d2416fc64e077738fc4fa990d640d7a5319ea9ed
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 9 16:57:13 2015 -0400

    Add an error class for alignment errors.
    
    (cherry picked from commit e8865f87aedf88d9ea5514e9e71ca80c2c4942c4)
    Related: rhbz#1262137

commit 446aa8a65665b60ece67d01026ab23d0f9b7ad0f
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Jun 20 16:20:17 2016 +0200

    Fix udev.resolve_glob to match device path too
    
    Related: rhbz#1200833

commit 1ffa845336a9462c60d9aaa9b89f0d4ce6757fbb
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jun 14 16:05:41 2016 -0700

    New version: 0.61.15.50

commit 2e81ecf71070ba2ce14135c3162620a6265f7e9c
Merge: ca7dadc8 5c5a2718
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 14 16:18:56 2016 -0400

    Merge pull request #439 from dwlehman/pull-435-followup

commit 5c5a271878d2834abf655316e176d4ae4ffc89a2
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 14 10:02:59 2016 -0400

    Fix unit arg name in Size.roundToNearest call.
    
    Related: rhbz#1257997
    Resolves: rhbz#1346154

commit ca7dadc88e9b059dce164e9e8655ac95be99c316
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jun 10 16:48:57 2016 -0700

    New version: 0.61.15.49

commit b5c02df8b86616f1c5e7aa51aa30a0e7ed39ecd7
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 12 09:09:38 2016 -0700

    Ignore errors activating unknown swap partitions (#1330763)
    
    When installing alongside other systems (eg. Debian) their swap may not
    be usable so ignore any UnknownSwapErrors that happen while activating
    swaps.
    
    Resolves: rhbz#1330763

commit 7151bbc556018f1385cbab9e734a7fd1339df0ea
Merge: 55df623c cb7d4c45
Author: Samantha N. Bueno <snbueno@users.noreply.github.com>
Date:   Thu Jun 9 14:54:11 2016 -0400

    Merge pull request #435 from snbueno/1257997
    
    Round down to nearest MiB value when writing ks parittion info. (#1257997)

commit cb7d4c45acc2d1180adc7d21f462b4b8bb937a9b
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Jun 8 13:47:40 2016 -0400

    Round down to nearest MiB value when writing ks parittion info. (#1257997)
    
    On s390x in particular, some partition alignment issue is causing fractional
    sizes to be reported. Pykickstart doesn't take anything except int values for
    partition info, hence the call to roundToNearest.
    
    This change only affects the data that is written to ks.cfg.
    
    Resolves: rhbz#1257997

commit 55df623c71a42b6f842a8844ca3a780e4ddc47f5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jun 3 17:05:36 2016 -0700

    New version: 0.61.15.48

commit 1c3acc005b6d323d2449b88637956d466d338980
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri May 27 14:58:15 2016 -0700

    Make sure the DM path exists before setting status True (#1325707)
    
    When a LV is on top of a RAID, and the RAID is not fully synced, it
    appears that it can take a significant (1s or more) amount of time for
    the LV's path to appear under /dev/mapper, causing problems when trying
    to immediately wipe the filesystem from the LV before tearing down the
    LV, VG, PV and RAID.
    
    So, this adds a check to DMDevice.status make sure the path exists
    before returning True.
    
    Resolves: rhbz#1325707

commit b61d003b03cea45165b3ef9ad37a23438c39c301
Merge: 3e60250d a23a733e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 31 15:20:08 2016 -0400

    Merge pull request #428 from dwlehman/unsupported-disklabels-rhel7
    
    Improved handling of corrupt or otherwise unsupported disklabels (rhel7)

commit 3e60250d3fa88169ab9687c32d222f8fd2385293
Merge: 69a6bf32 6e5d9dfb
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 31 11:51:15 2016 -0400

    Merge pull request #430 from dwlehman/rhel7-20160520

commit 69a6bf32144a34fd481cb5c4663ff2025f729c3c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri May 27 17:20:44 2016 -0700

    New version: 0.61.15.47

commit 3a36be62b7882275ee4f6d4e8b998a45a383e759
Merge: 627b0abc 7bd5bcc0
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri May 27 15:38:54 2016 +0200

    Merge pull request #426 from vpodzime/rhel7-incomplete_vg_name
    
    Remember VG name even if it seems to have no PVs

commit 627b0abc2fc03030e7a5dad684f53d925a0bb1e4
Merge: c21b765b 52afc8c6
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Fri May 27 11:38:11 2016 +0200

    Merge pull request #425 from vpodzime/rhel7-no_internal_lvs
    
    Do not try to add internal LVs (#1271665)

commit a23a733e70f647bc0c5916135ac9fa8b8ec0201c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 26 13:36:59 2016 -0400

    Try harder to identify a partition's disk when necessary.
    
    (cherry picked from commit 707f061160dcb1b7a5b5d6cdf9d08bc78232ef33)
    
    Related: rhbz#1266199
    Related: rhbz#1294081
    Related: rhbz#1310533
    Related: rhbz#1334156

commit 5524f5ef6ec4a3d006cae5f143b1a7e66a48a5dd
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 25 14:22:55 2016 -0400

    Add some fallback methods for finding a partition's disk.
    
    (cherry picked from commit e9cf1a43f4b3117bc642af5191c5c97e59f2f2fe)
    
    Related: rhbz#1266199
    Related: rhbz#1294081
    Related: rhbz#1310533
    Related: rhbz#1334156

commit 40ae6c70271a6ec8505178896afccdc39b6e9a24
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 4 11:56:21 2015 -0500

    Add kwarg to udev.resolve_devspec to return canonical device name.
    
    (cherry picked from commit a28d3c96ac63248230ac099992d593af985259ef)
    
    Related: rhbz#1266199
    Related: rhbz#1294081
    Related: rhbz#1310533
    Related: rhbz#1334156

commit 870f101db776551ff1ab32307ed6de921004302f
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 10 15:29:38 2016 -0400

    Don't let unsupported or broken disklabels get in the way.
    
    Even if we won't have proper support for the disklabel we can at
    least have a complete view of the storage layout, which will make
    it possible to completely clear the disk if asked to.
    
    Resolves: rhbz#1266199
    Resolves: rhbz#1294081
    Resolves: rhbz#1310533
    Resolves: rhbz#1334156

commit 2ff27d6435f2a946da232f88d8d6d57203516bf2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 26 13:40:39 2016 -0400

    Convert device_get_dm_partition_disk to not be dm-specific.
    
    (cherry picked from commit 0b4e435e14768785cf0f994d8aa54d7fa317ec15)
    
    Related: rhbz#1266199
    Related: rhbz#1294081
    Related: rhbz#1310533
    Related: rhbz#1334156

commit 7c236a04fee0d5818b2db24fc055a1e5439d4282
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 6 12:34:00 2014 -0600

    Add a tearDown method to StorageTestCase.
    
    (cherry picked from commit c31358ad0f9884527c8593bbaf0e73668e92f113)
    
    Related: rhbz#1266199
    Related: rhbz#1294081
    Related: rhbz#1310533
    Related: rhbz#1334156

commit c21b765bc74596258de2ae9e8c96a8de48c48ff3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed May 25 16:57:14 2016 -0700

    New version: 0.61.15.46

commit 7bd5bcc0ea20f5a6f18abd80f6f8af30bbea1b68
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon May 23 10:24:04 2016 +0200

    Remember VG name even if it seems to have no PVs
    
    If udev knows about some VG (or more precisely LVs from such VG), but we don't
    see any PVs of that VG, we still need to remember the VG's name because trying
    to create a new one with the same name would/could result into a failure as LVM
    may know (better) about the VG.
    
    Resolves: rhbz#1245038

commit 523f15e34e37edc916c2135c3c3b43d1d0c0aefe
Merge: 8ce221ee 313b6542
Author: Samantha N. Bueno <snbueno@users.noreply.github.com>
Date:   Fri May 20 15:46:40 2016 -0400

    Merge pull request #424 from snbueno/1233438
    
    Fix a typo when checking whether we're using an FBA DASD. (#1233438)

commit 8ce221ee26f537b768d4a0ca42c9070b8da5caf1
Merge: e71c3e20 ab2c4867
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 14:51:52 2016 -0400

    Merge pull request #381 from kellinm/bz1242666_RHEL7
    
    Kickstart missing bootloader partitions (#1242666)

commit 6e5d9dfba1ad454a3baaaea95b4f51bab6d15396
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 20 13:20:04 2015 -0500

    Continue with recursive teardown beyond inactive devices.
    
    We want to continue to recursively deactivate the parents even if
    the current device is inactive, but we don't want to run the
    _postTeardown method of a device we're not deactivating.
    
    (cherry picked from commit 49e515f2e8b62ce0c4f3f173af3e8e4610e1475e)
    
    Related: rhbz#1182229
    Resolves: rhbz#1322981

commit 3cf3076d137fecd0ee41116d6244d5998d703b20
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 12:31:47 2016 -0400

    Revert "Do not break the chain when an inactive device is torn down recursively"
    
    This reverts commit a909ea38d2ecca6951ca7ac167110d85567a844f, which had
    the unfortunate side-effect of causing us to actually try to deactivate
    inactive devices when doing a recursive teardown. It generally didn't
    hurt anything, but it made the logs really hard to follow and it made
    them look as though we don't know what we're doing.
    
    Related: rhbz#1322981

commit 65e9afc365292abc792c75c0afdf2a2a0c7c0227
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 12:48:13 2016 -0400

    Don't traceback if we fail to examine an md member.
    
    (cherry picked from commit ac8cae4388f33661c3311170012aaa9d7b8434ac)
    
    Resolves: rhbz#1196666

commit 9dec8b6f8887de5eac15dbd2e2d3d30537202ad7
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 12:25:25 2016 -0400

    Disklabel commit errors can occur for disks, too.
    
    DiskLabelCommitError can happen when committing changes to
    a partition or when committing changes to the disklabel
    itself, so we have to be careful how to get the list of
    related disks.
    
    (cherry picked from commit 24f401b55069ac53459cc5701a0c61c063ce9019)
    
    Resolves: rhbz#1192571

commit e71c3e202f0673f399b35efc11973befe87acb67
Merge: 7e7f8851 033b9426
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 10:43:43 2016 -0400

    Merge pull request #391 from kellinm/fix_fs_support_check_RHEL7
    
    Fix blivet constructor fs support check

commit 7e7f8851f4f6669be325ac6e48fd5ace185135d6
Merge: cc499a85 a7b50c8b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 20 10:42:52 2016 -0400

    Merge pull request #389 from kellinm/add_xfs_to_default_filesystems_RHEL7
    
    Add xfs to default filesystem types

commit 52afc8c690563e249bbd2b3ae00d1c87f0cf9e78
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri May 20 15:23:17 2016 +0200

    Do not try to add internal LVs (#1271665)
    
    Internal LVs can have their own internal LVs (e.g. RAIDed thin pool
    metadata). We don't add the "top-level" internal LVs to DeviceTree when
    iterating over them so let's do the same when their own internal LVs are being
    analyzed.

commit 313b6542610fec8865303a4a58405899a130c1e8
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed May 18 12:48:14 2016 -0400

    Fix a typo when checking whether we're using an FBA DASD. (#1233438)
    
    Resolves: rhbz#1233438

commit cc499a8580a76d73081eb32afb2c4cb337edbdb6
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri May 6 17:31:40 2016 -0700

    New version: 0.61.15.45

commit 8001aa349e29e9c7ab11fa8d619e13cc234662ca
Merge: f77d6128 0ae3b31e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Fri May 6 15:35:01 2016 +0200

    Merge pull request #393 from vojtechtrefny/rhel7-branch-btrfs_rescue
    
    Fix root detection on btrfs in rescue mode

commit a7b50c8b06375fd8c32d034114e051046b9ffbc4
Author: Robert Marshall <rmarshall@redhat.com>
Date:   Mon Apr 25 13:30:36 2016 -0400

    Add xfs to default filesystem types
    
    XFS is the default filesystem type for several of the current linux
    distributions. It should be included as a potential default filesystem
    type in the constructor list.
    
    Related: rhbz#1242666

commit 0ae3b31eef343e1e33bd42295cce4ff61c9fed16
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Apr 28 11:29:29 2016 +0200

    Use device's mount options when mounting existing systems
    
    E.g. 'subvol=...' when mounting btrfs subvolumes.
    
    Related: rhbz#1250011

commit bb5dae60d862366d1106af2c429d657e0e59289e
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Apr 27 15:05:57 2016 +0200

    Fix root detection on btrfs in rescue mode
    
    Mount btrfs volumes during rescue mode (to get list of its
    subvolumes) and include non-leaf btrfs subvolumes when looking for
    root devices.
    
    Resolves: rhbz#1250011

commit f77d6128a01282400c2bf208017a4b05297f53ba
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Apr 27 17:18:25 2016 -0700

    New version: 0.61.15.44

commit 033b9426cecf00ff5d29a3d00e9abdbdd2f74c4a
Author: Robert Marshall <rmarshall@redhat.com>
Date:   Fri Mar 11 16:23:55 2016 -0500

    Fix blivet constructor fs support check
    
    Calls to get_default_filesystem_type check to see if the filesystem is
    supported by the installed operating system. The boolean flag that
    indicated support was actually returning an instance of the property
    object which, when cast to a boolean type, is always True.
    
    Converted to call the actual boolean property and made the error handler
    return False instead of None for consistency with the property.
    
    Related: rhbz#1242666

commit b96280bed018fd79f2d9b7bbe7d49d143784ed80
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 12 10:10:14 2015 -0500

    Ignore unused memo_dict arguments in __deepcopy__ methods.
    
    Related: rhbz#1267944
    
    (cherry picked from commit 6f9dd6ed7307ada7633c0caff9edeba943cd3426)

commit f8788d2e3618f8a42a45519ee8325f30791ecb12
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Oct 7 12:23:59 2015 +0200

    Do not create a copy of singleton objects
    
    They are singletons and thus should only exist in single instances.
    
    Related: rhbz#1267944
    
    (cherry picked from commit 7d4a5d4a7dff62a77a7d04cf44fb3a7f08c687f9)

commit 2d14a994972df7d5ce93e9113ad4dcca39baeb18
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Apr 21 17:03:52 2016 -0700

    New version: 0.61.15.43

commit ab2c48677bff840033e046ad19a847ec83db83ff
Author: Robert Marshall <rmarshall@redhat.com>
Date:   Fri Apr 15 13:55:15 2016 -0400

    Kickstart missing bootloader partitions (#1242666)
    
    Blivet generates the information about user defined custom partitioning
    that is used in the kickstart file. The output was missing the biosboot
    and prepboot data rendering the kickstart unusable for automated
    installation using the generated file.
    
    Added code and unit tests to add and verify the presence of the
    bootloader device in the generated kickstart data.
    
    Resolves: rhbz#1242666

commit 68244aa5a6dabefe0a046ec6281c654cf60d33c3
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Apr 19 10:18:28 2016 -0400

    Increase the default size of /boot to 1 GB. (#372)
    
    This provides more space to store yet more kernels.
    
    Resolves: rhbz#1270883

commit 7b2ea6983a62566c6870cb067b95388356c415f7
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Apr 14 16:56:10 2016 -0700

    New version: 0.61.15.42

commit 58b023c86afa3b5847acdf61676e1854231992c5
Merge: 763a5d64 7967bb05
Author: Will Woods <wwoods@redhat.com>
Date:   Wed Apr 13 13:44:24 2016 -0400

    Merge pull request #241 from wgwoods/rhel7-no-lvm-autobackup
    
    suppress LVM autobackup during image installs (rhbz#1269144)

commit 763a5d64a00f7a2e37d0ff9a9a4477e8572321a8
Merge: c7077919 1c93c456
Author: Samantha N. Bueno <snbueno@users.noreply.github.com>
Date:   Tue Apr 12 11:56:06 2016 -0400

    Merge pull request #356 from snbueno/1031589
    
    Fix traceback when writing dasd.conf (#1301589)

commit c70779194daf1ed43a5c03529e2ee088762855f9
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Apr 8 09:33:18 2016 +0200

    iscsi: allow installing bootloader on offload iscsi disks (qla4xxx) (#1325134)
    
    Related: rhbz#1325134

commit de40764141a7624e95ea9b109466bfe464cbfcdc
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Apr 8 17:41:53 2016 -0700

    New version: 0.61.15.41

commit 1c93c4565b45411acea688ccab9b40abac788a7f
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Apr 4 18:21:55 2016 -0400

    Fix traceback when writing dasd.conf (#1031589)
    
    If using only FBA DASDs during installation, anaconda crashes when writing
    dasd.conf (more specifically, when running the check to see if there are any
    hyperPAV aliases). So, check for the existence of
    /sys/bus/ccw/drivers/dasd-eckd and just return early if it doesn't exist.
    
    Resolves: rhbz#1031589

commit 5a7eafc13553bd2d59a3078cfe20cb96b4c7e894
Merge: 4a9a5449 9e145431
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Apr 7 15:41:49 2016 +0200

    Merge pull request #358 from vpodzime/rhel7-lvm_on_raid_reserved
    
    Port LVM on RAID space calculations fixes (#1284660)

commit 9e1454317a587819b9c5fc07d4803c7e801dd854
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Aug 31 14:59:19 2015 +0200

    Account for bigger LVM meta data due to alignment on MD RAID
    
    As explained in the inline comment LVM aligns data and meta data according to
    the underlying block device. In case of a MD RAID device where typically a
    512KiB chunks are used, this may result in twice as big space allocated for meta
    data as if a plain partition was used. Since the default size is 1 MiB, we can
    safely just use a double size in case an MD RAID device is used as a PV because
    we can be at most 1 MiB and thus one extent off in the end which is okay.
    
    (cherry picked from commit 4239cb86014264a52f7055f8a6fee7b9c3c831cc)
    
    Related: rhbz#1284660
    
    Conflicts:
        blivet/devices/lvm.py

commit eef1f5fb6853fab6428cc4da82da1df27cbed94e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Aug 31 13:09:35 2015 +0200

    Calculate the MD RAID superblock size from the right size
    
    libblockdev inherited from blivet a very precise algorithm to calculate MD RAID
    superblock (meta data) size which was taken from the mdadm's sources. However,
    in mdadm, this algorithm is applied to a size of a single member device not the
    size of the whole RAID. Which makes sense, because the superblock area is on
    every member and it contains meta data about that particular member. Thus we
    need to pass the size of the smallest member device to the algorithm calculating
    the superblock size, not the total size of the whole RAID.
    
    Related: rhbz#1284660
    
    (cherry picked from commit 716d9627e08912a993f759601f3c70b89cd082bf)

commit 39562f956b569906eff409cd31a5b4464c8ed7e4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 26 08:28:08 2015 +0200

    Do not reserve extra space for metadata in a VG with RAID PVs
    
    Reserving 5 extents per disk per LV for metadata if a VG is on top of RAID PVs
    is a weird magic that saved us troubles with placing LVM on top of RAID, but
    even at the first glance it's just wrong and doesn't make sense. LVM doesn't
    allocate any extra meta data if an LV is added to a VG (unless it is a meta data
    LV of course) and the RAID device below it (the PV) is just a block device with
    some size and no matter how many disks are below, the meta data space used by
    LVM is just subtracted from the RAID device's (PV's) size. Moreover the LVM
    extent size has nothing to do with the RAID device so it's like mixing apples
    and oranges.
    
    If things don't fit we need to tweak our calculations of free space/size in/of
    an MD RAID device (depending on the level and underlying disks) since that's the
    only place where these tweaks really make sense. However, after quite a lot of
    testing it seems that we are reserving more than enough space for the meta data.
    
    (cherry picked from commit cfad323514a42fffccc54a60c92fede4c8368679)
    
    Resolves: rhbz#1284660
    
    Conflicts:
        blivet/devices/lvm.py
        blivet/partitioning.py

commit 4a9a54491da6f8815241642dde287e120a2d9bf7
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Apr 1 17:06:24 2016 -0700

    New version: 0.61.15.40

commit fe88d24d884c9861087e8eb4ee12537a8cc2228c
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 22 10:19:01 2016 -0400

    Fix the _bytes string list
    
    The start of the list of is supposed to be the upper and lowercase
    versions of the abbreviation for 'byte', not both cases at once.
    
    Related: rhbz#1314301

commit ae014f6be8cc3566fd63b07dfd5efe18c3d9cf11
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Mar 18 20:21:23 2016 -0700

    New version: 0.61.15.39

commit a5fc2cf6c8dcc1ec877e377b288a8d0fc00d2fe5
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 8 11:08:27 2016 -0500

    Fix the parsing of translated sizes.
    
    Use only one translation for "B" and "b" to mean bytes. This way partial
    translations will not cause problems when attempting to parse a size
    string after it has changed case.
    
    Resolves: rhbz#1314301

commit 720a3fc1406df9522e2d2849aac94881d8c96a42
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Mar 1 17:40:51 2016 -0800

    New version: 0.61.15.38

commit 6c7142893c2e73e4c98b00c9acd155a973831a8c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 2 16:55:37 2015 -0700

    Switch to using rd.iscsi.initiator (#1268315)
    
    Deprecated dracut argument.
    
    Resolves: rhbz#1268315

commit 52b37125ee3eea4a4201c631394f63a3fea809d1
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 17 15:24:34 2014 -0600

    Use _netdev mount option as needed. (#1290046)
    
    The intention is to pass the option as needed when mounting filesystems
    in addition to putting it in /etc/fstab.
    
    (cherry picked from commit 39bbea13f22c6137625d55cd4902f09be6dc032c)
    
    Resolves: rhbz#1290046

commit 2b550f540dd44157a0214c2cb73303cb72b7c383
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 21 08:51:29 2015 -0700

    Fix the changelog message for udev deadlock fix.
    
    It had the wrong bz# which caused much confusion for the last build.
    
    Related: rhbz#1272113

commit ec0e2bb1f468725012a0bf303f7432c05e9a49e1
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 16 17:32:43 2015 -0700

    New version: 0.61.15.37

commit 01d726fda5f4aacd507ddf479c081ef3a74913b8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 16 08:31:35 2015 -0400

    Bypass util.run_program to avoid logging deadlock.
    
    (cherry picked from commit b9b86c485cce1d6d7ffaa64aa4220cdbbcfba56c)
    
    Resolves: rhbz#1272133

commit 5dd89c3cd4c25823408b27729699fdfaf5e5bcb6
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Oct 13 17:17:31 2015 -0700

    New version: 0.61.15.36

commit dd02cb82791a9c455431e8ff7792e60f0dd9f893
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 9 16:53:32 2015 -0400

    Add a udev settle call after instantiating parted.Disk.
    
    udev sees parted close a rw fd to the disk (in this case an md fwraid)
    and tries to be helpful by telling the kernel to re-read the partition
    table. That causes the partitions to disappear briefly, which can be
    problematic.
    
    (cherry picked from commit 5724d17e655f87479ce741296551a72d11901cf9)
    
    Resolves: rhbz#1267858

commit 7967bb0515e914db90e51f1f97d42e6cb3b0bc54
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 17:47:30 2014 -0400

    Disable LVM autobackup when doing image installs (#1269144)
    
    If we're doing an image install, the host system doesn't really care
    about the metadata for these volume groups - and if you do a lot of
    image installs (say, on a build system) the archive/ directory is going
    to grow without bound.
    
    So: suppress the autobackup behavior during image installs to prevent
    modifying things on the host.
    
    (cherry picked from commit 817eeeb85b4a476e6f92f8646c027846f817904a)
    
    Resolves: rhbz#1269144

commit 8a74a184fbf032ab5bc19a833f541cae1bf8ca56
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 17:36:19 2014 -0400

    Add attribute 'flags.lvm_metadata_backup'
    
    This adds a flag which - if set to False - will suppress the automatic
    backup of LVM metadata by adding the appropriate configuration options
    (backup.backup=0 and backup.archive=0) to all invocations of LVM.
    
    It also adds a test case to ensure this actually works.
    
    (cherry picked from commit 8cf6de18f1f332e5d3bd60bb0ca9fe8425172955)
    
    Related: rhbz#1269144

commit fe08b0c48e3a2360b11f7aac17020e8756e1755a
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 16:14:01 2014 -0400

    devicelibs.lvm: refactor _getConfigArgs()/lvm()
    
    Every place in devicelibs.lvm that executes lvm uses _getConfigArgs()[1] to
    help build the argument list. So it'd be cleaner and simpler if we made
    every call to the lvm binary go through lvm(), and then just called
    _getConfigArgs() from there.
    
    This also means we can pass the caller-requested lvm command+arguments to
    _getConfigArgs(), so it can examine them and add appropriate config options
    for us.
    
    For example: right now the caller has to explicitly request
    read_only_locking if it wants read-only locks. The current code does that
    for every call to the informational commands (lvs, pvs, vgs, etc.).
    
    This change moves that logic into _getConfigArgs(), which now just
    automatically does read-only locking whenever we call one of the info
    commands. Much simpler!
    
    Mechanically, this patch should only make the following changes:
    
    * make _getConfigArgs() do read_only_locking automatically when needed
    * make lvm() call _getConfigArgs() for every lvm command
    * remove all other calls to _getConfigArgs()
    * remove all calls to the `lvm` binary that don't use lvm():
      * add (capture=False, ignore_errors=False) kwargs to lvm
      * replace `util.capture_output(["lvm"] + args)` with
        `lvm(args, capture=True, ignore_errors=True)`
    
    This should result in no actual behavioral changes.
    
    [1] except thinsnapshotcreate(), but that was an oversight (which is
    therefore fixed by this commit)
    
    (cherry picked from commit 6c24bb25fddd3333592ae37bc3379e25f08fc3f5)
    
    Related: rhbz#1269144

commit 23f570e508d1fc1504a5b43f145e3fbc162e6f92
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 17:16:46 2014 -0400

    lvm_test: refactoring + minor fix
    
    Factor out a LVMAsRootTestCaseBase so we can more easily add new
    functional test cases.
    
    Also fix a buglet in tearDown where a failed pvremove() could make us
    exit the loop without finishing.
    
    (cherry picked from commit aa0b60affda67bc1c45cf3c22229448156441f80)
    
    Related: rhbz#1269144

commit f210d56e0d6c7aaf676ce59d88ce59d298aba7d9
Author: Will Woods <wwoods@redhat.com>
Date:   Tue Sep 23 16:39:30 2014 -0400

    devicelibs.lvm: fix pvmove(src, dest=DESTPATH)
    
    args.extend(str) will treat the str as iterable and append each
    individual character to args; should be args.append(str).
    
    (cherry picked from commit 0a3bf71fb5c5181e5dde0f03189a9015a9bfd41e)
    
    Related: rhbz#1269144

commit cd8e2211475d6d7630206daac64771062bb3475b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 7 07:26:51 2015 -0700

    New version: 0.61.15.35
    
    Include new translations.

commit 92256694f1165a28db835c6618547a4ec71141d0
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Sep 29 16:47:36 2015 -0700

    New version: 0.61.15.34

commit 8e0c82664c207e3aa388efcfa80f224d8f7bcc90
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Tue Sep 29 09:47:36 2015 +0200

    fcoe: fix -fcoe suffix of vlan devices created by fipvlan (#1265946)
    
    Resolves: rhbz#1265946
    
    Fallout of moving to fcoemon patch
    commit 2ed433f1d906accf4f77660ce0ff036797f43662

commit 953961b38dea64e771abb91f2a9efbf792e460d4
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Sep 25 18:22:47 2015 -0700

    New version: 0.61.15.33
    
    Include new translations.

commit a68331895566644a51c09c8dbbda21f97f3eb42d
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Sep 24 16:34:12 2015 -0700

    New version: 0.61.15.32

commit 1ce583e009d01781397f2965f6d99877223aa1a6
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 15 11:24:29 2015 -0400

    Wait for auto-activation of LVs when lvmetad is running. (#1261621)
    
    When lvmetad is running, activating the last PV in a VG will trigger
    automatic activation of the LVs. This happens asynchronously, however,
    so we have to just wait for it to be done. Since it is possible to
    configure which VGs/LVs get auto-activated, we only wait for 30
    seconds. After that, we will try to activate the LV ourselves.
    
    (cherry picked from commit 6fc20d30bab3755e626d2ff02c7f3c77b923b170)
    
    Resolves: rhbz#1261621

commit f584c1f8543be25b29509c694bdf585d268efe79
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 22 14:21:20 2015 -0700

    Add a function to tell us if the lvmetad socket exists (#1261621)
    
    (cherry picked from commit 91bf114fe431a51f0d76588071801c046eaf67f3)
    
    Related: rhbz#1261621

commit 61cb45319c920135f53f45d18c66d71a03057552
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Sep 23 17:50:50 2015 -0700

    New version: 0.61.15.31

commit 7630522c6105086ff5f09121b55de061a527e856
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Sep 22 08:48:00 2015 -0700

    Handle sysfs size if it is missing (#1265090)
    
    sysfs paths may, for whatever reason, not exist. Return '0' for int()
    instead of None if this is the case.
    
    Resolves: rhbz#1265090

commit 10e595107df22dc8ff642e3c0f5fa91dacac73a3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Sep 22 16:43:24 2015 -0700

    New version: 0.61.15.30
    
    Include new translations.

commit 3f06f55b3faf80eeb2521832ff9ebf77fe7afc06
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Sep 17 16:47:21 2015 -0700

    New version: 0.61.15.29

commit e0b05a8832ad3b651f0a2759f14788994060a78a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 10 16:24:06 2015 -0400

    Mock up a parted.Device for openlmi-storage.
    
    StorageDevice.partedDevice was removed because instantiating parted.Device
    generates uevents, but openlmi-storage depends on some of the information
    it contains. To preserve API, we add these bits back.
    
    Resolves: rhbz#1238581

commit 9f986f37c3fdc6b6c962c614b05fc3164d5320bf
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Sep 15 16:44:16 2015 -0700

    New version: 0.61.15.28

commit b61d95e489c5b15558ed1fc6f813375a5d1c4140
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Sep 15 13:43:59 2015 -0400

    Minimize number of times storage.partitions is accessed. (#1155984)
    
    This is also a non-trivial culprit in causing disk partitioning to seem
    slow. Every time storage.partitions is accessed, getDevicesByInstance()
    is called, which, collectively, had significant overhead with high
    numbers of disks.
    
    Resolves: rhbz#1155984

commit 5504b81ed7ab6a0872fa0449bec3c626aa8048fa
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Fri Aug 21 13:25:40 2015 -0400

    Get rid of Size.__str__ calls in logging. (#1155984)
    
    This is a pretty big culprint in causing disk partitioning to seem slow
    to users, so change all the logging back to integer representation.
    
    Resolves: rhbz#1155984

commit 38bea15cff87befba4efce1a980fb54be55fba59
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Fri Aug 21 13:25:39 2015 -0400

    Only access storage.bootDisk once (#1155984)
    
    This just sets boot_disk right at the beginning of allocateParttions
    and calls that through the rest of the function. Otherwise,
    storage.bootDisk is accessed n times, where n is the number of disks
    present, calling one of various getDeviceBy$something each time.
    
    Resolves: rhbz#1155984

commit 9900a517718cf20cc0f685c0652ccefbac934502
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 14 10:20:00 2015 -0400

    Fix isDisk and partitionable properties for fwraid arrays.
    
    Related: rhbz#1197582

commit 1b6b386b75bf4e5badbfc7aa9154183df052e851
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 14 09:44:37 2015 -0400

    Require a non-empty member set for md disks.
    
    (Based on commit ea4eb1153ed0470a5aaff0e8ca5adce5952ec206)
    
    Related: rhbz#1197582

commit 0ef92cfde08e052459a04c887212de8289c9c05d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 11 16:13:16 2015 -0400

    Replace property decorator on PartitionDevice.resizable.
    
    Related: rhbz#1069597

commit 8f9f2255323ad16cc78dbd24a404e822c4312064
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 14 09:46:21 2015 -0400

    Update unit tests related to mediaPresent.
    
    Related: rhbz#1069597

commit 72b038695d66792166c5792c86cb44065dcff2b5
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 20 12:40:23 2015 -0500

    Account for recent lvm snapshot format changes in tests.
    
    (cherry picked from commit 8f60c535ef083583e96e57433bcea8e1f4e6de61)
    
    Related: rhbz#1113207

commit 0e4894c81cecd58e0bbe14539031a9f88f85cb5f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 20 13:21:56 2015 -0500

    Don't store UUIDs or labels of multipath members.
    
    multipath itself has absolutely no identifying metadata, so whatever
    metadata found on the member is related to the multipath set's
    formatting -- not the the multipath set itself (as is normally the case
    when metadata is associated with a member of a container/aggregate
    device). The same metadata should appear in the udev entry for the
    multipath, so we can (and should) ignore it in the members' entries.
    
    (cherry picked from commit d478f1fb4d68a3a342bed28b43ff34131f02850d)
    
    Resolves: rhbz#1254232

commit fad96f41696b649a342cdc4161c78a1b1745be66
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Sep 11 10:43:30 2015 +0200

    Try to do fsck if resize fails before giving up (#1251396)
    
    We may need to do fsck in many steps that go one after another -- getting FS
    info, getting FS' minimum size, resize. It's usually not needed to run the fsck
    multiple times so we could, theoretically, hold and check some "fsck_ran" flag,
    but would it always work? A more robust approach seems to be to try to run the
    FS operation and if it fails, try once more this time with a check first. We
    already do this when getting FS info and minimum size so let's do the same when
    doing resize.

commit 227ecf8c40b4ce81d2b3e4a2e3cc769889b21fe6
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Sep 10 16:48:41 2015 -0700

    New version: 0.61.15.27

commit e520d5739237d42332e97ebbc89120264c2246e2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Sep 9 09:23:08 2015 -0700

    Mount efivarfs during os installation (#1261559)
    
    Tools running inside the chroot need access to /sys/firmware/efi/efivars
    if it exists on the host. eg. efibootmgr
    
    Resolves: rhbz#1261559

commit 7ccf7d35044992af7b88684a3dd820fb9c9710c3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Sep 9 17:36:47 2015 -0700

    New version: 0.61.15.26

commit b8456771bf4a2ea409b10e6953724444b7936e05
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Sep 8 12:52:01 2015 -0400

    When handling implicit partitions, first check autopart was requested.
    
    Just assuming we're doing autopart by checking the autoPartType breaks
    the reqpart command.  I wouldn't be surprised if it breaks something
    else too.
    
    Related: rhbz#1164660

commit b8523c676d343fc0604b487561cfec493b822f09
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Sep 3 16:25:07 2015 -0700

    New version: 0.61.15.25

commit ba7e28a0c89c00fd8b8bf23189711b5c9ecd8549
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Sep 2 14:39:57 2015 +0200

    Duplicate VG names are problem even if their disks are ignored (#1198367)
    
    Even if user tells us we should ignore a disk that contains a VG with the same
    name as a VG on some not-ignored disk, it is a problem, because LVM has no idea
    about our ignored disks and thus fails to do things we need to do. More
    precisely, we tell LVM to filter the ignored disk out, but that only leads to it
    seeing a VG with no existing or not-ignored PVs which is no-GO for it.
    
    Signed-off-by: Vratislav Podzimek <vpodzime@redhat.com>

commit 9fd897e7cf831f3c1a10d1b9e8196aef360883af
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Sep 2 17:10:41 2015 -0700

    New version: 0.61.15.24

commit 49f8d65c716d78169f411845f724305c8d4f5a34
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 1 09:29:40 2015 -0500

    Add a method to list disks related by lvm/md/btrfs container membership.  (#1254548)
    
    (cherry picked from commit 6d1dd440fef601b582e9db25a7eb7fe6802d710c)
    
    Related: rhbz#1254548

commit 3665e566b8d341223d163ff338729e7dc8a6c901
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 1 09:25:07 2015 -0500

    Make getDependentDevices work with hidden devices. (#1254548)
    
    (cherry picked from commit 0fd7b79350d11fc6d8e1ad0b4f393a81b1db3e60)
    
    Related: rhbz#1254548

commit 68ae04efb2c1c5b69c1e891411b0c7f9ae0e0d0b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Aug 19 20:21:54 2015 -0700

    New version: 0.61.15.23

commit 2bb0239d81631c5acfb256de7a861142c84a47bf
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 19 14:44:34 2015 +0200

    Remove the cacheRequest kwarg for thin(pool) LVs (#1254567)
    
    Otherwise a traceback appears because thin(pool) LVs don't support this kwarg.
    
    (ported commit e4ba1bdf2cef72c67156bf1e63a4c3b01b1040df from master)

commit bccef1a97805bff2caba294db656a39d99df8e71
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Aug 18 18:25:04 2015 -0700

    New version: 0.61.15.22

commit ecf779c1bf9be0f57647ab39ea18aea4e2d97d43
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Aug 13 09:50:20 2015 -0700

    Add OSError to list of errors in updateSysfsPath (#1252949)
    
    One more error that pyudev can raise.
    
    Resolves: rhbz#1252949

commit c1479cc55d326e880f9442b74bd800f6fc4c4b77
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Aug 17 17:30:22 2015 -0700

    New version: 0.61.15.21

commit df0fc8e3cd993a3b61200b52bca578d3ec36c970
Author: David Shea <dshea@redhat.com>
Date:   Tue Sep 9 11:38:30 2014 -0400

    Add a property for read-only devices.
    
    Add read-only devices to the devicetree, and return read-only devices as
    protected.
    
    (cherry picked from commit c42a036f05550a7aa24e7b2617a364df70129c6a)
    
    This one got lost in the rebase.
    
    Resolves: rhbz#1250608

commit 2cc019975184e0cc4c8f3ac39be2d905cbe73907
Author: Brian C. Lane <bcl@redhat.com>
Date:   Sun Aug 16 11:38:01 2015 -0700

    New version: 0.61.15.20

commit 828ddb09535357a35bde6b3b18ae871bfe2c52ad
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Aug 14 09:44:26 2015 -0700

    Update dmdev size when setting up disk images (#1252703)
    
    The size needs to be updated after the sysfs path has been setup.
    
    Resolves: rhbz#1252703

commit e215a2945318b5fbfe13d6cea54271c0ea7ed1f6
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Aug 12 14:44:40 2015 -0700

    Setup LoopDevice's name before updating sysfs path (#1252703)
    
    The superclass also calls updateSysfsPath, setup the correct name so
    that the super call will work correctly.
    
    Resolves: rhbz#1252703

commit 1b2f81d4194f763c0a66bcddbda3f50931647d71
Author: mulhern <amulhern@redhat.com>
Date:   Tue Oct 7 14:19:50 2014 -0400

    Add likely to be raised exceptions to catch block (#1252703)
    
    Related: rhbz#1252703
    
    Signed-off-by: mulhern <amulhern@redhat.com>
    (cherry picked from commit 7f076316ed7961a37288d5f20c757434c9545939)

commit 98758cc9158a262176535deae596ecefd4472e66
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 14 13:33:54 2014 -0600

    Fix setupDiskImages when the devices are already in the tree. (#1252703)
    
    Related: rhbz#1252703
    
    (cherry picked from commit 9fef3b28dbd3097fbf8eb098a80ef213454b9bf3)

commit 675873111b1bd4b44a65e95667b5717cb484d925
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Aug 13 16:49:05 2015 -0700

    New version: 0.61.15.19

commit 2ed433f1d906accf4f77660ce0ff036797f43662
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Aug 3 16:09:16 2015 +0200

    fcoe: replace fipvlan with fcoemon (#1085325)
    
    Same as dracut (#1129888), we are moving to use fcoemon which provides more
    robust approach than fipvlan.
    
    Resolves: rhbz#1085325

commit a1c79e898e8e84038502c0953e10214dc734420f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Aug 12 17:07:28 2015 -0700

    New version: 0.61.15.18

commit 35efaaa6c82a842bc1e2e1d1c71bc79d7614462f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Aug 10 11:52:17 2015 -0700

    Partition requests may not have partedPartition (#1248973)
    
    Check for it and return, assuming the new size will be assigned to a
    disk with enough space.
    
    Resolves: rhbz#1248973

commit 64f76379710314adbad6edcb556719008a3f4f4f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Aug 7 18:01:30 2015 -0700

    New version: 0.61.15.17

commit c1c68173902177ef037c7d6f15287c5a24456cdf
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Aug 4 11:50:18 2015 -0400

    Fix some logical problems in write_dasd_conf (#1248949)
    
    First, don't continue to attempt writing /etc/dasd.conf if users are
    not on s390x _and_ there were no dasds used during installation. Not
    'or'.
    
    Second, self.dasd in blivet is empty for some reason(?), but
    devicetree.dasd contains the list of DASDs used during installation,
    so pass this in to write_dasd_conf.
    
    Resolves: rhbz#1248949

commit 3a899df740f679b113715333673d58a2327ed0e9
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 30 15:28:28 2015 -0500

    Remove unusable free regions from list when setting up growth.
    
    (cherry picked from commit c4c17843161443a6c8d151e06068d93f94b6b58a)
    
    Resolves: rhbz#1248487

commit ecfe9f6453ebe24112f27963403926fc3892de5c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Aug 6 16:34:09 2015 -0700

    New version: 0.61.15.16

commit 9bbf4c5dc30f291f7774e1c28c32b88cd1bd3579
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 7 08:41:37 2015 -0400

    Fall back on mdadm info if udev info is missing for the array
    
    If udev didn't supply the UUID of the array the device belongs to,
    which means it won't be found in the format's mdUuid, assume that
    mdadm got the correct UUID and use it and also assign it to the format's
    mdUuid.
    
    Otherwise, we may end up creating a new device when one is already in
    the device tree.
    
    Signed-off-by: mulhern <amulhern@redhat.com>
    (cherry picked from commit a6a8ce6120ea7bd214ebfe75a1a1a30ea989cf1d)
    
    Related: rhbz#1246003

commit 0a827bc77d73cc8ecd6da60603d976d797b53e55
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 30 15:52:29 2015 -0500

    Call superclass ctor a bit later to get size attrs set up first.
    
    (cherry picked from commit 2328e7d697e70548e49968ad58f7dcf2c0cd238c)
    
    Resolves: rhbz#1246003

commit c03acc4832c3d644994ec164e1933016f88aafac
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 30 16:05:19 2015 -0500

    updateSize for md containers is a no-op.
    
    (cherry picked from commit 1b8c9ca8411b7942921adfac5a5359abe6bc9204)
    
    Related: rhbz#1246003

commit 673ec052b745d4395e3220d4237ec349900981bf
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 13 14:03:57 2015 -0500

    Don't pass model to md fwraid constructor.
    
    (cherry picked from commit 13ce0f8c9c03a933a0d3b6d2ea3207fcc203daf0)
    
    Related: rhbz#1246003

commit 48e96ca9a62bdf5f6150232d4e8ae675f2d360db
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Aug 3 17:33:54 2015 -0700

    New version: 0.61.15.15

commit cd51f4ab3f786135acfc23c664416f07eec54426
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 31 15:19:03 2015 -0700

    PartitionDevice may not have a disk set (#1248973)
    
    When it is an implicit partition and hasn't been assigned a disk yet
    self.disk may be None, so skip checking the size against the disk when
    there isn't one.
    
    Resolves: rhbz#1248973

commit 74cb9578d8e5ef9e39f4102f421a3943291987ff
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 31 17:23:04 2015 -0700

    New version: 0.61.15.14

commit 95d11169896e2af7b2951f2359258dff53f2a33a
Merge: ef804a7f 55a5feca
Author: Brian C. Lane <bcl@users.noreply.github.com>
Date:   Fri Jul 31 16:56:17 2015 -0700

    Merge pull request #189 from rvykydal/rhel7-branch-fix-ixgbe-bnx2fc-fcoe-disks-detection
    
    Fix ixgbe/bnx2fc fcoe disk detection (#1248476)

commit ef804a7f149444c135c8f2e0518306bf1f7026c5
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jul 17 15:34:48 2015 -0400

    Don't pass createOptions along when creating the btrfs device.
    
    This only applies to the format, not the device.  Thus this needs to be
    popped off before passing the rest of the kwargs along.  This was found
    by kickstart_tests in anaconda.
    
    Resolves: rhbz#1248313

commit 55a5feca56e7be9474ed09d98a9fb4f1ec73c14c
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Thu Jul 30 13:39:02 2015 +0200

    Fix ixgbe/bnx2fc fcoe disk detection (#1248476)
    
    Resolves: rhbz#1248476
    
    Fixup of
    commit 0f986f932f7a9bcbd48b0b711e5b270a76b72083

commit 3ab95d4b7d53b1be038d03fd93d830a365af3a16
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Thu Jul 30 11:45:53 2015 +0200

    Pass a sysfs path to MultipathDevice constructor (#1245201)
    
    Cherry pick of master
    commit d2a27294a05b0c34bb6a69d3393cda1d17ae0a7
    
    Resolves: rhbz#1245201

commit cb8d6e355dd6144ce34cd8ebbbc6fc2b274a884c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jul 28 17:20:09 2015 -0700

    Remove a couple problem entries from changelog.
    
    Old bugs referenced in new commits cause problems when building.

commit 79d0375dc78086aaf7a64d223898072a47b044a9
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jul 28 16:55:27 2015 -0700

    New version: 0.61.15.13

commit c8de439c4c098c27f897b0deda541eb51c58f112
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 24 16:07:40 2015 -0500

    Enforce size range on factory fstypes (#1178884)
    
    Filesystem formats may have a maximum and minimum size value. Added a
    check to ensure factory targets fall within these size constraints.
    
    Cherry pick taken from master commit a800128.
    
    Resolves: rhbz#1178884

commit 51fdd10a081c55ef4d0287a1c2ee357310c82251
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 21 17:31:26 2015 -0500

    Fix obsolete format size constraints (#1178884)
    
    The format type may impose limits on the device size. Unset the format
    type prior to setting the device size and avoid constraints that may
    change when the format is set later.
    
    Cherry pick taken from master commit a5000d4.
    
    Resolves: rhbz:#1178884

commit 2a62afece420e3fef6185dac8f92e5455d3d92cd
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 15 16:37:53 2015 -0700

    New version: 0.61.15.12

commit f165057b6e89fd955da771e3534b1ec9ece2b44b
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jul 8 14:36:56 2015 -0400

    Fix two pylint problems.
    
    (1) is just pylint not liking something named "dir".
    
    (2) is a legitimate bug - it's disk.format.partedDevice elsewhere in this
    function.
    
    Related: rhbz#1233438

commit d26bbfea18fe013f5c86c4fdf111cf1dd0121ff3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jul 9 16:57:32 2015 -0700

    New version: 0.61.15.11

commit 66981585f116f81bdefa66d0d85947514e40a58e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 8 16:58:49 2015 -0500

    Add error handling around storageInitialize for unusable setups.
    
    (cherry picked from commit d218cb298e4a62ee22f08232f4d600572d06bce1)
    
    Related: rhbz#1236995
    Related: rhbz#1198367

commit 418a0dda319af0b8679a34741d7c9879b35748ff
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 8 12:34:46 2015 -0500

    Include suggestions in error classes for unusable storage configurations.
    
    (cherry picked from commit e44aaeeacdabd294793a5932cfbcfb97a752e5fc)
    
    Related: rhbz#1236995
    Related: rhbz#1198367

commit 4232aa4e11ec27fb8f6a0001e0a479681bf7b316
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jul 2 16:24:36 2015 -0700

    x-initrd.mount should only be set for /var (#1238603)
    
    Only add it to /var and only when /var is on a _netdev.
    
    Resolves: rhbz#1238603

commit 8ab17c85602d8c10ee73dbbf89836b46efdd047c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jul 7 16:37:16 2015 -0700

    New version: 0.61.15.10

commit 94308f40dff6393dc11f5cec7adfc71bfd15efb7
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Thu Jun 18 18:51:12 2015 -0400

    Add a function to devicelibs.dasd to detect LDL DASDs. (#1233438)
    
    Thanks to Peter Jones <pjones@redhat.com> for this addition.
    
    Resolves: rhbz#1233438

commit bbe124c94772cb3313a05e9a00a663f75084be55
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jul 3 07:49:51 2015 +0200

    Make sure devices are always torn down in findExistingInstallations if requested
    
    It's not that uncommon that findExistingInstallations() raises an
    exception. Even in such case we need to tear all devices down if requested. Also
    such exceptions should be just logged and not propagated as this function is a
    "best-effort" one.
    
    Related: rhbz#1182229

commit a909ea38d2ecca6951ca7ac167110d85567a844f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jul 1 10:21:07 2015 +0200

    Do not break the chain when an inactive device is torn down recursively
    
    If an inactive device is requested to be torn down recursively, we need to let
    the chain of actions continue because there might be active parent devices that
    need to be torn down.
    
    Related: rhbz#1182229

commit 71f77ec0e7f657a3e9bffd03b859e845b2598eb7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 29 17:15:07 2015 +0200

    Tear down all devices after finding existing installations
    
    When trying to find existing installations we setup and mount devices (to check
    if they have /etc/fstab). Setting a device up results in its parents being setup
    too (recursively) so when done we need to tear all/rest of the devices down so
    that they are not left activated as that could cause problems later (as for
    example in the bug where a thin pool was activated/setup on setup of a thin LV
    and never deactivated/torn down).
    
    Resolves: rhbz#1182229

commit 83c22152eb6f0cf374b7f5830b590da372367cba
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 1 17:12:55 2015 -0700

    New version: 0.61.15.9

commit d80381201c598786b8cedb92987525dc3a2a4169
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 24 08:48:21 2015 -0500

    Improve format handling for lvm snapshots.
    
    Non-existent lvm snapshots have a copy of the origin's format as their
    format. When an origin's format changes, all non-existent snapshots of
    that origin must have their formats updated as well.
    
    (cherry picked from commit 1c2d8a0b3633145b0528c4a0734e4ac7a7bffed8)
    
    Resolves: rhbz#1234454

commit 3b0ed2f5038c5d7de4e2ec1dc1ca6510b44b2c35
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 29 15:45:40 2015 -0500

    Don't crash on cleanup with DASDs or iSCSI devices present.
    
    (cherry-picked from commit f5361aa64d20fbe49759f22acb22a0048ed56066)
    
    Resolves: rhbz#1166506

commit a20b6e44856ee93e0bac68c831d3e616a8c33190
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 29 11:16:52 2015 -0500

    Fix handling of UUIDs for existing MD devices.
    
    Resolves: rhbz#1234333

commit bf89e0f8836b932b77d6b048cfd1885565ee14fe
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 28 11:14:04 2015 -0500

    Treat existing md arrays whose members are all disks like disks.
    
    Similarly, if all members of an existing array are partitionable
    the array is also partitionable.
    
    (cherry-picked from commit b07101d878df993d26d3d251881bf4c9efb4213f)
    
    Resolves: rhbz#1197582

commit d9506d0e713090956869270f1756aa982cd8ef19
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 15 16:04:31 2015 -0500

    Handle formatting immediately after adding devices from format handlers.
    
    If we don't do it right away the device could be looked up successfully
    and cause confusion due to inaccurate(missing) format data.
    
    This is only needed in the places where we add a new device from a
    format handler. The device additions from add*Device are not vulnerable
    to this issue.
    
    (cherry picked from commit 1d3fc688b504b329d9f19da530f52da314fc2ff4)
    
    Related: rhbz#1192004

commit a9d6c29f3ab9f645b38799c60bce335c1b0a3466
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 17 13:43:33 2015 -0600

    Be more careful about overwriting device.originalFormat.
    
    We don't want to overwrite it if addUdevDevice was called a second time
    for a device we've already added, since that would cause us to lose the
    real original format.
    
    (cherry picked from commit b3f28a2d1fcaeec768917ba6ef1b761423bc01d4)
    
    Resolves: rhbz#1192004

commit 9058322cc6d5edc3f56d3476016ee60787667276
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 29 15:09:04 2015 -0500

    Store vendor/model information for DiskDevice instances.
    
    Also make sure _model and _vendor attrs are never set to None in the
    StorageDevice constructor.
    
    (cherry picked from commit 067183942c97f432e739c979c4b1d7a9816eef06)
    
    Related: rhbz#1069597

commit 60e3a48592a39c807c84e2bb7472564ff235e31d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 7 09:26:48 2014 -0600

    Move mediaPresent out of Device and into StorageDevice.
    
    mediaPresent indicates whether a device node is backed by
    readable/writeable media. It is generally only meaningful for root devices
    (devices with no parents). There are only a few instances in which this
    is relevant: cdrom/dvd, card readers, md containers, and some goofy raid
    hardware that creates a zero-size block device node. If you need a general-
    purpose property to tell you if a device is available for general use, what
    you want is the device's status attribute.
    
    (cherry picked from commit 0d7c5749f4a48700ccfb2294fcaa7feab9e7dd49)
    
    Related: rhbz#1069597

commit 553e3e9690e47e5d7367a978a55ddb3d2eb7a2c9
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 5 16:42:37 2014 -0600

    Don't use parted.Device to obtain size info.
    
    Deleting a parted.Device causes parted to close its rw fd for the device,
    which triggers a change uevent on that device, which could in turn trigger
    any number of actions via udev rules. One example is when we reset a Blivet
    instance: All devices are deleted, including their parted.Device instances,
    which triggers a change uevent for every device. In response to these
    events, mdadm's udev rules activate all arrays on those devices. Activating
    devices -- even indirectly -- without cause, is not acceptable behavior for
    a storage library.
    
    This also adds a trailing comma to 1-tuples in variable_copy arguments.
    In my testing, ('foo') is the string 'foo' -- not a tuple with lone element
    'foo'.
    
    (cherry picked from commit 73d9c995c8d46f1aa248d1ade3bbb1838653b6b0)
    
    Resolves: rhbz#1069597

commit b6b5a35dc1d0e9892c081b3b6cca7774cb74a8c0
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 15 14:33:33 2015 -0500

    Align free regions before choosing one.
    
    By aligning the start sector of free regions we improve our ability to
    select an appropriate free region in which to place a new partition.
    When the start sector alignment is not taken into consideration the
    possibility arises that aligning the start sector will shrink the size
    of the free region below the requested size of the partition.
    
    (cherry-picked from commit 29340f9dc239dd007949c9a9effbedcf324de6aa)
    
    Related: rhbz#1181494

commit f9efea262afeb7f90b2cbf7c5a5d4599f082f464
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jun 15 13:49:28 2015 -0500

    Align partition sizes earlier in the allocation process.
    
    (cherry-picked from commit a64a0ef72d6d1fdd72581a5ac0ff2306dbeb3fcc)
    
    Resolves: rhbz#1181494

commit d26917977bfd259eb94ccd2503f10790dd436680
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jul 1 16:32:07 2015 -0400

    Fix a duplicate key caused by patch merging.
    
    Related: rhbz#1220898

commit d842d2b68f48929a8e2c588010582d9f31b41cc8
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jun 19 15:05:58 2015 -0400

    Add support for specifying arbitrary mkfs options.
    
    While we have support for fsprofile, that is only supported by the
    various ext* filesystems.  We have no way to support passing options for
    any of the other filesystems, including the default in RHEL.
    
    Resolves: rhbz#1220898

commit e0a895ddd772ccbed54244e3db18ed6c8f091370
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 25 16:20:30 2015 -0700

    New version: 0.61.15.8

commit d2f1e9a0796da4e548882f6c676554bbe895ca88
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Dec 17 14:17:34 2014 +0100

    LVMFactory: raise exception when adding LV to full fixed size VG (#1170660)
    
    Resolves: rhbz#1170660

commit 1ed9fd8af4d520fc38a0bcada32aeb7d8fff55fb
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Feb 2 13:56:11 2015 +0100

    Do not unhide devices with hidden parents (#1158643)
    
    Resolves: rhbz#1158643

commit 092053e34de9a2f252ccc1a120342f3350715564
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 22 20:17:06 2015 +0200

    Add support for creation of cached LVs
    
    Determining parameters of the cache automagically is hard, but if users tell us
    they want (some of) their LVs cached with all the required parameters for the
    cache, we can quite easily create cached LVs instead of plain ones. Doing so
    requires us to change our calculations a bit, but not in any hard or too
    invasive way.
    
    Related: rhbz#1120421

commit 6c97fc394c582aea4b3dafe3cae212c53e426cb7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 22 20:10:20 2015 +0200

    Recognize and process cached logical volumes
    
    When there's an existing cached LV we need to gather some basic information
    about the cache and ammend it to base/data LV so that it can report such
    information when queried.
    
    Related: rhbz#1120421

commit 09249b95252200922e3f2a851a9ffc9e1bfc1afc
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 22 16:52:26 2015 +0200

    Don't crash when processing cached LVs
    
    Just ignore the unsupported "sub-LVs" and consider cached LVs normal LVs.
    
    Related: rhbz#1120421
    
    (ported commit d3f8aa457939916b195846b79d0d33e64584e7f3 from master)

commit 7fdc28bcf6df877133d590256384de8c71c95865
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 22 17:46:41 2015 -0700

    New version: 0.61.15.7

commit 9998207f88321e1a90268118717c389a7dc13718
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 22 15:17:35 2015 -0700

    Require pyparted with exception handler support (#1188163)
    
    Related: rhbz#1188163

commit 95271e42e42b10db2ec350326d1fed428a692bcc
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 11 15:53:17 2015 -0700

    Use partially corrupt gpt disklabels.
    
    Tell pyparted to answer "yes" when libparted asks if we want to proceed
    using the secondary gpt disklabel in the event of a corrupt primary (or
    use the primary in spite of a corrupt secondary label). We only do this
    while populating the devicetree.
    
    We only do this if udev/blkid has identified the disk as containing a
    disklabel. This means we are going with the system's consensus as to
    which formatting to acknowledge in the event there are multiple
    signatures on the disk.
    
    Based on commit e8b5e4b0058946b77ac472b466087196f4c6810b
    
    Resolves: rhbz#1188163

commit 87c16a18bf9515294a002cbea64de2e99c3c51ca
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 18 17:03:47 2015 -0700

    New version: 0.61.15.6

commit e67aef959be3adccb8d75cad59fb5afd684ab0bf
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Jun 17 15:42:27 2015 -0400

    Fix up some logging methods. (#1155984)
    
    Some small adjustments to a couple logging methods to help reduce the
    verbosity, which can cause some lag when e.g. scanning disks if you have
    a significant number of them on your system.
    
    Resolves: rhbz#1155984

commit 4b1362698f73295bc9b30a2be9ecb21ec00cebe5
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Jun 10 14:14:27 2015 -0400

    Make sure to add hyperPAV aliases to dasd.conf (#1031589)
    
    HyperPAV aliases enable improved I/O efficiency by allowing parallel
    access to a real DASD through a base subchannel (device) and multiple
    aliases.
    
    Unfortunately, while the kernel recognizes such devices, they don't
    seem to generate any actual udev events so that blivet picks them up;
    nor do these aliases have a device node. Thus, if they are used at all
    during installation, they are not brought online after rebooting, since
    they are on the device ignore list. They are not removed from the device
    ignore list since there is no entry in dasd.conf, so this patch loops
    through all DASD devices in sysfs and adds all detected aliases to dasd.conf.
    
    Resolves: rhbz#1031589

commit 301ea39c4c5f925630364462333edd10de038f7b
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Sun Jun 14 15:53:57 2015 -0400

    Fix a traceback with anaconda-cleanup on s390x. (#1173101)
    
    anaconda-cleanup instantiates an instance of blivet with a
    StorageDiscoveryConfig object. This StorageDiscoveryConfig object never
    had any self.dasd attr set, which is why devicetree.reset() would fail,
    since it tried to (re)set an attr that didn't exist.
    
    Resolves: rhbz#1173101

commit 94fe0098e8ab03f9cd53eac977f7962af6cc22ed
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 15 12:14:20 2015 -0700

    Increase ext4 maximum size from 16 TiB to 1 EiB (#1231049)
    
    Resolves: rhbz#1231049
    (cherry picked from commit 63beda4bd329d9334242bd48a80c620567b88cdc)

commit 6e558917102149d8f11187bdd9267cb0e5c25c1a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 15 17:58:12 2015 -0700

    New version: 0.61.15.5

commit ece6261799aaccb6de14d858bd3e943c996992b2
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Jun 8 10:17:12 2015 -0400

    If any zFCP devices are used, always write /etc/zfcp.conf (#1194241)
    
    Previously, /etc/zfcp.conf was only created if you manually added zFCP
    devices during installation. If you'd specified devices in the CMS
    conf file and used these for system partitions (/, /home) dracut args
    were added to the bootloader conf file. But if you, e.g. had only a
    non-system partition like /data residing on a zFCP device, it was not
    brought online following installation + reboot since zfcp.conf was
    never written and dracut args weren't added to the bootloader config.
    
    So, just unconditionally create /etc/zfcp.conf now.
    
    Resolves: rhbz#1194241

commit 7075f5a046e3c48d772c25a3dbd0e09f35a80a52
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 8 17:08:29 2015 -0700

    New version: 0.61.15.4

commit 7aca090a1a71c19f149f1aec4856549ce70c3d21
Merge: af0329be b3fedc6a
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Mon Jun 8 09:02:06 2015 -0400

    Merge pull request #150 from mulkieran/rhel7-cherry-picks
    
    rhel7 cherry picks

commit af0329be8b4e70241d6f9156e13f3f095a60a703
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jun 5 16:37:52 2015 -0700

    New version: 0.61.15.3

commit 2fdeff74cf2c71f422b48406b625f40fd90ef0a9
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jun 5 11:09:38 2015 +0200

    Improve wording of the error message on autopart fail
    
    Related: rhbz#1202877

commit b3fedc6ae18d0a6939175c3108eafd25ec29db2d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 28 11:39:46 2015 -0400

    Un-escape '-'s in names or paths for _all_ lvm lv or vgs (#1223855)
    
    Related: rhbz#1223855
    
    Assume that whenever lvm presents blivet w/ a name with two consecutive
    dashes this represents an escaped single dash.
    
    Previously only doing this for lvmvg's and lvmlv's, which turned out
    to be a problem when looking up subclass instances, like lvm thin lvs.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fe031790a96eff4eb1cc097f92a38022b00da680
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 16 11:54:45 2015 -0400

    Include LUKSDevice information in kickstart data (#1139222)
    
    Resolves: rhbz#1139222
    
    Previously, if a device had a child that was a LUKS device that child was
    ignored when generating ksdata. What this meant was that that device's
    format, which was luks, was used in generating the kickstart data.
    
    Now, the LUKSDevice, which contains the format that should appear in the ks
    output is used. This means that the LUKS format is used to set some ks data,
    but the mountpoint and so forth are overwritten with the correct values
    when the format on the LUKSDevice is used to populate those values.
    
    The --passphrase option with passphrase continues to not appear in the
    output anaconda-ks.cfg file.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c7b597034924e923ab09df89c19c0fc6af7a7dac
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 28 09:16:10 2015 -0400

    If the parent volume has a label, use it in subvol's kickstart (#1072060)
    
    Resolves: rhbz#1072060
    
    The LABEL= entry identifies the parent of the specified subvolume by its
    label. If the parent volume does not have a label, then no entry is made
    that identifies the parent volume and the generated kickstart
    file will be rejected by ksvalidator.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b8dabe480c3e81258e5f4c894918d00c38d96300
Merge: 46c8f3ee 7181468a
Author: Vratislav Podzimek <vpodzime@users.noreply.github.com>
Date:   Thu Jun 4 20:16:48 2015 +0200

    Merge pull request #146 from vpodzime/rhel7-branch
    
    RHEL 7.2 cherry-picks

commit 46c8f3ee24c771099ed12047b391400d98005640
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jun 3 17:35:58 2015 -0700

    New version: 0.61.15.2

commit dd56b7d0c704ace7cb265c203ef819bf8a840447
Merge: 1a944d22 e633c16d
Author: mulkieran <mulkieran@users.noreply.github.com>
Date:   Wed Jun 3 18:27:25 2015 -0400

    Merge pull request #145 from mulkieran/rhel7-cherry-picks
    
    rhel7 cherry picks

commit e633c16d62eddace92fcd476f4456f53aff7101a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 11 16:29:32 2014 -0500

    If allowing degraded array, attempt to start it (#1202877)
    
    Resolves: rhbz#1090009
    Related: rhbz#1202877
    
    (cherry picked from commit ddb2e1756600d918df9df10384deb3364a9bbc3b)
    
    If we can't get the name for the array, that's probably because the
    array is in a state such that udevadm doesn't have the info. Try to
    run the array and get the info again.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a7a4afdbfbda9ba4abc2f4bf3ebc17062beb5c2d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 11 16:14:13 2014 -0500

    Add a method that looks at DEVNAME (#1202877)
    
    Related: rhbz#1090009
    Related: rhbz#1202877
    
    (cherry-picked from commit bfb93d682e7270fdf73b5fd8b3c80c9ea699d3f2)
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 98b3451b514595546529da931aeceb1f5f9ffacb
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 11 15:28:48 2014 -0500

    Add mdrun method to just start, not assemble, an array. (#1202877)
    
    Related: rhbz#1090009
    Related: rhbz#1202877
    
    (cherry-picked from commit 56c623ce96a849c62e4cbab1f2dfa6ff62324424)
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d29e0d4fcb443e0922726e8deb198227ca51fb3e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 3 13:27:52 2014 -0500

    Change allow_degraded_mdraid flag to allow_imperfect_devices (#1202877)
    
    Related: rhbz#1090009
    Related: rhbz#1202877
    
    (cherry picked from commit 0eb434ba53d5c122205e56f7bad322780c3b65f8)
    
    The only change is a name change. The plan is to use this flag for situations
    where it is better to use the imperfect device then to deactivate or remove it
    or otherwise get it out of sight.
    
    Generally, when installing, imperfect devices are best avoided, because
    you don't really want to install onto them. But when in installer rescue
    mode and many other situations, it is better to expose an imperfect but
    still usable device.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 44dcff23eeac9ef428fa1f577fe0fe5f6cca20c9
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 2 17:20:01 2015 -0400

    Check if device has enough members when setting RAID level (#1202877)
    
    Related: rhbz#1019685
    Related: rhbz#1202877
    
    (cherry picked from commit 08d1d1042adcd9dda535e4681edb2bf10b7e6fad)
    
    RAID levels have minimum member requirements. Level setters now raise a
    BTRFSValueError if device does not have enough members to meet the minimum
    requirement. However, if the device exists its members may not be known
    yet, so the check is omitted.
    
    Also, RaidError is rethrown as BTRFSValueError in level setter if the level
    is not valid for its use. Previously the RaidError was just propagated.
    
    Also, self._dataLevel and self._metaDataLevel are explicitly assigned to
    in __init__ to avoid need to disable pylint attributed-defined-outside-init
    warning in setter function. The assignment is all on one line, because that
    is its sole purpose, and with the comment to explain it it still takes up
    two lines.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 26f54ba7bd9e0418cfca5c76752b0381c932fe4f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 2 15:44:06 2015 -0400

    Add BTRFSValueError error and use in btrfs related code (#1202877)
    
    Related: rhbz#1019685
    Related: rhbz#1202877
    
    (cherry picked from commit d11015c37f20fbcc25ec28cb48b50542d8e28141)
    
    From BTRFS related methods that have ValueError-like exceptions raise
    BTRFSValueError instead of ValueError. Note that this will not change the
    behavior of code that calls these method and catches a ValueError since
    BTRFSValueError extends ValueError. It can change the behavior of calling
    code where a BTRFSError is expected; since BTRFSValueError is also a subtype
    of BTRFSError the formerly ValueError exception will be caught where
    previously it would not. There are no instances like this in anaconda.
    There are two in blivet, in devices.py, and in both cases, this change
    seems to be an improvement.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7181468a9de801dec16e6669ad6c1ffdec05ebc2
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 21 09:57:08 2015 +0100

    Fallback implicit partition size must be big enough for BTRFS
    
    (Current) minimum BTRFS volume size is 256 MiB.
    
    Related: rhbz#1171116
    Related: rhbz#1202877
    (cherry picked from commit 16eace79a7204ede14f7234423bf4eb9f93114c2)
    
    Conflicts:
            blivet/devices.py

commit 1da13245e166795fb2ad9f980c05ffc1d58fa6d2
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 21 10:06:34 2015 +0100

    Make implicit partitions smaller if real requests don't fit anywhere
    
    In case of BTRFS/LVM autopartitioning we schedule one parition on every disk
    used for the installation to be part of the new BTRFS/LVM setup. But in case
    some other partition needs to be allocated (e.g. swap in case of BTRFS) we need
    to fit this partition to some disk together with one of the implicitly scheduled
    ones. In case we find out the implicitly scheduled partitions are too big to
    make this possible we need to make them smaller so that autopartitioning works.
    
    Resolves: rhbz#1171116
    Related: rhbz#1202877
    Signed-off-by: Vratislav Podzimek <vpodzime@redhat.com>
    (cherry picked from commit 77c5f24b218010be81af50e75118b9c74d06086e)
    
    Conflicts:
            blivet/devices.py

commit cacd07c9c54aeaaa6faf6e8627c689a8c2a49ab4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Sep 16 15:36:58 2014 +0200

    Make sure autopart requests fit in somewhere (#978266)
    
    When doing LVM/BTRFS autopart we implicitly schedule one partition on each disk
    as a device for LVM/BTRFS. Those implicitly scheduled partitions are requested
    to be at least 500 MiB big and grow if possible. That's fine and works well
    until we have many small disks (e.g. DASDs) and need to fit another partition
    (for e.g. swap) that is in combination with the 500MiB implicit partition bigger
    than any disk we have.
    
    Thus we need to make sure all our partition requests fit somewhere with the
    implicitly scheduled partitions by making the latter ones smaller or by removing
    them if needed.
    
    Related: rhbz#1202877
    (cherry picked from commit a6d17f94b959c9ed2b3eb1f8aa56de58951a0865)
    
    Conflicts:
            blivet/devices.py
            blivet/partitioning.py

commit 32838d7c0d2ee489f5a015ed94f9d2bc161c6656
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Sep 16 15:36:12 2014 +0200

    Work with free region sizes instead of parted.Geometry objects
    
    Related: rhbz#978266
    Related: rhbz#1202877
    (cherry picked from commit 792afe681d9950c31a869a4ef826da4472fd0105)

commit 9832af28e8318606cbf7a8f4ff596a6f33b78a0b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Sep 16 15:14:18 2014 +0200

    Check that we have big enough free space for the partition request
    
    Related: rhbz#978266
    Related: rhbz#1202877
    (cherry picked from commit 491cd3e92fe31a460344d96a5801d4fd75ddec6a)

commit 1a944d220bcb0b2ea8b7e4048d5f39409f7d4355
Merge: 321107ae bff2198e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 2 11:44:03 2015 -0500

    Merge pull request #142 from dwlehman/7.2-cherry-picks
    
    7.2 cherry picks

commit bff2198e3d7213b3bb0c8452d5b878c38ec57d1e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 3 12:47:48 2015 -0600

    Use a safer method to get a dm partition's disk name.
    
    Resolves: rhbz#1190886
    Related: rhbz#1181336

commit 97e909087a0a8bc2fda385957eb66af891b2a501
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 17 14:25:52 2014 -0600

    Don't crash when a free region is too small for an aligned partition.
    
    (cherry picked from commit dcfd06a7cdb7b9b2884664435fd775b20b11ccda)
    
    Resolves: rhbz#1167292

commit 33efc2b78ca8d094338ac91d9bdafe130c90b200
Author: Alexander Lakhin <exclusion@gmail.com>
Date:   Fri Nov 28 14:12:10 2014 +0300

    Avoid exception when aligned start and end are crossed over
    
    (cherry picked from commit 178c933748692bfae1134e5db4ade014affabf04)
    
    Resolves: rhbz#1167233

commit 77ffd58626f1d719b740be7491e3747a84a1c843
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 4 14:35:43 2014 -0600

    Raise UnusableConfigurationError when unusable configuration is detected.
    
    The two cases included initially are a corrupt gpt disklabel and
    multiple lvm volume groups with the same name.
    
    Blivet cannot proceed in the corrupt gpt case because pyparted doesn't
    support instantiating a parted.Disk if the underlying gpt disklabel is
    corrupt.
    
    The lvm case has several issues, the most basic being that lvm is not
    designed to handle multiple volume groups with the same name. A user
    would have to rename one of the same-named vgs manually in order to
    make it possible to use both vgs.
    
    (cherry picked from commit 0e1b6446c01f2acbf329e8859b8437c6206183f4)
    
    Resolves: rhbz#1123450

commit 11a7f91109237aa235d5465a8140c2b8c773e5c5
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 29 15:36:07 2014 -0500

    Don't raise an exception for failure to scan an ignored disk.
    
    The disk will be ignored anyway, so it should not matter if there are
    active devices on it since we won't be trying to write to it.
    
    (cherry picked from commit f0ee1ccc5224cb5193c3034696f303e1ee190979)
    
    Related: rhbz#1123450

commit e4fc7611c7ab04d260f4a4a7c62137e114cc09bb
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 29 13:03:08 2014 -0500

    Remove redundant check for parents in Blivet.newBTRFS.
    
    (cherry picked from commit 58884e4581a2076675c728c8a5ce15a04c4c3e62)
    
    Resolves: rhbz#1072285

commit 321107ae99f3543f3d9e172b863f857b7399debf
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Sep 5 14:53:18 2014 +0200

    iscsi: mount partitions in initramfs for root on iscsi (#740106)
    
    / and /usr are mounted automatically, for other partitions
    x-initrd.mount option is needed in /etc/fstab
    
    Related: rhbz#740106
    (cherry picked from commit 8ab42dc9ffe43246e91090ee32677f76b1009038)
    
    Related: rhbz#1202877

commit 5340c28b4896147794cf15a952e87457b1cca44b
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Tue Dec 2 09:20:26 2014 +0100

    iscsi: improve logging of failed logins (#1114820)
    
    Related: rhbz#1114820
    (cherry picked from commit de22fba2469ebb14e20e1776a9f3d536a89bdd46)
    
    Related: rhbz#1202877

commit 492b7ecc3cdd93545cc1e654fd76ed84c1946503
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jun 1 11:44:12 2015 -0400

    Fix pylint issues on rhel7-branch of blivet.

commit ad828cf5f047cc3771e6436cb965a42db60a52ba
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Apr 13 15:34:48 2015 -0400

    Introduce a new doReqPartition method that is similar to doAutoPartition.
    
    This method allows automatically creating just platform-specific partitions,
    allowing kickstart files to do custom partitioning without having to introduce
    lots of machine-specific details.
    
    This also required splitting up platform.setDefaultPartitioning into two more
    fined grained methods.  I've left the older method around with its existing
    behavior for anyone who may be using it.  The split allows for users to be
    even more picky in how much autostuff they want - just things like biosboot,
    or also the /boot partition?
    
    This is a modification of 24291d33df7fbf9e7d78bb61ebb72e96c504807e from master.
    
    Related: rhbz#1164660

commit 6b5614c503595f8da7244b4917c74420ae1a09b2
Author: Jiri Konecny <jkonecny@redhat.com>
Date:   Tue Apr 14 11:48:25 2015 +0200

    Fix "anaconda hangs while trying to discover iscsi..." (#1166652)
    
    This was 2 errors in one.
    
    First problem: anaconda freeze for some time.
    Second problem: libiscsi was run on thread and libiscsi the library
    is not thread safe.
    
    Anaconda freeze is because of GIL is taken on library thread which is
    trying to connect to server.
    The thread safe problem is because libiscsi is using signals internally
    which were delivered to another thread (this is hard to solve in python
    threads...). Solution is to start discover method on new process.
    
    So new process is now created to call libiscsi discover_sendtargets
    method. This should fix both problems.
    
    Resolves: rhbz#1166652
    
    Signed-off-by: Jiri Konecny <jkonecny@redhat.com>

commit 782987317b237b0c0e6d8c843b8cd7b7cc3ea6b9
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri May 29 18:11:08 2015 -0700

    New version: 0.61.15.1

commit a1f0e7af1d4b4a9fab0c771d3ca9bd3ffecc4ff7
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri May 29 18:05:49 2015 -0700

    Add .0 to version -- 0.61.15.0

commit 6c8850f6882d45d413937559a9274f44fe63bba0
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 14 15:13:45 2015 -0700

    Ignore Merge pull commits and turn down logging level
    
    Github uses 'Merge pull' at the start of the merge commit. And the
    logging level wasn't being set on the right logger so it was more
    verbose than it needed to be.
    
    (cherry picked from commit 51abb4f5c9e5300ddb664b30c018051b07916a1e)
    
    Related: rhbz#1202877

commit d4b4b5146155612d1481049e493b4ef582c9d168
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jan 14 10:09:10 2015 -0800

    get_loop_name shoud return an empty name if it isn't found (#980510)
    
    Callers expect a name or "" not an error.
    
    Related: rhbz#980510
    (cherry picked from commit 7ad7b1f09961811aae8dad08c29a6b3601354b33)
    
    Related: rhbz#1202877

commit 92e02147d44d6de944179367373cb7d48d5baa8d
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jan 6 10:20:15 2015 -0800

    Multiple loops shouldn't be fatal (#980510)
    
    Backing files can have multiple loops associated with them without
    problems. Raising an error here causes a crash when using an iso for
    both stage2 and for the repo (eg. boot with
    inst.repo=hd:/dev/sdb1:/path-to-dvd.iso).
    
    Instead just use the first loop device in the list as the name.
    
    Resolves: rhbz#980510
    (cherry picked from commit 3e75b1e5abbc3b162fca0dbf57431a892acc9499)
    
    Related: rhbz#1202877

commit 3ea2d96676a66a429b3bab8e4b9927f698d7db34
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Aug 7 15:15:41 2014 -0700

    Disable MacEFI platform type and hfs+ ESP (#1119305)
    
    hfsplus-tools aren't available in RHEL so we can't make a hfs+ ESP. But
    we can make a standard ESP which will appear in the boot menu as 'EFI
    Boot'
    
    Related: rhbz#1119305
    (cherry picked from commit c35aafe4b27318faee52b5a0ea44ca9a6fd4a1ec)
    
    Related: rhbz#1202877

commit c8692abbcf4564dc5e1acebb403dce3fdc0f0f34
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Sep 10 17:13:58 2014 -0700

    Add a release make target
    
    Sometimes it is useful to recreate the archive w/o tagging. Move the
    actual archive to its own target and add a new one named release to do
    the tag + archive
    
    (cherry picked from commit fb4838f92c85acbec60287a796b89e6aedb20d08)
    
    Related: rhbz#1202877

commit b5af878c4b01ed8b45b70cb235a84ea6aa11964e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Sep 10 16:49:31 2014 -0700

    Update makebumpver to include flags on first request
    
    python-bugzilla has been complaining that it needs to refresh the object
    because it didn't get the flags the first time. This switches to using
    .getbug instead of .query and adds the flags to the returned data for
    each bug.
    
    This also quiets down some logging from urllib3 that was making it hard
    to read the results of the bugzilla checks.
    
    (cherry picked from commit ce928e6f51a13aaf75701ba1bd01ec74b36f7500)
    
    Related: rhbz#1202877

commit 1a072363d70bb22ea5e0669fa04a0fea863fa4eb
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 27 12:07:40 2015 -0500

    Fix a couple of easy pylint errors.
    
    Related: rhbz#1202877

commit 5098bec96fad1e95050575e632e5b4e9967112d8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 27 11:42:58 2015 -0500

    Change required pyparted version to one that is in RHEL-7.
    
    Related: rhbz#1202877

commit ee1802babf7ae0ec3abfee4d5cf92a510149210b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 21 16:48:12 2015 -0500

    Remove python-six dependency.
    
    Related: rhbz#1202877

commit fc63be5f654c217171e5346df895264d4710d350
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Mar 20 12:15:15 2015 -0400

    Clean out the mock chroot before attempting to run the rest of the test.
    
    Otherwise it'll get hung up failing to download some package that exists.
    
    (cherry picked from commit 994c8a1550eea9bfbdcd39082a8a94ae45d92b12)
    
    Related: rhbz#1202877

commit b394cae0cf938093dfe8fd6b2efadff73df96ede
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Mar 11 16:13:34 2015 -0400

    Put all mock results into the top-level source dir.
    
    This allows us to capture the mock logs in jenkins, among other things.
    
    (cherry picked from commit 7e8610874d11b9c45070a8e31d231d8dde6422d5)
    
    Related: rhbz#1202877

commit 801ef926ed258ee18a6a4aef84b23a42c2965972
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Mar 5 15:18:00 2015 -0800

    Add scratch, scratch-bumpver and rc-release targets.
    
    Use these make targets for creating scratch rc builds that can be used
    before an official release. rc-release will run scratch-bumpver to bump
    the version and add a rc release with the current date and time to the
    specfile.  scratch is then run to create the tar.gz file and then mock
    is used to build a rc rpm package.
    
    No changes are committed to git, no zanata account is required and
    nothing is pushed to zanata.
    
    (cherry picked from commit a352382e24ff8d3add1ae6c9076ccd12cbf9f7d1)
    
    Related: rhbz#1202877

commit a023fff4607b36de62e3acfde0f70aa40f75ec24
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Mar 5 14:44:01 2015 -0800

    Add --newrelease to makebumpver
    
    This is written to the changelog entries and the Release: field in the
    spec file. Defaults to the same release as it currently has.
    
    (cherry picked from commit beaabaf49483c2087520819cc33797f3ae171cb1)
    
    Related: rhbz#1202877

commit accd048f7584f8009f2756cfc2e337278f9845c4
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Mar 5 14:22:42 2015 -0800

    Add po-empty make target
    
    (cherry picked from commit 7208b0bc80cee8fbbdbb649f008523335801d376)
    
    Related: rhbz#1202877

commit 2b39d88b8dc9dfa6e311674f2ba66a2dff3323fd
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Feb 26 14:08:33 2015 -0800

    Switch translations to use Zanata
    
    Use https://fedora.zanata.org/project/view/blivet for translations. Also
    check to make sure zanata-python-client is installed before po-pull
    
    Related: rhbz#1205285

commit c056a61d0e07d6ce09c5eed1969f0b3cb85606a9
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 2 16:49:15 2014 -0500

    Split up devices.py.
    
    Look at blivet/devices/__init__.py imports to see where everything went.
    
    (cherry picked from commit 6087189ef00df503bec7b3681ae89d97d62f4167)
    
    Related: rhbz#1202877

commit e12f38f8b8066e755222b36cddd7bc48277370e8
Author: mulhern <amulhern@redhat.com>
Date:   Tue Sep 2 08:06:18 2014 -0400

    Split string of symlinks into array of strings (#1136214)
    
    pyudev library returns a string whereas blivet's pyudev library returned an
    array of string. Our udev code should persist in returning an array of
    strings.
    
    Signed-off-by: mulhern <amulhern@redhat.com>
    (cherry picked from commit 4ea21ea9fa6bc0213ad5de0b164c00ffde4b5058)
    
    Related: rhbz#1202877

commit 3408209e0dad319c24610d7aeacf698f9081c188
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 28 13:09:31 2014 -0500

    Keep lvm and md metadata separate from udev info.
    
    We can't inject data into pyudev.Device instances like we could when
    the udev db entries were plain dicts.
    
    (cherry picked from commit fd6d5ebf3f12d4cb2e82f848e6ce7d1c9a840efa)
    
    Related: rhbz#1202877

commit 0f986f932f7a9bcbd48b0b711e5b270a76b72083
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 25 10:05:34 2014 -0500

    Replace our pyudev with the package python-pyudev.
    
    There are two major differences in how we use the module. Each device
    is represented by a pyudev.Device instance, which is based on
    collections.abc.Mapping. That means we can no longer change the data
    to do things like set a "multipath_member" format type or inject LVM
    or MD metadata.
    
    The other difference is that sysfs paths now include the "/sys", which
    is great since it's always mounted in the same place.
    
    (cherry picked from commit 8ff97169daa3fe529e4849e3431d9ec9147c2c20)
    
    Related: rhbz#1202877

commit 60ff5e7854a4aa0644998da3429d5e7c36ab5b5d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 9 13:14:44 2015 -0500

    New version: 0.61.15

commit d65c64a17ab39031cd1bad04dcd7191f68e99394
Author: Timothy Asir Jeyasingh <tjeyasin@redhat.com>
Date:   Wed Mar 4 17:53:11 2015 +0530

    Allow passing KiB values to vgcreate -s option
    
    Currently blivet exepects pesize parm of the vgcreate function
    should be in MiB. Any given value will be converted to MiB format
    and omits any fractional part. That means, if any KiB values are
    passed to pesize parm, it becomes 0 and the actual lvm lvcreate
    faild to create the vg and returns an error.
    This limits passing any KiB values for pesize to create a vg.
    This patch fixes the issue by accepting the given value in KiB.
    
    Resolves: rhbz#1198568
    Signed-off-by: Timothy Asir Jeyasingh <tjeyasin@redhat.com>

commit 480e58b0546ef278b8b5b2b865b9eefa8daae1e0
Author: David Shea <dshea@redhat.com>
Date:   Mon Mar 9 12:23:44 2015 -0500

    Add a script to rebase and merge pull requests
    
    This is both a tool for avoiding merge commits and something to point at
    later when we decide that maybe merge commits aren't so bad in github's
    contribution model.
    
    (taken from anaconda commit 64872d807e4c).
    
    (cherry picked from blivet commit 80ac1346b25694974a28890f6c4b61bd696c8964)

commit c480c522621601217679810147a1d0244250ddec
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 15 16:42:23 2015 -0600

    Allow user-specified values for data alignment of new lvm pvs. (#1178705)
    
    (cherry picked from commit c575c841974d4f651a7c812cd1ed0d7fbb0d543e)

commit 978c9426062817ccfcfa93c3c3f2665cebd48df7
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 15 16:36:14 2015 -0600

    Let LVM determine alignment for PV data areas. (#962961)
    
    (cherry picked from commit 615de2b8b4b85b5e9d6df2ae6ef1bca5d6c4e1a1)

commit 27ee7a32d9bd43347b6294bf2c92a15f3f1dcd52
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Jan 27 08:11:34 2015 -0500

    New version - 0.61.14

commit 747138c2033a3769bb960e6121ef254bce07ae77
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Tue Nov 18 17:40:46 2014 +0100

    Mountpoint detection for removable devices
    
    Signed-off-by: Vojtech Trefny <vtrefny@redhat.com>

commit 93068205656986568f2af40ad13ab862b1a773e3
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Wed Jan 21 14:26:31 2015 +0100

    Use format.mountpoint for BTRFS listSubVolumes

commit e8f9001283cf7672e95f7c1b3af7c270ab33ff07
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Mon Dec 8 14:56:05 2014 +0100

    Allow handling device format for already handled BTRFS

commit 8efe26e902a0f5b4b7de5a6b4cc3e7759fcfb517
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Dec 3 14:09:21 2014 -0500

    New version - 0.61.13

commit a55d041468c2579d18e0da9fd2e0d575860aa5e2
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Dec 3 13:47:25 2014 -0500

    Fix pyparted version in spec file.

commit f471594062904b622d7dc4ee9342b10c292d0367
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Dec 3 13:22:29 2014 -0500

    Revert "Prune actions before cancelling them"
    
    This reverts commit 308d1009ddfbd7de090633cd105886885f83c30c.

commit 738132d4cca44985b359111e1e73d82343ce66de
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Dec 3 13:20:52 2014 -0500

    Revert "Update partitions' numbers and names when adding new partition (#1166598)"
    
    This reverts commit aa326c7b2968bff6f1a9c726c5db039f5d51b90d.

commit 235b11dc60b04934776a0ac881f9026cb86672c0
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Dec 3 13:19:41 2014 -0500

    Revert "Return device's children sorted by name"
    
    This reverts commit 769edeca8c28cd3a51c966ade197f79cba5da53e.

commit 525c307a353cbcf251da508f9c80c9d92fb23e48
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Nov 27 16:21:07 2014 +0100

    New version - 0.61.12

commit 308d1009ddfbd7de090633cd105886885f83c30c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Nov 27 13:36:17 2014 +0100

    Prune actions before cancelling them
    
    If we were to process the actions, we would prune them first because some
    actions just annihilate with some others. We can do the same before cancelling
    scheduled actions which may save us from cancelling actions that would be
    eliminated by cancelling other actions. This speeds things up and save us from
    doing many potentially dangerous things caused by cancelling actions.
    
    Related: rhbz#1165714
    Related: rhbz#1166598

commit c0cccb8eefff47c59a1ed96859f02efcf9094a93
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 26 15:58:32 2014 +0100

    Try to get FS info first before doing an FS check
    
    Running an FS check implicitly may slow things down quite a big and may result
    in changes users didn't expect to happen while probing their file systems.
    
    Related: rhbz#1162215

commit c953630e8c7e5a12153e62c83b92dfc18ee0d5a8
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 26 15:48:31 2014 +0100

    Reverting partition's size shouldn't require it to be aligned (#1165714)
    
    If the original size was unaligned, it's not our fault and we can do nothing
    about it.

commit 5a5308dcd2afd808c68c989e8da73d1d1037f5a3
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Nov 26 14:59:23 2014 -0500

    New version - 0.61.11

commit aa326c7b2968bff6f1a9c726c5db039f5d51b90d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 26 14:29:57 2014 +0100

    Update partitions' numbers and names when adding new partition (#1166598)
    
    Adding a new partition may change partitions' order (e.g. adding sda1 after
    sda2) so we need to handle that correctly.

commit 769edeca8c28cd3a51c966ade197f79cba5da53e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 26 14:22:32 2014 +0100

    Return device's children sorted by name
    
    No code should rely on children order, but the list is sometimes transformed
    into something visual seen by users.
    
    Related: rhbz#1166598

commit 3b5b487cfc98818d425b756d4d5eb3b3ee679973
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Nov 25 11:47:02 2014 -0800

    Run dosfsck in non-interactive mode (#1167959)
    
    Also skip running updateSizeInfo in FS.__init__ if there is no resize
    program available for the format.
    
    (cherry picked from commit 95cbfcb06962c1f35e61a2508825f4ddf850e35d)

commit 331dbed018f3fd1dcd3d6470d55287d54e753838
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Nov 18 20:12:32 2014 -0500

    New version - 0.61.10

commit 8d376265c287d459df7a6a32e190ff6c49db4ace
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 12 12:57:59 2014 -0600

    Round filesystem target size to whole resize tool units. (#1163410)
    
    Add a check in case the rounding changes the direction of resize.
    
    (cherry picked from commit 008e1f58426a634e883095fc5053834fd8768b32)

commit 5021a4e0f7861e1f2182b3dfb2f779efdfc8780b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 12 12:30:46 2014 -0600

    New method to round a Size to a whole number of a specified unit.
    
    (cherry picked from commit 8d9cbb78122e4a2a223a5e6a3f7239715ddb498a)

commit 7e1b25c6f0ecbf1bea7867fd620f73218450dac5
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 12 09:02:31 2014 -0600

    Fix units for fs min size padding.
    
    (cherry picked from commit f62466ac5798d622ddf852d79c819d3b4f4c5db5)

commit b3997eaf0fa65cc82684568c7de40882c588b342
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 11 10:50:42 2014 -0600

    Disable resize operations on filesystems whose current size is unknown.
    
    It is not safe to attempt to resize without knowing the current size
    or to attempt to shrink without knowing the true minimum size.
    
    (cherry picked from commit e2e854fbe89790452ddf07e87bbc07908932fc8f)
    
    Related: rhbz#1162215

commit ce92b550a687547683bd36fe9419fb08894207fa
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 11 10:37:37 2014 -0600

    Run fsck before obtaining minimum filesystem size. (#1162215)
    
    resize2fs -P now requires an e2fsck -f first. The lack of a real minimum
    size left us with no useful minInstanceSize and allowed users to attempt
    a shrink down to any size, which led to failures.
    
    If we have a currentSize, set filesystem.
    
    (cherry picked from commit 8b7d3ba3723a5cc88c56b6a848aae19f7f6a8b63)

commit 48838993ffbfc389410863d954d88f81730f0136
Author: Vojtech Trefny <vtrefny@redhat.com>
Date:   Thu Nov 13 19:07:00 2014 +0100

    Do not translate empty strings, gettext translates them into system information

commit a13f94d09c92fed983b1346f951c97bed50308df
Author: David Shea <dshea@redhat.com>
Date:   Wed Nov 12 16:13:50 2014 -0500

    Add more arguments to mpathconf (#1154347)
    
    Setting find_multipaths to yes will keep multipath from creating a
    multipath device unless one of the following conditions is met:
    
      - two non-blacklisted paths have the same wwid
      - a path has the same wwid as a previously created multipath device
      - the user forced the creation of a device
    
    In other words, only create a multipath device if there is a device with
    multiple paths. This would be helpful.
    
    (cherry picked from commit ea86ac4f7885e693cf758aeae56062cbe0ba573f)

commit ad3b04e66ddfa12efba59b2a0657d83ef3ed0c17
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Nov 11 15:06:25 2014 -0500

    New version: 0.61.9

commit 2b12d912a4224ca649888c019bbe7cfcedb2090b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 5 10:30:08 2014 -0600

    Device status can never be True for non-existent devices. (#1156058)
    
    (cherry picked from commit e7b45e635b8850de55c4e20085f1bd5dae8b4341)

commit 2a41c32e0a7d82db993e776966268f4ab4af408a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 5 10:21:40 2014 -0600

    Use super to get much-needed MRO magic in constructor. (#1158968)
    
    super does some magic along the lines of running superclass constructors
    breadth-first, which is necessary for container devices that inherit first
    from a non-container class.
    
    (cherry picked from commit 274e91e1966cbe74f64743e028d8088f712c8ae0)

commit 1389902cf8abc8ecc471452985fd6717481f1d10
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Nov 3 11:16:48 2014 -0800

    Fix int * Size operation and add tests (#1158792)
    
    When Size is not on the left it needs to call the correct Decimal method
    and make sure it returns a Size object. This also adds a test to make
    sure the results of add, subtract, multiply, divide, modulo and power
    return the current behavior.
    
    (cherry picked from commit fa886a67fbd1099a6a8f6e88aa7ab6584d4f4ce6)

commit 21c82219626674cf230e159587145b1573cad48b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Nov 4 11:55:26 2014 -0800

    getArch should return ppc64 or ppc64le (#1159271)
    
    ppc64le is not the same as ppc64 so getArch should distinguish between
    them.
    
    Resolves: rhbz#1159271
    (cherry picked from commit 60c549d844c60b34f2b83e5f1689aca087c25f50)

commit 50cdebca3bccf02c75545b3a1abec79e6f7a7fe2
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Nov 4 09:16:00 2014 +0100

    Pack data for the wait_for_entropy callback
    
    Packing data into a namedtuple is good for keeping the API even if we need to
    add some more parameters (fields) in the future. It also serves as a
    documentation.
    
    Also improve the documentation of the callbacks that are expected to be used.
    
    Related: rhbz#1073679

commit a76b79f01bf5d6df3c1af0f89224ca5bf0aba0cf
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Nov 3 12:10:35 2014 +0100

    Allow the wait_for_entropy callback enforce continue
    
    This way e.g a timeout or a way allowing user to ignore the lack of entropy can
    be implemented.
    
    Also document the potential issue of waiting for enough entropy for a long time
    or even forever.
    
    Related: rhbz#1073679

commit 4de804e796a51bbb2dea134538da17400fe691af
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 31 14:13:48 2014 -0500

    Revert "Disable resize of ntfs during OS installation. (#1120964)"
    
    Proper measures being in place now, we should be able to re-enable it.
    
    This reverts commit d289654449bf8fb4bd3e828dc2539f8622f9af7b.

commit 78b12c6e6f8f059997a538bae99895bb20636a2d
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 21 13:41:05 2014 -0500

    Require resize target sizes to yield aligned partitions. (#1120964)
    
    New method StorageDevice.alignTargetSize can be used to modify target
    sizes as needed to account for alignment.
    
    Modify minSize and maxSize to return values that will yield an aligned
    partition.
    
    (cherry picked from commit b6a79c9b935191b57589fe05e18b1602fa3a2ca1)

commit 840ced37a9c5e342ecec69068ad03aa5720e350d
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 23 16:25:24 2014 -0500

    Split out code to determine max unaligned partition size to a property.
    
    (cherry picked from commit a9ac2316e6da993ad5c01b126833658a036627d3)

commit 9f54838e79c447ef2b0bf3da8b27ef9e421134de
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 22 11:25:04 2014 -0500

    Allow generating aligned geometry for arbitrary target size.
    
    _computeResize still defaults to self.targetSize, but this allows us
    to pass any size in and see what the aligned geometry would look like
    for that target size.
    
    (cherry picked from commit da6989606e634bb2a787af452ec251f0400bad5c)

commit 1583dcc24dbbfd64cfff1f62339d9eb9e24f38c2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 9 14:46:47 2014 -0500

    Align end sector in the appropriate direction for resize. (#1120964)
    
    When shrinking, align the end sector up to ensure the aligned partition
    is still larger than the formatting's minimum size.
    
    When growing, align the end sector down to ensure the aligned partition
    is completely within the free region (and not larger than the formatting's
    maximum size).
    
    (cherry picked from commit 652722bc1852b5185f0a48b07b301fff76c05c45)

commit 2225ca151dcbe141fc0fddfaf419188ffa41103e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 21 14:00:45 2014 -0500

    Specify ntfs resize target in bytes. (#1120964)
    
    This saves us the trouble of having to round in the correct direction.
    
    (cherry picked from commit 8919b519e14c9df668daf7cab535a77226513dd9)

commit 03f0b8c00f237e4e85a1d6b4ee9bfa72c6fafaa3
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 24 14:30:38 2014 -0500

    Check new target size against min size and max size.
    
    (cherry picked from commit e2fd4a318727b2cc92a83914749dca2f556c5bab)

commit 43b7199ef54e9d29bb1f43af2dc0725b390b85a5
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 26 11:40:25 2014 -0500

    Use Decimal for math in Size.convertTo. (#1120964)
    
    Size.__div__ converts the Decimal result to a Size, which rounds its
    numerical argument (byte count) down to an integer. Size.convertTo is
    meant to retain precision.
    
    (cherry picked from commit a3998ea687a96d7f6ca7a019ecae87dcc7b5d0fe)

commit 1f2095e51271fe11db4c4d033527c019bfdf77a0
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 17 12:40:12 2014 -0500

    Change signature of DiskLabel.addPartition to be more useful.
    
    The new method accepts start sector, end sector, and partition type.
    
    The previous method required you to pass in a parted.Partition instance.
    It did not simply add that parted.Partition instance. Instead, it created
    a new parted.Partition instance based on the one passed in and added that
    to the parted.Disk.
    
    (cherry picked from commit 6a9c2ed8d1c32b1062f44b6ae99fb4e08083e8b7)

commit f71e401876533042f4ebef4edc90fa428f9625c1
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 18 16:08:57 2014 -0500

    Add a contextmanager to create and remove sparse tempfiles.
    
    with sparsetmpfile("mytest", Size("100 MiB")) as path:
      do_stuff(fn=path)
    
    It creates a sparse temporary file with the specified size and yields its
    full path on __enter__, then unlinks the file on __exit__.
    
    (cherry picked from commit d394eacb0472a6173fb486712caf18c80fd4c5fd)

commit 5ac7990d432601ad0e2592a5c3745246210bf5d4
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 18 16:12:36 2014 -0500

    Add a DiskFile class for testing partitioning code as a non-root user.
    
    There seems to be some special treatment from parted (first free sector
    is reported as 32) but the main purpose is to test partitioning code
    without committing the changes to disk. It may be perfectly viable to
    commit to these devices, but I haven't tried it yet. My intention is to
    write unit tests for things like partition allocation -- which require
    parted Device and Disk instances -- without requiring root access.
    
    (cherry picked from commit 19a53f8bbda0c8f473b19585329ec4b68553561a)

commit fce7a6872a694fd79ca165d4dccc2d4aaa508404
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Oct 30 14:02:32 2014 -0700

    Add ability to set a default fstype for the boot partition (#1112697)
    
    By default the boot partition fstype is the first in the list returned
    by the bootloader. This adds setDefaultBootFSType() which can be used to
    override this.
    
    Related: rhbz#1112697
    (cherry picked from commit f04b6d8a9716b458700b3b153c1123bc392e9ad5)

commit 64db376c89a5adfaf71b4a539f48f779f19d9239
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Fri Oct 31 11:53:30 2014 -0400

    Pass a list of string items to log_method_return.
    
    Formerly, __repr__ was called on the objects passed, which was
    unfortunately quite expensive and resulted in significant lag in
    the UI when selecting/de-selecting a disk in the anaconda storage
    spoke.

commit a03c0105567e609553cc0d9bde90440f884446fc
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 23 08:05:54 2014 -0400

    Add testing for MDRaidArrayDevice.mdadmFormatUUID (#1156202)
    
    Related: fed#1156202
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 326d5e252765dfebaf749dcca547020c4296aae3
Author: mulhern <amulhern@redhat.com>
Date:   Wed Oct 22 12:30:48 2014 -0400

    Give mdadm format uuids to the outside world (#1156202)
    
    Resolves: fed#1156202
    
    We need our uuids obtained from mdadm to be the canonical format internally,
    as we need to compare them to other UUIDs obtained from other sources,
    which are in canonical form.
    
    But the outside world needs to see mdadm's own format UUIDs.
    
    Hence, we need a conversion function to convert from canonical UUIDs to
    mdadm format UUIDs.
    
    There is an MDRaidArrayDevice property, mdadmFormatUUID, which invokes
    the conversion function. It returns None if the uuid is unconvertable.
    
    This property is substituted for uuid wherever appropriate.
    If some checking was done for presence of UUID in these contexts, do
    appropriate checking for availability of formattedUUID. Where no
    checking was done previously, do not insert checking.
    
    In one location, use context manager for writing to a file, for neatness,
    since the code has to be touched anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7770edb3d212463258afc3e747af08d5425fb089
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Oct 28 13:32:12 2014 -0400

    New version: 0.61.8

commit b2a248dd12d33384ac01c068d957a5ac7eab972e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Oct 27 16:28:30 2014 -0700

    Strip lvm WARNING: lines from output (#1157864)
    
    LVM has started including a pile of WARNING: lines in its output. These
    need to be removed before trying to grab the origin or thin pool name.

commit 07633ce94bd18175bf015e9c31a64784cccede00
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 24 16:08:38 2014 -0500

    Wait for udev to settle before collecting UUID for new filesystems.
    
    The consequence of the bug is that we end up putting paths into
    /etc/fstab instead of UUIDs. That happens because as far as we can tell
    there is no UUID because, well, udev told us there was no UUID.
    
    Related: rhbz#1156614

commit 92403ecbf7fdd55ff3b5b874a626c1c5e92a8a45
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Thu Oct 23 09:39:23 2014 -0400

    New version: 0.61.7

commit 10099562fc079d00a28e7cbe62200960237563ed
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Oct 21 09:44:24 2014 +0200

    Don't try to get no profile's name (#1155014)
    
    If no profile is specified, trying to get its name results in a traceback.

commit d289654449bf8fb4bd3e828dc2539f8622f9af7b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 22 15:32:15 2014 -0500

    Disable resize of ntfs during OS installation. (#1120964)
    
    This is a temporary measure to prevent any users from hitting the
    corruption encountered in the referenced bug. After beta we will
    address the issue correctly, but for now the goal is a safe beta.

commit 8c6f8aa8f033bb5620bf1b3d1556ed3baf81c2e8
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Oct 20 13:47:43 2014 -0400

    New version - 0.61.6

commit 4700d616ce62533fcfbe9f515926e45f84b92dbb
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 18 13:24:04 2014 -0500

    Let udev settle between writing partition flags and formatting. (#1109244)
    
    (cherry picked from commit 73ebba337b59a5c894619453535d6e3951c586d9)

commit b68e63116fd63be321f5679267ab127af2829e7a
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 17 16:51:59 2014 -0400

    Set _partedDevice attribute before calling device constructor (#1150147)
    
    Related: fed#1150147
    
    See previous commit: Set sysfsPath attribute for reason.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c1330e58c2ef845894667114d44285591f41d28e
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 22 15:04:16 2014 -0400

    Change variable keyword (#1154050)
    
    Related: fed#1154050
    
    Should have gone in with commit
    e54cb958f5e4a8ac756509b072032c38e067f9e7.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d3f284b1c22b2c89c41b0b79fd9f275678d32498
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 17 12:45:59 2014 -0400

    Set sysfsPath attribute before calling Device constructor (#1150147)
    
    Device constructor sets parents, but MDRaidArrayDevice's _addParent()
    method requires that sysfsPath attribute be present.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 06b4361db2a30c3d60427ebb7e90cbd387834a26
Author: mulhern <amulhern@redhat.com>
Date:   Wed Oct 15 13:59:51 2014 -0400

    Take care when checking relationship of parent and child UUIDs (#1150147)
    
    Related: fed#1150147
    
    We are in the unfortunate position of not being able to assume that
    the member's format has an attribute w/ the name specified by
    self._formatUUIDAttr. This problem arises because MDRaidArrayDevices w/
    type mdcontainer lack some of the properties of more typical
    MDRaidArrayDevices.
    
    Abstract all this checking into a single method, so that the problem doesn't
    pop up again later when removing or adding (for real, not just in the
    in memory model).
    
    Preserve all semantics, except for not raising an AttributeError if the
    field does not exist.
    
    Distinguish between situation where the data is untrustworthy or
    unavailable and where it is considered reliable enough that verifying
    its correctness makes sense.
    
    Don't assume that the problem can only be due to an oddity of mdcontainer,
    it may crop up elsewhere as well, so be robust.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b2b9ca4e94bdc02c15becf0161ab234efdf692db
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Oct 15 11:01:43 2014 -0400

    Specify file type in transifex config file.
    
    Otherwise transifex will complain.

commit a0984864b94a0ea60e04014c296af9aab711b075
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Oct 14 21:15:41 2014 -0400

    New version - 0.61.5

commit 98152e3bf8f11100566b3da90b8d25fc8e916c5b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Oct 13 09:16:24 2014 +0200

    Branch transifex for the f21-branch (#1151750)
    
    Otherwise it conflicts with the master version.

commit c3b3efe7fc5f58be1a13d6b25262b6c39147a7ab
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Oct 13 17:05:31 2014 +0200

    Remove unused import introduced by porting patches
    
    Accidentally added in 3ae3de04b0c09fcd58d4dcd413c09dcebcfb4186.

commit 15529351b9a94b48736af4e2fe24eb03c33c5946
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Sep 19 15:41:04 2014 +0200

    Allow specifying thin pool profiles
    
    Related: rhbz#869456

commit b61932dada39b733f248153096ea6b9f6e90c91b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Jul 31 15:48:45 2014 +0200

    Remove tests for the sanityCheck
    
    The code is no longer in the blivet's codebase.

commit 2cb00678a911cb763c5ac4e7ce43afd51184c1e4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jul 30 11:45:51 2014 +0200

    Move _verifyLUKSDevicesHaveKey and its exception to anaconda
    
    They are only used by sanity check that has been moved to anaconda's codebase.

commit 1ef00bd1f18e6c46784a51e02285e710e35727e5
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jul 28 21:59:09 2014 +0200

    Remove sanityCheck functions from blivet sources
    
    This code is installer-specific and should thus live in the installer's
    codebase.

commit 3ae3de04b0c09fcd58d4dcd413c09dcebcfb4186
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Aug 27 11:04:17 2014 +0200

    Allow specifying minimum entropy when creating LUKS
    
    Creating new LUKS format requires high-quality random data and such quality may
    be specified by minimum entropy of kernel's random data pool required. Blivet
    thus need to check such entropy and wait for it to become high enough if
    requested by the user code (Anaconda, OpenLMI, blivet-gui, etc.).
    
    In order to allow the user code to give a hint to the users about what's
    happening and how they can help with entropy generation, blivet also needs a
    callback that is called in case of LUKS format being created with not enough
    entropy available.
    
    Related: rhbz#1073679

commit 6b497da226ed24c9ffb199ece35bc0b683a9bb00
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Aug 26 08:18:32 2014 +0200

    Allow user code provide callbacks for various actions/events
    
    This simplifies blivet's code, makes it cleaner and gives other user code than
    Anaconda way to react on various actions/events. It is also a building block for
    many other applications of callbacks in blivet.
    
    Related: rhbz#1073679

commit dd15bae3abca8896fd1362e9f36efac21874337a
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Aug 28 16:35:39 2014 +0200

    Allow user code creating free space snapshot
    
    Sometimes the user code (e.g. Anaconda) needs to snapshot available free space
    so that it can lately read it and calculate with it.
    
    Related: rhbz#1132436

commit dddb9b2b1492692245ee95b82c2017833323645d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 9 11:05:41 2014 -0400

    Update tests to bring into line w/ previous commit (#1150147)
    
    Related: fed#1150147
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3bd725e7bbe2399693055fa62465d97e95938c67
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 9 11:04:25 2014 -0400

    Abstract ContainerDevice member format check into a method (#1150147)
    
    Resolves: fed#1150147
    
    Override the member format check in MDRaidArrayDevice.
    
    MDRaidArrayDevices are ContainerDevices that generally enforce
    that the format of member devices is 'mdmember'. This is usually correct,
    but devices which are MDRaidArrayDevices which themselves have type
    mdcontainer may be members of MDRaidArrayDevices and they do not have
    format of 'mdmember'. In this case, therefore, no restriction on
    format type is enforced by MDRaidArrayDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 31a2285c532e7497758b9486f9a5edc029583602
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 10 09:27:38 2014 -0400

    Register DeviceFormat class (#1150147)
    
    Related: fed#1150147
    
    This shouldn't change any observable behavior in existing code.
    
    The only behavioral change is that in getFormat(), the True branch of
    if not fmt_class:
    will be taken less often because get_device_format_class returns
    DeviceFormat instead of None with an argument of None (assuming
    DeviceFormat can be found).
    
    This means that
    if not fmt_class:
    will evaluate to True only when a match can not be found, presumably
    because its class could not be read properly.
    
    Of course, if it's DeviceFormat that is not found, falling back to
    DeviceFormat makes no sense, but things are pretty much over by then,
    anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1aede5f41cf7cef86ed0b9a0942f47d0288f6fa7
Author: David Shea <dshea@redhat.com>
Date:   Thu Oct 9 16:56:55 2014 -0400

    Don't append btrfs mount options to None (#1150872)
    
    (cherry picked from commit 09ae534eecc4f9eb2fb9fcb692630f438b930ee8)
    
    (sort of. change applied to blivet/devices.py instead of
    blivet/devices/btrfs.py)

commit 6b9e79648e09a816ad6ce1b55953e36189cad63e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Oct 9 14:21:52 2014 -0400

    Convert int to str before passing it to run_program (#1151129)
    
    Resolves: fed#1151129
    Related: rhbz#1076383
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b75ec553ad948c174062ca5f17ddd7d7ad7bdae5
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 7 13:18:02 2014 -0500

    Avoid unneccesarily tripping raid-level member count checks.
    
    (cherry picked from commit c9bd120f17232783295f36084901490bb29ae66d)

commit deef1b2ce050bdeb2bfacca8b4bb5e522c6e038c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 7 13:06:57 2014 -0500

    Allow toggling encryption of raid container members. (#1148373)
    
    (cherry picked from commit bac03eb588e627f4ff70bc7a36511b6458fbf37c)

commit 430d0b2f804135d42fc9b2fba94d3ef4e84c9eaa
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 7 11:24:05 2014 -0500

    Organize installer block device name blacklist. (#1148923)
    
    (cherry picked from commit f1044fa06be3be92ef5da2caf5254b31b4cdd7d2)

commit a171a26835902f6d2dc6f53d3551936b61c13fdd
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Oct 8 11:20:57 2014 -0400

    New version: 0.61.4

commit d02c5346b9861c12f1383b3457df99dd10132659
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 29 08:21:04 2014 -0400

    Canonicalize MD_UUID* values in udev.py (#1147087)
    
    Resolves: fed#1147087
    
    Sometimes, MD_UUID* are obtained, not from mdraid methods, but
    from udev methods. Since these did not pass through the mdraid methods,
    they are not canonicalized, leading to uncanonicalized forms being used for
    lookup. Now, they are canonicalized on lookup in blivet.util.py. Since
    the canonicalize_UUID method is shared, it is moved up into blivet.utils.py.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fb9512bcf1ae540c28cbd1df11e4f8c6c82befae
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 24 08:00:17 2014 -0400

    Add a test for activation.

commit d97d255eb014ccec0e90900319a2bc20d1640bff
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 21 13:43:28 2014 -0400

    Add a test for mddetail on containers.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3cd04759043a198e3f156862c5e759442b314c7f
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 21 10:49:44 2014 -0400

    Still attempt to destroy even if remove failed.

commit 686df6a74e317e633bccc6363c9184b5488db7ea
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jul 25 11:12:16 2014 -0400

    Use long messages for unittest errors.

commit 8f131659ebb56bf90e032490805854e4e5f9efe7
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 24 13:19:54 2014 -0400

    Fix mdnominate error message.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a5931b8d4695b4c2aad5af80c4517e9d702777e5
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 31 10:44:51 2014 -0400

    Break once metadata value is found.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 54aad4eb373c76f43171857373d2e2621944adbd
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 15 08:40:30 2014 -0400

    Split mdadd into separate functions.
    
    Incremental mode is really considerably different from add mode.
    
    For one thing, it may cause the array to be started if it was not already,
    based on the number of devices in the array and the number that ought
    to be in the array.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5a1c0b88cda92f8690c5164d4ae7cc796804f9ab
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 14 09:28:35 2014 -0400

    Refactor mdraid tests.
    
    Also, add some mddetail test cases and extend tests for mdremove and mdadd.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 72bce071a2f4b47e1490c3f4b06d912029410581
Author: mulhern <amulhern@redhat.com>
Date:   Fri Feb 7 15:34:44 2014 -0500

    Add a method to extract information about an mdraid array
    
    mdadm --detail can give useful information about the number of spare devices
    and other things that mdadm --examine can not. According to the man page
    --examine applies to devices which are components of an array, while --detail
    applies to a whole array which is currently active.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3e8f6049dd0544f0cff52d89222ab16684a52a95
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 16 08:45:35 2014 -0400

    Extend mdadm() to capture output
    
    Use it in mdexamine()
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d6e4e059d66d36ebf5b815a40f14d33e0d08db6a
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 16 09:16:32 2014 -0400

    Be more robust in the face of possible changes to mdadm's UUIDs.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 48e2eab594f31ff831046b9071f468da1be2cc97
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 14 08:47:21 2014 -0400

    Factor canonicalize_UUID() into separate method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2585d7181dc8fc79168b05a902e9bff02cc84f0a
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 16 09:15:42 2014 -0400

    Add a docstring to mdraid.mdexamine
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2326cf12aa793df7c8da7610068974c97260009e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Oct 3 13:47:28 2014 -0400

    Omit pylint false positive
    
    Original message:
    ************* Module blivet/arch.py
    blivet/arch.py:361: [F0401(import-error), numBits] Unable to import 'platform'
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 95d97ab62fd9ef801529c5937822c8a261d6318d
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 8 11:57:06 2014 -0400

    Pylint inspired cleanup (#1070115)
    
    Related: rhbz#1070115
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9f932fab428ab2fa009d4d2852233c7e99c1b2b8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 2 12:20:11 2014 -0500

    Raise an exception when we find orphan partitions.
    
    If we find a partition that belongs on a disk that we did not find a
    disklabel on (or a hidden format or an iso9660 fs) we have serious
    enough problems to justify raising an exception instead of quietly
    ignoring it. Ignoring these partitions almost always ends up causing
    fatal problems further along.
    
    (cherry picked from commit dfaf18c957a3e6af13c77c64accc8a2a248d076f)
    Related: rhbz#1144410

commit 5849ec138d6126d07927e15072fbdddef25ba8e9
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Oct 2 12:17:41 2014 -0500

    Fall back to parted to detect dasd disklabels.
    
    blkid does not know how to detect dasd disklabels, so we cannot rely on
    the information provided by udev in this case.
    
    (cherry picked from commit 3926d4f54e6c32d57ce809b3630f4bb093fff454)
    Resolves: rhbz#1144410

commit aac84c7537e875623cfbebd3b259050cc82292d6
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 30 12:11:47 2014 -0500

    Remove a problematic remnant of singlePV.
    
    commit e4549cfd0c794c4b0cf139fb3002885c88315788 removed only part of
    a conditional clause that should have been removed completely. The result
    was that all actions that create LVs within a given VG required each
    other, leading to cycles in the tsort input graph.
    
    Resolves: rhbz#1147985

commit ee3df1231b36c7389f4267d881b37ad9c39e14e9
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Sep 29 18:40:32 2014 -0400

    Remove all traces of singlePV.
    
    Won't be needing this anymore.

commit c9e26e0f32d347d8012ded844f5d3958b045bf5d
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Sep 29 18:36:47 2014 -0400

    Change the default /boot part on s390x to not be lvm.
    
    Avoid any insidious problems that may result from having /boot on lvm
    on s390x, and simply change the default partitioning for /boot to be
    on a partition.

commit 6d9be5c76572de3e27ba79d9ed98bb85f74b4c21
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 8 13:09:49 2014 -0400

    Condense and comment some devicelibs.dasd methods (#1070115)
    
    Related: rhbz#1070115
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a7989a8c71eebe6e1f5b06f7174ba204f178a8e7
Author: mulhern <amulhern@redhat.com>
Date:   Mon Sep 8 12:52:23 2014 -0400

    Add a test file for DASD handling (#1070115)
    
    Related: rhbz#1070115
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit eb52e97871a64d741fb34059c62a5c17ae2d89f2
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Mon Sep 8 09:26:28 2014 -0400

    Add two functions to enable manual addition of ECKD DASDs.
    
    This just adds a couple of functions which aid in manually adding DASDs.
    sanitize_dasd_dev_input takes a device number as a string and verifies
    whether its format is acceptable as a match against DASD device numbers.
    
    online_dasd takes a device number as a string and fill remove the device
    from the ignore list and attempt to bring it online.

commit 75887c8b3203bef9d3d4a0bec3ee5acd8841b36b
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Sep 30 14:33:29 2014 -0400

    New version: 0.61.3

commit 853476846973ba79c7c7778b9a3faed15c7df6f5
Author: Martin Kolman <mkolman@redhat.com>
Date:   Fri Sep 19 16:32:41 2014 +0200

    Don't mix target and discovery credentials (#1037564)
    
    The (optional) discovery credentials are different to the more commonly
    seen ISCSI CHAP/reverse CHAP credentials and care needs to be taken to
    not mix them together.
    
    Resolves: rhbz#1037564

commit 897889b8a294ea240e2b5a4ae3714ed7a7363c79
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 26 14:12:18 2014 -0500

    Filter out free regions too small for alignment of partitions.
    
    Make sure that we don't even look at regions shorter than the alignment
    grain size, and that free regions have sufficient length after aligning
    the start and end sector before instantiating a DiskChunk.
    
    (cherry picked from commit 4174f20f2aa6f66745c736a83f5fb09a96b4e2f0)
    
    Related: rhbz#1083687

commit 23c3b5c9ec61c6c4e6a921cccc038841665c6286
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 23 12:38:37 2014 -0500

    Align free regions used for partition growing calculations.
    
    Using unaligned free regions only introduces unusable sectors when
    calculating growth amounts for aligned partitions.
    
    (cherry picked from commit cd3b27952a60478ef9c1023ee5cb42d1af74999c)
    Resolves: rhbz#1083687

commit c24fe2e37701ee7fb00168191c1b0f9b38e8a20c
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 22 11:37:18 2014 -0500

    Try to align end sector up when aligning new partitions.
    
    (cherry picked from commit 85c74494bfdd032471f3de0daa14564ac8a4bc8d)
    Resolves: rhbz#1090477

commit 1085edd88907381b0250c432ddd533f9dbcf96fa
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 19 13:27:44 2014 -0500

    Remove obsolete conversion of size to float.
    
    (cherry picked from commit 2d93f2bba6776ecc303d0500ab36505585c2dbc5)
    Resolves: rhbz#1140642

commit 35bbcaec3a3a5076d7d9ea2512adebb74b6c764b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 18 17:22:58 2014 -0500

    Honor size specified for explicit extended partition requests.
    
    (cherry picked from commit 24fec93d2dab61715b1a925654583ef184b206e3)
    Resolves: rhbz#1077250

commit 54e78217c690a597c43b9a658f29ccb7a1c70711
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 18 17:20:10 2014 -0500

    Honor zerombr regardless of clearpart setting.
    
    (cherry picked from commit 5b7a54ab78ecf502dc4480200dd784d37b703d19)
    Resolves: rhbz#1143755

commit 5bb462e9ea7cc61dc4b84f5573b41ac77d4c1db4
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 18 16:21:02 2014 -0500

    Fix treatment of percent as lvm lv size spec. (#1146156)
    
    Percent is an alternative to a literal size. It is a fixed size request
    expressed as a percentage of the vg's free space after all requests with
    an explicit size have been allocated (but not grown). That means that a
    request defined using percent can still be growable. Such a request will
    use the size calculated from the percent argument as the basis for growth
    rate.
    
    (cherry picked from commit e0e00f38320bb0b40fb7d8c3e08be2a6fdf5b54e)

commit fbff6e9c49a8a79cf4df0ebc4a078da13f750e28
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Sep 19 14:08:50 2014 +0200

    iscsi: fix root argument being overriden by local variable (#1144463)
    
    Resolves: rhbz#1144463
    
    introduced by commit 5b39c90ae582a8fb008c3633954a33b583
    
    (cherry picked from commit 1cde1f0142850ddc105ea74b0c6e958e9b9ebf00)

commit b63871f42b4a344cc0e541d689ce5bf25579a7ca
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Sep 19 10:24:13 2014 +0200

    iscsi: add iscsi singleton back (#1144463)
    
    Related: rhbz#1144463
    
    Perhaps accidentally removed by
    commit ea4dcaa16cc26d65e9e8e94677d15
    Breaks installation on iscsi using ibft.
    
    (cherry picked from commit c39c712d4ee4395a77238dc87a3a6d549b1ea603)

commit 5f319c74d56c0a1a25f958fcea04bc76bb8f8935
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 15 16:01:17 2014 -0500

    Only cancel actions on disks related to the one we are hiding.
    
    This includes all actions related to the disk and all actions related
    to disks that are linked to the disk being hidden by multi-disk devices
    like lvm volume groups.
    
    (cherry picked from commit c81c3ac2f4f262b8db0135008974ec0c48f520e7)
    Related: rhbz#1121383

commit 479473d8956547532127a6f68301622bf9bcbb44
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 15 11:30:14 2014 -0500

    Cancel actions before hiding descendent devices.
    
    Canceling the actions can change the set of descendants.
    
    (cherry picked from commit f195052bdf347e194897f2cbc194bdf04da774d9)
    Related: rhbz#1121383

commit e54cb958f5e4a8ac756509b072032c38e067f9e7
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 11 10:54:26 2014 -0500

    Improve handling of device removals/additions from the devicetree.
    
    Move device-type-specific code for managing relationships between devices
    and the devices that contain them into the appropriate classes. This will
    ensure, among other things, that canceling a destroy action for an lv
    correctly adds the lv back into the LVMVolumeGroupDevice's lvs list.
    
    (cherry picked from commit ce442ca243dc741153b98fd402e668c7241fa06f)
    
    Resolves: rhbz#1121383

commit a40c028f8a6993424cc9fd7e166feff9f8ae6495
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 15 12:03:18 2014 -0500

    The first format destroy action should obsolete any others.
    
    The first one is the only one that knows that actual existing format it
    needs to destroy.
    
    The other rules for ActionDestroyFormat are preserved.
    
    (cherry picked from commit fbdef95dbf2100c0e5f3e06bbeb54f3666599d0b)
    Related: rhbz#1121383

commit b6893cd0fd9de45b179a985ede88115777b52237
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Sep 15 13:10:43 2014 -0500

    Do not allow modification or removal of protected devices.
    
    (cherry picked from commit 8e16af5c6f69c586e3cdf3155848bb40fd39e67d)

commit 71b1aa672e85800260085756705d141a252394a4
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 18 17:15:16 2014 -0500

    Fix pylint errors from recent btrfs commits.
    
    (cherry picked from commit d3c0cdfca31e59bad99e7554a38a0b04e086597e)
    Related: rhbz#1095866
    Related: rhbz#1015072

commit ce731f665cf9ed65d2726b21ff2f081da5d600dc
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 21 12:24:12 2014 -0500

    Propagate mount options for btrfs members to all volumes/subvolumes.
    
    (cherry picked from commit cb8ef6192e3284c811870fc4c03dff3fa067d54b)
    Resolves: rhbz#1095866

commit bcf51d7f43ed807cc6c8fe90842914702c7e069b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 21 18:27:08 2014 -0500

    Properly identify dm devices even when udev info is incomplete.
    
    This will help us to ignore device-mapper devices that we can't use.
    
    (cherry picked from commit 1fe6530b5642a99058f73b71b55b55f7731f9a32)
    Resolves: rhbz#1080727

commit 9a06fed76da9083bc8a179769f24d6186354029a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 9 12:02:19 2014 -0500

    Do not mount btrfs to list subvolumes outside installer_mode.
    
    (cherry picked from commit 21627d4ac480b1f0b862ec88114f61bcdd4776ec)
    Resolves: rhbz#1015072

commit 40b28d9089cc3f75cfa0f27d9e772b09b1d2ec6d
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 21 12:46:21 2014 -0500

    Reset default subvolume prior to removing the default subvolume.
    
    (cherry picked from commit fba26a4fdddbb375f96fbb2ed5b14af1337a37fe)
    Resolves: rhbz#1076383

commit 3a6851419371498a370e6f32e90c5bc5ea618c28
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 9 11:24:48 2014 -0500

    Increase max size for btrfs to 16 EiB. (#1114435)
    
    The maximums in blivet should be thoeretical maximums. Limitations
    beyond that are issues with the filesystem or its tools and not blivet's
    business.
    
    (cherry picked from commit aa0348048cf96834427e3e24144267a5ae6de99b)

commit 522358b3a9f678cde5caa552eca9745a325ccd37
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 20 14:22:19 2014 -0500

    Improve adjustment for removal of a subvol in BTRFSFactory.
    
    (cherry picked from commit 498fcc66cb99041f2ad06b2a143176b74ed3a777)
    Resolves: rhbz#1078995

commit 1f3ed9696dbb9f2c27802a3ecbda3dcd3dfa1cf4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 20 11:43:25 2014 -0500

    Set dummy mountpoint in ksdata for lvm thin pools.
    
    (cherry picked from commit 964ac329b7db6f35832c13055192f6268ebe92e4)
    
    Resolves: rhbz#1100244

commit 0e4aff7eb5c0bd1f072a9aee457c0baec589a99e
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Sep 17 19:03:45 2014 -0400

    New version - 0.61.2

commit 1ec7fb965df048de526c10621c9b7f07abc38ea9
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Sep 17 18:39:07 2014 -0400

    Add an epoch to blivet.
    
    Because of an error made during branching, the first build of f21 blivet
    incremented y-stream to 0.62 instead of z-stream to 0.61.1 and was
    distributed to fedora users testing f21 alpha composes. This can't
    easily be worked around any other way than by incrementing epoch,
    otherwise 0.62 will always be seen as the "newer" version of blivet in
    f21.
    
    Also, because this change is going into f21, it must also go into master
    branch.

commit 921db0736d76d1a0be5109e349f523b6b9533d85
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Thu Sep 4 13:53:07 2014 -0400

    New version: 0.61.1

commit 2238167e77c2b1898c80c7cea1c331a2b39ad564
Author: mulhern <amulhern@redhat.com>
Date:   Fri Aug 29 15:34:56 2014 -0400

    Make prefering leaves the default in getDeviceByPath (#1122081)
    
    Resolves: fed#1122081
    
    Preferring leaves was the default until commit
    822d92457e36768b9daa6a3ec689e494e9ba07df which deliberately but
    mistakenly reversed the preference.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e4c234d000ce2e3b8bee858622a6a379a31d45a0
Author: mulhern <amulhern@redhat.com>
Date:   Fri Aug 29 16:40:48 2014 -0400

    Make _filterDevices() return a generator consistently (#1122081)
    
    Related: fed#1122081
    
    Previously, it returned a list when incomplete was True and a
    generator when it was False.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8073b6e3cfa1013795f9a7832ceb96df7c1669a6
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 31 14:43:33 2014 -0500

    Don't pass md array UUID as member format UUID. (#1135670)
    
    (cherry picked from commit bc9ae63e6378cee712a879b59836f8c119205e7d)

commit b836ba5cf8433faf0ba4418bdd3b2a771637eed4
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Aug 27 14:45:59 2014 -0400

    New version: 0.62

commit 76c516339f3183b23ce4e2c0d84b0ddb221cbb16
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jul 21 08:29:03 2014 -0700

    _maxLabelChars is no longer used by anything

commit dfb3bd05b406bf39f0e81d198e2627669cccaeac
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jul 21 09:01:34 2014 -0700

    tests: Add tests for HFSPlus labels (#821201)

commit 2d5fab47e267e44f45f18be7e773cdda29110f5e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 18 15:43:48 2014 -0700

    Write a fs label for HFS+ ESP (#821201)
    
    Now that we have the ability to set the filesystem label, take advantage
    of it to set the HFS+ ESP label to "Linux HFS+ ESP" so that it matches
    the partition name and will show up in the OSX file browser.

commit 9f78ed14cff6f3a12b53afb20e31af35b7a3cf01
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Tue Jul 15 10:29:24 2014 +0200

    Minor fix of a docstring.

commit fc2415ee0cdf45f0d0438057a775e0150302f833
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jul 11 09:33:43 2014 -0400

    Get rid of partedFlags field.
    
    It is unused, and it looks like its last use was removed in anaconda commit
    b6427940cfd2de348e70f86d729e1812a46d45e5.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9e9587bb9da9f06b6fd470d0498ff38d72655298
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 11 18:06:16 2014 -0700

    New version: 0.61

commit 6a269fcaeb81f10dc4eb2f52b6c75e6fce0d534a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jul 11 17:41:42 2014 -0700

    Fix conf.py version bumping

commit cf3bab64900207e34363af094f5ca55adaf7f462
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 27 12:14:42 2014 -0500

    Add some tests for Chunk and Request class hierarchy.

commit 3c5cf5688b144e73d773e4271166d660c9039b1f
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 20 15:14:28 2014 -0500

    Honor the skip list when allocating leftover sectors.
    
    The skip list was honored in the main share-based allocation loop, but
    not in the secondary loop that allocates the leftovers.

commit bad626dcee34ff5d86a7cff7bf47d3876822c379
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 20 15:13:38 2014 -0500

    A Chunk is done growing when its pool is empty.

commit 62b1794345eda94d6d8e58948a1e7cdf5d93154b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 20 15:08:21 2014 -0500

    Don't use integer division to calculate a fraction.

commit f768110b17b9faeb2d56f3df5715c76c12be64dc
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 27 17:16:41 2014 -0500

    Bump version in sphinx config from scripts/makebumpver.

commit 3b84f2d07ab9f3f9eb3581ae661e527b8be76110
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 7 12:06:11 2014 -0500

    Remove spec= from Size usage in intro.rst.

commit 250ca58da69765f186ca6c6e10774ac544bd4c8c
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 24 09:55:48 2014 -0400

    Attempt to reset the uuid of the mdraid member device (#1070095)
    
    Resolves: rhbz#1070095
    
    Note that this information is only available for metadata versions > 0.90.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1985ac83d4eaea1f1e249b112d3821e15c31d985
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 2 16:24:33 2014 -0400

    Add new method udev.device_get_md_device_uuid() method (#1070095)
    
    Related: rhbz#1070095
    
    Note that the value is only obtained from mdadm and only if recent
    metadata version is used.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f62cd2cb82ce46a34f1b6092a5a4d1a22458c665
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 24 08:43:53 2014 -0400

    Canonicalize mdadm generated UUIDS (#1070095)
    
    Related: rhbz#1070095
    
    Examined alternatives are:
    1) To make use of the uuid.UUID class to store uuids. The difficulty
    with this idea is that some things that are labeled uuids are not proper
    uuids at all.
    2) To make the udev_info dict more object oriented, and have it sanitize
    uuids when they are added. A lot of work for very limited benefit.
    3) To canonicalize uuids everytime they are extracted from the info.
    Brittle, since you can't stop code from accessing the entries directly,
    and annoyingly inefficient.
    
    This alternative is pretty simple, and to a certain extent it's a
    workaround for a bug in mdadm, so it wins.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1c0c4e4ead78536e2eca7a1ca4bba55f0de328bd
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 3 09:54:56 2014 -0400

    Add a udev.device_get_md_metadata() method to udev and use it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit eaa73706bc0b24d264765d6d6d98be5c823e16ae
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 2 17:21:08 2014 -0400

    Change use of METADATA to MD_METADATA.
    
    Remove useless access before loop and add an explanatory comment.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b48cb64b8bd610c339bcc36ab550337fd5ef4957
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 3 10:16:34 2014 -0400

    Check for md_level of None
    
    udev_device_get_md_level() does not raise a KeyError, it returns None.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b8901858904b09b0f5f1f63f4f035a75e9edecd3
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 1 16:36:16 2014 -0400

    Do not convert the result of udev.device_get_md_devices() to int.
    
    udev.device_get_md_devices() does the conversion.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4c3fc25ce98d2053273ff4b0e05a576b78c9fd09
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jul 2 16:23:44 2014 -0400

    Add documentation to udev.device_get_md_*() methods.
    
    The inline comments indicate the likely origin of the value.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 16984f19659510d1111bb91186ecf4720185c3cd
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 3 09:41:23 2014 -0400

    Document udev.device_get_uuid() method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 365746a51b080b2233fe714952fd1a0051315c6d
Author: mulhern <amulhern@redhat.com>
Date:   Wed Feb 26 17:46:27 2014 -0500

    Add a few small tests for mdexamine
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 47a40f90092763cef0958a5e7e749537a628e512
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jul 3 10:14:58 2014 -0400

    Add test for raid level descriptor None.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ee22d59d317c655a88596069c9d42e0e3e58e47a
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 12:57:20 2014 -0400

    Use context manager with assertRaises*() tests.
    
    Equivalent expressions that use a context manager are a lot easier to parse.

commit 7d0fc7ba5f029978ca228c30f170d548375f6091
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 12:44:33 2014 -0400

    Change uuid parameter to array_uuid
    
    Motivation is to avoid name conflict with uuid import, but new name
    is a bit more descriptive.
    Improve method docstring a bit as well.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 96b32a88adbe70934c744aaf09178fad107610e6
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 16:26:06 2014 -0400

    Remove udev_ prefix from udev methods.
    
    The udev namespace identifies the methods adequately.
    Update method calls appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d19360519db7e617f2f1101fe4093e7de55788b0
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 17:38:06 2014 -0400

    Remove all references to DeviceFormat.majorminor
    
    And remove a bit of related code as well. Last uses of majorminor were
    removed in anaconda commit d819bb940717270f4c5747e894ef0c5ac509dfe2.
    majorminor was originally added in commit
    2875d2009f30f52b79f6f7d15916f73b490bc635.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1f0b4da154d031d846597cb4c83e65c50477e1b6
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 8 09:31:44 2014 -0400

    Use add_metaclass instead of with_metaclass.
    
    with_metaclass hides descent from object from pylint analyses and leads
    to tons of messages arising from the analysis' belief that it is dealing
    with old-style classes.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 30ce4aaceed19ea434249c3eabaf8c7c0ba40f4c
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jul 7 18:42:10 2014 -0400

    Disable redefined-builtin warning.
    
    All redefinitions are python 2/3 compatibility redefinitions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 74dbec50af007f85e2989195e3163cff22c82ca7
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 8 09:05:29 2014 -0400

    Use range instead of xrange in generateBackupPassphrase()
    
    There is no real gain to using xrange in Python 2 and in Python 3 range is
    a generator anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 68771252aa5024036066642cd91199fdd5ef5734
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 8 08:38:42 2014 -0400

    Add a simple test of generateBackupPassphrase() result format
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fbc37f5099fd715cfdd8345811facc06b763a61c
Author: Robert Kuska <rkuska@redhat.com>
Date:   Thu Jun 26 10:32:35 2014 +0200

    Python3 compatibility

commit 2964cf8bd5268900ec2580c26e712e59929a43d0
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 2 17:39:26 2014 -0700

    Replace python-setuptools-devel BR with python-setuptools

commit 9386d6209d51dcf18895120859da013024d6ece9
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 2 17:35:23 2014 -0700

    New version: 0.60

commit 16fa1e68e66cb820e28b43472ec5c5b142a2c9da
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jun 20 14:36:08 2014 -0400

    Do not use udev info to get the name of the device.
    
    This name is only used in the warning, and device.name seems like a better
    choice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ec17281124b9c7b602245ae31a7ba3a615db39ee
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 23 16:07:29 2014 -0400

    Remove unnecessary fanciness about importing devices.
    
    The name will go away when the function is exited, it does not
    need to be explicitly deleted.
    The name does not conflict with any other names in the method, to which
    it is local.
    There are no global 'devices'.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3d0e6e4a83bf8c2fae8696513d4222875b4501c7
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jul 1 12:36:00 2014 -0400

    Disable some pylint warnings that arise due to anaconda versions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 219da5db765000b6b37df952eec19d35f92bbd1b
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 24 14:59:50 2014 -0400

    Allow RAID1 on EFI (#788313)
    
    Related: rhbz#788313
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 33b5f6434ab02e39d01f26d5bfaec2de238f86a2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 26 17:21:57 2014 -0700

    New version: 0.59

commit f3ff0a62b029525c83253b07800edaf2868c67cd
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jun 26 16:22:22 2014 -0400

    When logging, indicate whether exception was ignored by blivet.
    
    Other tools examine the log to determine if there was a failure. The
    IGNORED flag indicates that, while there was a traceback, blivet felt
    able to ignore it, and so the tools should not treat the existance of this
    traceback as a sign of failure.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit be156e3ddd87f5059966aedb0eb08f07591e1462
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jun 25 16:56:49 2014 -0700

    New version: 0.58

commit 9fb8ed558c18843a392eab4135df386ccedbbc5b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jun 25 10:30:44 2014 -0700

    Only import ROOT_PATH if needed
    
    Anaconda is going to drop ROOT_PATH, only try to import it if there is
    no getTargetPhysicalRoot method available.

commit e2289fa9af2672322ebcf84da9b06733f9ed60aa
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jun 24 15:56:53 2014 -0700

    Add early keyword to setUpBootLoader (#1086811)
    
    Anaconda custom partitioning needs to call setUpBootLoader but at that
    point the stage1_device setup would fail, so add a flag to skip it so
    that stage1_drive gets setup without an error being raised.

commit 5fac6ea7fbea7c78223bc534c05aa25ebddfe249
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 5 11:00:01 2014 -0500

    Only log a warning about labeling if something is wrong (#1075136)
    
    Resolves: rhbz#1075136
    
    If do_labeling is False, then we are not choosing to set a label during
    filesystem creation. Probably we are deferring setting a label until
    after the filesystem has been created.
    If self.label is None then we are accepting the filesystem default label,
    and not setting any label.
    
    So, we only log a warning if setting a label is what ought to happen but we
    don't want to risk it because it looks like the label format is not accepted
    by this filesystem and that therefore, specifying the label arguments may cause
    failure at filesystem creation.
    
    Note: Some filesystem creation apps will truncate a label that is just too
    long but others will fail instead. We do not want to distinguish
    among filesystems based on this behavior.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 54d9d80fdf1979779973b42b7e4b5731ce93e77e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jun 18 12:58:04 2014 -0400

    When adding an md array, allow adding incomplete arrays (#1090009)
    
    Related: rhbz#1090009
    
    This choice is made conditional on the allow_degraded_mdraid flag.
    
    The reasoning is that a degraded array may still be usable, even if it
    has lost its extra disks.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit db7ac527b05fdd70657943f3d72678dc3d62675a
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 15 16:27:59 2014 -0400

    Add a flag to control whether a degraded md raid array is used (#1090009)
    
    A degraded md raid array may still have enough disks to function.
    The flag is set to True by default. Wrt. to the installer, it is generally
    False, since installing to a degraded array is a bit reckless, but True
    if the installer is in rescue mode, where it is desirable to locate as
    many devices as possible.
    
    Related: rhbz#1090009
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 822d92457e36768b9daa6a3ec689e494e9ba07df
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 17 16:43:31 2014 -0400

    Remove preferLeaves parameter from getDeviceByPath()
    
    The only use of this parameter was removed in anaconda commit
    8eb4f8f82ace112e7f216b6e70633a3549949187 (Wed Aug 8 09:58:51 2012).
    It was added in anaconda commit 718622ed2b54979b09712c10bc94fd86f6ea81e8
    (Mon Nov 21 09:50:25 2011 -0600).
    
    This is a semantic change, the new version returns the first match it finds,
    whereas the old version prefers a non-leaf match by default.
    However, the list of devices is searched in order, and the list is generally
    ordered with leaves at the end of the list, so a non-leaf device will generally
    be found first.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d49ca015b22c18c05ded0d8ecb9ca5688cfe50f1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 9 17:20:41 2014 -0400

    Factor out commonalities among getDevice[s|]By* methods.
    
    Log each and every method call and return.
    Make all getDevice[s|]By* methods respect incomplete and hidden parameters.
    Add checks for the existance of the value to match by in some methods
    where none such existed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 025bfff3c478da3e4a8830322e63cb58d325d94f
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jun 13 17:36:59 2014 -0400

    Omit special check for md devices in addUdevDevice().
    
    If the device appears to be an md device, just call addUdevMDDevice directly.
    
    Use udev_device_get_md_uuid() to get the mduuid of the array, but catch
    a key error. This has the same effect as the previous code, but is a bit
    more proper, even if more wordy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7f891abbad830e2346053380ead3f8e08df67c70
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jun 13 17:20:43 2014 -0400

    Remove unused 'slaves' variable.
    
    It is initialized and modified, but never actually used.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a77bf8995b4673696bf9ba539727e6d3ad38ff73
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jun 13 16:56:32 2014 -0400

    Move down or remove assignment to device in add* methods.
    
    The assignment at the top of the method is distracting, because it looks
    like the value is relevant throughout the method when it is only relevant
    at the end. In some cases, the assignment value is never used.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cc415ff3b6d725edcf01b1923d43d2745ea177ab
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 17 08:42:36 2014 -0400

    Move DevicelibsTestCase up to the top level of the testing directory.
    
    It is used by formats_test tests as well as tests in devicelibs_test.
    Change all uses appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0eccc709b3678cc20a6503283f935b92fd4493a1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 17:20:40 2014 -0400

    Accept None for btrfs raid levels (#1109195)
    
    Resolves: fed#1109195
    
    None means None was assigned, so accept any default that, e.g., mkfs.btrfs
    decides on. This default is hard to predict, as it may vary with the size of
    the backing device as well as other factors.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c7b7ce8e2a0c00ab2e0f8420d5b426a85415fe02
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 16:19:33 2014 -0400

    Add a test for a btrfs error associated with small devices (#1109195)
    
    Related: fed#1109195
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 03f01c98b06819635a6d340615fc95210188d36e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 19 16:52:24 2014 -0700

    New version: 0.57

commit acdc286b10f4be4f0109c1ba4746f9777bd5d151
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 13:18:00 2014 -0400

    Make DevicelibsTestCase devices configurable.
    
    Allow choosing size of backing file. Do not use the path of the backing
    file in all subclasses in previous strange way, since it is irrelevant
    to all the subclasses, and only relevant to DevicelibsTestCase which has
    to do the necessary cleanup. Use a new attribute, loopDevices, to store
    the actual loopDevices, which are what is required by the subclasses.
    Fix up the subclasses to use this attribute appropriately. Change directory
    of backing file to /var/tmp instead of /tmp.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c9b4a044c89377f70ce52c22c63473ac19f50b20
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 12:40:52 2014 -0400

    Use correct parameters in __init__() in subclasses of unittest.TestCase.
    
    Can get away with using *args, **kwargs, but it is not helpful.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 537aa6da540dac8838c1315bd90feb04646b6575
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 11:54:28 2014 -0400

    Add num_blocks parameter to makeLoopDev().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9a907a2b60401f28cadfd92df54956bb48054e15
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 07:49:10 2014 -0400

    Move skipUnless decorator to the top level class of skipped classes.
    
    Simpler than to distribute the decorator uses all over the base classes.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 772f981cb20b25a2fd904ce3bb4a775f135f0d21
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 11:42:55 2014 -0400

    Explicitly accept a string as well as a RAIDLevel object.
    
    This aligns this choice with the equivalent for mdraid.mdcreate.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0548b4f7f8296f1e83408ed0ec42a15243f4d9de
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 17:20:08 2014 -0400

    Update BTRFS initializer comments for level type.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit de5e3c68e833e040a7d7f804a9170c834b133ed4
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 18:22:46 2014 -0400

    Remove some extra imports.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 20a6fedcd1490fbfa55e304196fb54b06337450d
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jun 18 15:23:11 2014 -0700

    Add method to set the default disklabel (#1078537)
    
    platform.setDefaultDiskLabel(label) will move the disklabel to the front
    of the list if it is supported on the current platform and return True.
    If it isn't supported it will return False and leave the list as is.

commit 045f606dfa8fa319e7273b910b2bf73300fd092a
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Jun 11 14:42:53 2014 +0200

    Do not try to activate dmraid sets if the dmraid usage flag is false

commit c1001380437d98d1cdf8afaf7486b59fbbe1e587
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Jun 11 15:58:54 2014 +0200

    Use the value of the Anaconda dmraid flag to set the Blivet dmraid flag

commit 4d5ae4e7ffaeb669b3e95ae6e4a1449fc9251108
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Jun 11 11:47:06 2014 +0200

    Use the value of the Anaconda ibft flag to set the Blivet ibft flag
    
    Previously the Anaconda ibft flag has been ignored by Blivet,
    now it is respected, which makes it possible to for example disable
    ibft by passing the noibft option to Anaconda during the installation.

commit a0493cacb9c55c040c5b226394d4d053a701edbb
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 10 17:06:34 2014 -0400

    Ignore _build directory in doc directory.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 62ea6aa4bc40c60c2fd8737ab5a6eda2afd952d9
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 10 17:01:54 2014 -0400

    Change intersphinx mapping to avoid linkcheck redirect errors.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fed53d969af0eddaeeca58cdf3e40916497aa305
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 16 09:05:24 2014 -0400

    Remove doctest target from Makefile.
    
    Actually running any code that occurs in the comments does not appear to be
    all that desirable.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1b40c333adfd510d2de4b4d0d2e7e26e4c3b02ba
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 10 12:33:33 2014 -0400

    Allow the table of contents to go one level deeper.
    
    This gives a better hint of what lies beneath and does not take up too much
    screen space.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3365bd8d4508228c2e4f91195cae3c1db485c5f6
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jun 10 12:28:29 2014 -0400

    Automate generation of the .rst files which just set up the modules.
    
    Since these .rst files were added a couple of files have moved or been
    added and these .rst files should have been updated, but weren't. Now
    they'll be updated automatically, and they won't be in the repository.
    
    This isn't fully automatic, but the step of removing these particular *.rst
    files is in the correct direction.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8e38b176fb5d2a73b39250f0a62f3af7933e8f43
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 12 18:19:07 2014 -0700

    New version: 0.56

commit 67c8140b1c8c210afa2847b9a90866b89982c2f7
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 11 15:18:06 2014 -0500

    Skip device name validation for some device types.
    
    Partition and loop devices' names are set by parted or losetup, so there's
    no need to validate the symbolic names blivet uses. Similarly, btrfs volume
    names are only used within blivet so there is no need to validate them.

commit c5e1990ee8c90f7efb81ec913142c11e8ecabe91
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 29 14:34:03 2014 -0500

    Add a property indicating whether a device is directly accessible.
    
    Directly accessible means there are no layers of abstraction/indirection
    between the device and a user. An example of a non-direct device is an LVM
    PV that is part of a VG. An example of a direct device is a partition that
    contains swap space.
    
    It used to be the case that direct was equivalent to isleaf, but no more.
    Actual leaf devices, all btrfs subvolumes (including the top-level), and
    snapshot source/origin devices can all be accessed directly by users.

commit a8725303df7e8c0d37d8902c21204960a1f53fb8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 29 14:33:19 2014 -0500

    Add support for read-only btrfs snapshots.

commit 0293a4ac79d8590f35590cf1f76f2f10366bb664
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 16 11:18:41 2014 -0500

    Add tests for snapshots.

commit 2faaf8076dcdf54602be42df58c37ba58fbd857c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:21:32 2014 -0500

    Special treatment for getting parted device for old-style lvm snapshots.
    
    The device at the obvious path shows the same size as the origin, which
    is not necessarily the size of the snapshot. This special device with
    "-cow" appended to it seems to show the correct size.

commit 48e91aa1e79300445fe0465ea68ea5047a947f21
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 21 13:39:57 2014 -0500

    Some devices have immutable formatting.
    
    It is not a good idea to try to reformat a snapshot or a btrfs subvolume.

commit 854a4a9c419152a250c6083c6bd2767d9f2d5be5
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 14:12:55 2014 -0500

    Detect existing btrfs snapshots.

commit 61f7714de27f4c80c0f0e350e2589c056ea7b998
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 21 12:04:57 2014 -0500

    Drop special accounting for snapshot space usage in VG.
    
    Snapshots are now represented by devices, so the space accounting is
    handled the same as for other LVs.

commit 4a53e862f0a6cfeea6bf665c62d64fa7d447692a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 16:21:09 2014 -0500

    Use LVMSnapshotDevice when populating the devicetree.

commit bdb6ee1e5d1978b3e0bbe3111690bc17653238c1
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 16:20:40 2014 -0500

    Add Device classes for snapshots.

commit 5fe4bf69a5ba924bb8a60c6cc95767dbf1c042b9
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 21 13:03:52 2014 -0500

    Add ignore_skip keyword arg to lvactivate.
    
    Thin snapshots are marked to be skipped at activation time by default, so
    this extra argument is required to activate them.

commit 1429883c5c3c9b7fbc6d912c42a5166cdcf3abc8
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:14:09 2014 -0500

    Add optional kwarg to force removal of a logical volume.
    
    Old-style snapshots and their origins are always activated and deactivated
    together, which makes it impossible to directly manipulate the status of
    such snapshots. This can lead to lvm asking if you're sure you want to
    remove an active snapshot which, of course, you are.

commit e440bfc9e622807111c3bba1b3bfba7ab4523081
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 16:19:48 2014 -0500

    Add backend functions for creating and managing snapshots.

commit 313d69fe3c86402aac37733ed58cae23af616a11
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 21 13:10:42 2014 -0500

    Add docstrings for BTRFSVolumeDevice and BTRFSSubVolumeDevice.

commit e48a30e137db9e4456b3287887ced73064945789
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:13:36 2014 -0500

    Remove duplicate portion of lvm config string.

commit 82633ca20a07522b2261aa5062ae611aa84e7cab
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:12:29 2014 -0500

    Reset the devicetree before tearing everything down in _cleanUp.

commit a5241f493875ae6f88f1b84e178653014c303585
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 27 12:11:28 2014 -0500

    Make sure disk filters are applied even if populate fails.

commit 983b851de6aa3517238a2e10caed247ad8082790
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Jun 9 08:30:50 2014 +0200

    Sync the spec file with downstream
    
    Some noise has been added due to the mass rebuild.

commit 4fcd05a6e1f92c39cf0fdda5ffd4c87c3d279da0
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Jun 6 10:22:03 2014 +0200

    New version: 0.55

commit edfc0d34995ee13a7a903988eaf793fd74556edc
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Thu May 29 15:04:52 2014 -0500

    IPSeriesPPC now supports GPT in Open Firmware
    
    IBM PowerPC's Open Firmware now supports GPT partitioning.

commit 465d655e3019087cadc375b337d090279d1a2a0b
Author: David Shea <dshea@redhat.com>
Date:   Wed Jun 4 13:00:33 2014 -0400

    Fix device name validation for devices that can contain / (#1103751)
    
    In addition to FileDevice and its subclasses, allow / in name for
    NFSDevice, BTRFSSubVolumeDevice, and any StorageDevice trying to create
    a name starting with 'cciss/'.

commit 58462d0fe7ea56782fd7f98817e8a5cae8c0eedb
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jun 2 12:11:53 2014 -0400

    Add a getRaidLevel() convenience method to raid.py
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e2f05d7699e232b756663b3b700287c728d2dc9a
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 29 18:54:46 2014 -0400

    Make a StorageDevice.raw_device property and use it where appropriate
    
    Only allow a "NoneType has no attribute <x>" exception where it would
    be allowed by the code that it replaces anyway. Otherwise, check for
    existance of device before accessing its raw_device property.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8ffb0abde776b1bd8cb8f7be15f754a50a7feb03
Author: mulhern <amulhern@redhat.com>
Date:   Wed May 21 07:52:42 2014 -0400

    Simplify a small chunk of Blivet.updateKSData()

commit 62370a8276e24d3cb444405824c6e6ff52caf065
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 29 12:37:44 2014 -0400

    Move the code for getting a space requirement from devicefactory to raid.
    
    In devicelibs/raid.py make a new function called get_space which estimates
    the space required for data and metadata. Make a few auxiliary functions.
    
    mdraid now requires that its RAIDLevel objects supply get_space, rather
    than get_base_member_size (which only made sense for RAIDLevel objects for
    which uniform is True).
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4c4921a9c446c6f7bc52b980168bf9e86b1094d3
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 6 11:55:55 2014 -0400

    Make all devicefactory classes uses RAID objects instead of strings.
    
    Also, since LinearRAID now exists, do not have to special case 'single',
    do not have to special case it in DeviceFactory.configure().
    
    Add a constructor for MDFactory that raises an error if there is no raid level
    specified.
    
    Fix up associated tests.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0fe55a1a84bc77d8750fb2f44c4bfe941be94563
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 30 11:02:01 2014 -0400

    Remove devicefactory.get_raid_level from blivet
    
    It's really about the anaconda GUI, so that's where it should go.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit db5f3a71d2d5ae6d3b888a24aab52bac88519948
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 30 11:07:03 2014 -0400

    Put get_supported_raid_levels in devicefactory.py
    
    Change return type to a set of RAIDLevel objects.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2cb79f3d2fff0617cdfac322630d1e320b0736a3
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 6 11:45:45 2014 -0400

    Make BTRFS devices use RAID objects instead of strings for levels
    
    Update some comments on btrfs.create_volume() to match.
    
    Also, refine BTRFSVolumeDevice._removeParent() method.
    There is a change in behavior, if there is any RAIDlevel then the minimum
    number of parents can never be less than 1. Previously, in the case of
    single raid, it could be 0.
    
    Make a separate list for btrfs's notion of a metadata RAID level.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 92fe5313b565896c0aebc51bc7f0b6061273dab6
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 2 14:48:00 2014 -0400

    Add lists of supported RAID levels for btrfs and lvm
    
    Update raid level code in BTRFSDevice appropriately so that it no longer
    get raid.RAIDLevels(), instead gets the list of BTRFS supported RAID levels.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a1cd41139d533c528155be0bfe92fa72e7ff86f1
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 27 12:34:30 2014 -0400

    Add "linear" to mdraid's list of supported raid levels.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cd2bbb81f592f44ccca19747b1e4145b3f97c756
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 15:57:41 2014 -0400

    Remove getRaidLevel() from mdraid file and make RAID_levels public
    
    devicelibs.btrfs and devicelibs.lvm will be the same. Keeping getRaidLevel()
    will just require making copies of it for each of these, in order to remain
    consistent.
    
    Update some tests as appropriate, where RaidError is thrown instead of
    MDRaidError.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 01dd56b3c6b9c019d1a5db7a0a5a1da608ce3ed6
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 15:43:41 2014 -0400

    Check for required methods in MDRaidLevels.isRaidLevel.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2562a576d2ff3b0173a7ed7e1a6982bf8b681a95
Author: mulhern <amulhern@redhat.com>
Date:   Sat May 17 10:25:19 2014 -0400

    Use has_redundancy property to decide how to add a member to an array.
    
    Better than using explicit names.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 36222515a5564942e4cb84c06ef38d432dfad91a
Author: mulhern <amulhern@redhat.com>
Date:   Sat May 17 10:23:39 2014 -0400

    Update the mdraid.mdadd comments
    
    They were restricted to be about the raid levels that were supported when
    the comment was first written.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f9f537a491d87fea835fda2c1bf39ccf9a34db83
Author: mulhern <amulhern@redhat.com>
Date:   Sat May 17 09:26:42 2014 -0400

    Use has_redundancy raid property when checking whether a device is removable
    
    There is a semantic change here, an error will be raised in the case of
    every non-redundant raid, which in this case includes "container" as well
    as "raid0".
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4513a7a5571724bc513c64fc463fdbc6a512a168
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 13 16:03:10 2014 -0400

    Make createBitmap() a property and update tests appropriately.
    
    createBitmap() seems to be a simple function of the device properties.
    All of these properties are relevant when its value is used in calling
    mdcreate(), so they should all be taken into account at that time.

commit aae1b64238a0269b4e965a2f948c4b762afbb047
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 27 11:20:45 2014 -0400

    Add a Dup class to the various descendants of RAIDLevel.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit afdfd5bf8a8aaf0b5957b1ac0e8f80293a3e45fe
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 20 13:18:32 2014 -0400

    Add an is_uniform property to the RAID levels.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2f63f390da694a44a1b3c82902414812d1dca693
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 16 15:30:03 2014 -0400

    Add a has_redundancy method that returns True if there is actual redundancy
    
    Some RAID levels, e.g., 0, don't actually have any redundancy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3dbcdf84d169a7b990460df07bd7e1fb28166855
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 16:06:25 2014 -0400

    Add Linear and Single to the RAID classes.
    
    Let them share an abstract super-class with an implementation, they just
    handle the names.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e7f4b820bf9339e1a863a27a46178beb56ac71bd
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 15:00:04 2014 -0400

    Move Container class to raid package and tidy it up
    
    Remove dead attribute nick and get_raw_array_size which is really
    only appropriate for RAIDn classes and was renamed to get_net_array_size
    in a previous commit.
    
    Make Container.get_recommended_stride() raise an exception as the
    notion of a recommended stride is meaningless for containers.
    Do not catch the exception because if there's a situation where a Container
    is being formatted, the only reason why get_recommended_stride() would be
    called, something has gone wrong.
    
    Add get_max_spares() and get_base_member_size() which both raise an exception.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4de58bda1957537c3bbd8ba500772405d062f04e
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 2 12:58:52 2014 -0400

    Allow the RAID object itself to be a valid RAID descriptor for lookup.
    
    Update tests accordingly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6c5813022c252dc79231b96c72f83df3115d57e0
Author: mulhern <amulhern@redhat.com>
Date:   Wed May 7 16:58:54 2014 -0400

    Adjust RaidLevel hierarchy so that all raid level objects extend RAIDLevel
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 75706b5433678184301c4108f5fffcb35d8482ad
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 13:19:48 2014 -0400

    No longer use _standard_levels as the default set of RAID levels.
    
    The notion of a "standard" RAID level is being eroded too rapidly to make it
    really useful. ALL_LEVELS is a better notion.
    This change has the added benefit of simplifying the RAIDlevels constructor.
    Also, make _raid_levels property a set instead of a list since no real
    ordering make sense.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 704e0cfaa896a63c7bd460a64e25be1c7267dacd
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 16 10:05:39 2014 -0400

    Extract selection of members in complete() into a separate method.
    
    Use it in complete().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2415ac15612742c1aa992938cea2f0c0435c995c
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 16 10:02:42 2014 -0400

    Remove DMRaidArrayDevice.members property.
    
    It seems to be entirely unused since ContainerDevice class was introduced.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f09590b1a0ddf9dc82e25bab7bcf4d3d5fbffb04
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 13 15:38:45 2014 -0400

    Comment mdraid.mdcreate() and update tests appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 33de3dc91cfaebb7551d63d829a70dbdab68756e
Author: mulhern <amulhern@redhat.com>
Date:   Mon May 5 11:36:56 2014 -0400

    Import name 'lvm' instead of names from lvm package.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1f941fd039bdf634e8204f9c51cd7ce075e8931c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 2 17:03:06 2014 -0700

    New version: 0.54

commit 02b865b19cfa941e787af072b4d3c1d49bd01c38
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed May 28 09:06:46 2014 +0200

    Add tests for setting device's parent list directly
    
    (test for the fix 5ccfa39ab1dc917d85d76aadcb0cf08e60fde31c)

commit 5ccfa39ab1dc917d85d76aadcb0cf08e60fde31c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 27 16:27:08 2014 +0200

    Do not alter the ParentList being iterated over (#1083581)
    
    Removing items from a list that is being iterated over may result in various
    weird, unexpected and hard to track issues (see rhbz#1083581 and rhbz#1098185).

commit 81957d809f3fd86249c413c5ce78adf990c2d063
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri May 23 14:00:51 2014 +0200

    Do not limit ThinLV's size to VG's free space
    
    ThinLV takes extents from a thin pool LV not from its VG.

commit 5608f8bd6a27290e2b9768c7f5a60fe66be9ce44
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 13 16:10:02 2014 +0200

    Take extra RAID metadata into account when growing LV (#1093144)
    
    If we create an LV in a VG that has one or more of its PVs on top of RAID, we
    add 5 extra PEs per disk for the metadata. So when growing an LV we should take
    that into account and shrink the available pool size with those extents.

commit 1b742df1d4c96adf72313e2546bc88ad4344d469
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue May 13 16:08:23 2014 +0200

    Move apply_chunk_growth outside of a for-cycle
    
    Otherwise it is for no reason defined again and again. Prepend an underscore to
    its name to mark it private.
    
    Related: rhbz#1093144

commit bc1b50be716aa46a9a05cd5708649d4db17f8584
Author: Martin Kolman <mkolman@redhat.com>
Date:   Thu May 22 14:32:15 2014 +0200

    Multiple arguments for string formatting need to be in parentheses
    (#1100263)

commit e587c71108ae5e1d525e8159f95b3180dac731c5
Author: Martin Kolman <mkolman@redhat.com>
Date:   Tue May 20 19:03:11 2014 +0200

    Make print statements Python 3 compatible
    
    The print statement has been dropped in Python 3.
    Fortunately, if the print statement is written as if it were a function
    (print("foo") vs print "foo") it still works in the same way, is Python 3
    compatible and the few special cases can be handled by importing the
    print_function from the __future__. So there is really no reason to
    not just use the print "function" everywhere and make Anaconda a bit
    more Python 3 friendly.

commit 5dd0d9b389fcf6e8ea9b1e59fa965ba4f965f0ea
Author: David Shea <dshea@redhat.com>
Date:   Tue May 20 10:05:01 2014 -0400

    Validate device names
    
    Add a classmethod "isNameValid" to blivet.Device that returns whether
    the configured device name is valid for the device type, and use this
    method during __init__ and setting the name. Currently the only checks
    are for /'s in most device types, except allow /'s in FileDevice, and
    then do something with the madness that is LVM.
    
    Add the more-or-less sane parts of LVM's restrictions (no names starting
    with a -, no ., no ..) to safeDeviceName.

commit 721a156525b3611dc826918a3dbb1b8fb82da277
Author: David Shea <dshea@redhat.com>
Date:   Mon May 19 17:59:06 2014 -0400

    Use a setter for Device.name as foretold by the prophecy of TODO
    
    Remove the uses of Device._name except the parts that actually need it.
    Change the property to use _getName and _setName methods to make it less
    confusing to override.

commit a17591fd52b829d6cdc2f371fb22c5b4f2958ad9
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue May 20 16:47:57 2014 -0700

    New version: 0.53

commit 7d09fd35cb9ca0e521480e8e358ab7a57834a844
Author: David Shea <dshea@redhat.com>
Date:   Mon May 19 09:45:52 2014 -0400

    Remove extra quotes from the xfs_db arguments.
    
    The argument list is passed straight into subprocess.Popen and not
    interpreted by a shell, so quotes within the arguments are not needed.

commit 9ee1f5eeea35138cc9133d10cef045145481e525
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 8 12:29:11 2014 -0400

    Factor duplicate code in __deepcopy__ methods into one method (#1095244)
    
    Related: fed#1095244
    
    The method treats attributes in omit and attributes w/ value None the
    same way.  Previously, an attribute with a None value was not handled
    specially, which could lead to "NoneType has no attribute <x>"
    sorts of errors.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7f73593417b06813484551d25a0241bc1ee1a41e
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 8 15:08:32 2014 -0400

    Rearrange code related to handleUdevDeviceFormat() (#1095329)
    
    Resolves: #1095329
    
    Move some actions from calling code into handleUdevDeviceFormat():
    * Move checks for non-existant info and media not present
    into handleUdevDeviceFormat().
    * Move logging obtained format into handleUdevDeviceFormat()
    
    Move check for no device found in handleUdevDevice() earlier,
    make the message a bit more informative, and omit redundant
    checks for existance of device that occur after the check.
    
    Now handleUdevDeviceFormat() will exit if media not present. Previously,
    there was one caller, updateDeviceFormat(), where handleUdevDeviceFormat()
    would be called regardless of whether media was present and another,
    handleUdevDevice() where the call would not occur if media was not present.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3fb73aa58ea498d8a53d5a43932186a2874513c6
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 8 09:49:06 2014 -0400

    Make dumpState catch and log all AttributeErrors (#1095329)
    
    Related: fed#1095329
    
    It really seems wrong for it to fail on what may just be a mistake
    on the part of some dict() somewhere.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6c904cb372948941ac5f973a4985c9ef5cdafd19
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 8 09:27:55 2014 -0400

    Add sectorSize property to catch and handle missing partedDevice (#1095329)
    
    Resolves: fed#1095329
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 96f09bbafdd181448f222e140aeb892a2cc7400e
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 13 08:08:38 2014 -0400

    Get rid of remaining uses of spec keyword for Size() in examples directory.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9769e4e93f8c9be41a07fb50f13bddc8d87cc062
Author: mulhern <amulhern@redhat.com>
Date:   Tue May 13 07:57:51 2014 -0400

    Generalize false positive regular expression for multiple pylint versions
    
    The message was slightly changed between pylint versions 1.1 and 1.2, the
    more general regular expression matches both.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit eceb73b20f5b5ccca834b1a89c2412f2026e1dd1
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 9 11:24:10 2014 -0400

    Do not run some tests unless running on Jenkins.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a60f14b390d22899bf82986f7938ae108783af14
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 9 08:21:25 2014 -0400

    Miscellaneous pylint fixes.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2ac6c3aaf698c88b42d297ce9ad8db8bf1f9c135
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 9 10:20:11 2014 -0400

    Globally disable pointless string statement warning
    
    It warns on attribute docstring and also other multiline comments that use
    double quotes and as far as I can remember has never warned about
    an actual problem.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 867555b6eaef0bf1d0d6fd845eac44e6a5cac2f0
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 1 11:18:00 2014 -0400

    Disable unused argument warning for 'args' in TmpFSDevice constructor
    
    The usage is consistant with that of some, not all,
    of the other Devices constructors.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b1d1391e02bd5c6e112ecf1548ec15557996babd
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 11:40:42 2014 -0400

    Omit 'args' parameter from formats constructors
    
    It is never used and it seems like a bad idea to encourage callers to use
    positional arguments.

commit 0daaefd90d35216ac6c98114e8e56ccf88968ec9
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 11:15:54 2014 -0400

    Disabled unused argument warning for kwargs in formats.destroy()
    
    It is there because it may be necessary to pass miscellanoue arguments to
    methods that formats.destroy() calls, sometime in the future.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a2913f16eaa964eff70bd69b6a42805a20e2d266
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 11:12:50 2014 -0400

    Omit *args from parameters for format.create() and formats.destroy()
    
    All arguments are, and should be, passed as keyword arguments, it is
    not a good idea to encourage calling code to use positional arguments.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0e4f67338dfbdd665e7c9aeb220272dcad19b166
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 09:02:26 2014 -0400

    Omit *args from parameters in formats.setup()
    
    All arguments are, and should be, passed as keyword arguments, it is
    not a good idea to encourage calling code to use positional arguments.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d08e043e8d353cbcc26a6d3f56bda285955d4259
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 17:59:00 2014 -0400

    Make formats.teardown() not take any extra parameters.
    
    They are not used and it is never called with any arguments.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c83f34ede4ac8e1b6a47fc7ddb6153be798edb17
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 17:12:17 2014 -0400

    Make formats.mount use explicit keywords instead of kwargs.
    
    *args, *kwargs idiom is not really appropriate here.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 82d70daa23c4563d55822166fc2a596d87baeb42
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 16:55:08 2014 -0400

    Remove non-self params from FS.doResize method
    
    The params are not used at all and this makes the signature match that of the
    TmpFS.doResize method which is intended to override it.
    
    No arguments other than self are passed where it is used in
    blivet.deviceaction.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1a6a28c5e418a40a3832b6dc8c0c6cf9c5857840
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 16:44:01 2014 -0400

    Make doFormat use regular style keyword parameters
    
    doFormat is almost a leaf procedure and it is unlikely to find itself
    calling procedures that require arbitrary arguments.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bf82a12d16b559ea6cc3ad589b1444f06030f0fe
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 12:15:02 2014 -0400

    Do not use *args, **kwargs idiom in scheduleCreateFormat.
    
    Do not bother to remove keyword arg usage from invocations, it makes the
    invocations clearer and otherwise makes no difference.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9319501b47a4e98450d77484c2166e1b44166398
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 11:29:09 2014 -0400

    Do not use *args, **kwargs idiom in various schedule* auxiliary test methods.
    
    When the method has a single non-optional argument, the *args, **kwargs idiom
    seems inappropriate.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c747d4c8617a5497fa25f7ed99d452cbbdfd801b
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 25 12:37:56 2014 -0400

    Remove upgrading param from turnOnSwap()
    
    It is not used in the body of turnOnSwap() or in any invocations.
    
    Its use was removed when turnOnSwap() was changed to use ErrorHandler callbacks
    in anaconda commit fa872e7e35d88008c5f9c83998d530cdd2738be8.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 102b7e73686ec6bf9e3cee52966bd52bee3e726e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:50:15 2014 -0400

    Disable unused-argument warning
    
    In this case, the method in the parent class maintains an unused variable
    because the method that overrides it in the child class requires it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2ad27e008304d809153bb4d5d416dd5d69fc5832
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:37:31 2014 -0400

    Disable pylint unused-argument warning.
    
    The arguments are there to maintain the signature of some method that they
    are expected to override dynamically.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f6566ba540ad480c0c67c25bc1b539633d6c04ef
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 8 17:29:28 2014 -0700

    New version: 0.52

commit 5b39c90ae582a8fb008c3633954a33b58394802c
Author: Colin Walters <walters@verbum.org>
Date:   Wed Mar 19 10:56:24 2014 -0400

    Split ROOT_PATH usage into getTargetPhysicalRoot()/getSysroot()
    
    This mirrors the change to Anaconda, in order to enable OSTree
    support.
    
    For OSTree, the location of the OS checkout (and e.g. /etc/fstab) is
    really in /ostree/deploy/$osname/deploy/$revision/etc/fstab.
    
    In order to properly support OSTree, Blivet will need to gain an
    understanding of the separation between the physical system / and the
    target root.
    
    This patch will be used in Anaconda, which will call setSysroot()
    attribute after the root being installed is laid out.
    
    After that, when we call write(), the fstab data will be correctly
    written into the target root.

commit f3c086c905240a79b8bc68cd72b347f16f0bce14
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 7 14:22:13 2014 -0500

    Update and fix copyright info for docs.

commit 66f2ddb11e85ec6f48535d670dd6f24cb60cbe55
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 16:57:47 2014 -0500

    Add some tests for extended partition management.

commit 80f45bd97d827e81ee7deb3d2edf88d29df2f323
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 16:57:05 2014 -0500

    Add some tests that verify the results of DeviceTree.populate.

commit f68c91a725bb71c6a22640dc92920ab02393435f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 16:54:50 2014 -0500

    Add a base class for tests backed by disk image storage.

commit 352999de2656151d9fe8243ee30a97e079f5c92a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 10:51:34 2014 -0500

    Adapt examples to examples/common.py function dispersement.

commit c7ae8426735c341a81cbd35be1bfc888450839e2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 10:59:31 2014 -0500

    Change devices.SparseFileDevice._create to use util.create_sparse_file.

commit 2a3a8f1fd8f8aca5ed1b1c4b01a525336a254aa0
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 10:58:52 2014 -0500

    Move set_up_logging and create_sparse_file into blivet.util for reuse.

commit 11b5450ffc14fcd8e668a04d0de31ba0fb40ed3e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 10:56:39 2014 -0500

    Make examples.common.tear_down_disk_images a DeviceTree method.
    
    This will make it more widely available for reuse.

commit df13f440b0fe6548c3882476a0adca155d2851d9
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 1 17:01:13 2014 -0500

    Fix handling of devices activated as a side-effect of actions.
    
    Removing a partition triggers a udev change event for the disk, which
    then triggers udev rules which activate all md arrays on that disk.
    
    getDependentDevices doesn't always work because of various effects of
    action registration. Perhaps most importantly, devices that exist but
    whose removal is pending are not in the list of devices checked by
    getDependentDevices.

commit 6c6b2d4ea7189f2dc329015904da23fb19b2f1ba
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 1 16:40:39 2014 -0500

    Check for problematic active devices before processing any actions.
    
    If there are active devices using partitions on disks we plan to change
    we are going to encounter failures to commit those changes to the disk/OS.

commit 1935afb4e7b223ddca61b31c2bcada1ee786eaaa
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 1 16:38:28 2014 -0500

    Split some large blocks out of DeviceTree.processActions.

commit 15bfd537f225c7757798db867f9c6c54d46d8eb8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 1 18:13:57 2014 -0500

    Explicitly requested extended partitions already have an action.
    
    When an extended partition is created as a side-effect of partition
    allocation, it does not have an action associated with its creation,
    so we instantiate that action just before processing the actions. This
    is not necessary for extended partitions explicitly requested.

commit 75da0465138936cb2fa29a975d1ab18721d1eb72
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:25:56 2014 -0600

    Fix handling of extended partitions across various modes of operation.
    
    When flags.installer_mode is True we only create extended partitions as
    needed and we remove them each time we allocate partitions. When
    flags.installer_mode is False, extended partitions can be created
    explicitly, and can only be removed as part of partition allocation if
    they were not explicitly requested.

commit ee7fae4d98174029012baee2f60b1a0002f370cf
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 14:01:30 2014 -0400

    Handle the case of md arrays getting activated from outside blivet.
    
    Wiping signatures from a partition on a disk that contains an md member
    causes a change uevent, which causes the md array to get activated via
    udev. We must be able to cope with these arrays getting activated from
    outside while processing actions.

commit 4e5db5cdcb94d3fc7023ef735d880199abaa10e5
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:32:43 2014 -0600

    Make an extra effort to remove dm partition nodes that want to stay.
    
    When running tests using disk image files it is a fairly regular
    occurrence to find that dm device nodes for partitions are not removed
    after removing the partition from the disk. lsof and fuser report
    nothing, and kpartx -d doesn't think it has anything to do since the
    partition table shows no partitions.
    
    The same happens when trying to deactivate them without having removed
    them first.

commit 09d1141bf7aa2d3dd57340ce14295667986d1d40
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:37:59 2014 -0600

    Fix handling of clearing a partitioned disk and leaving it cleared.
    
    Until now it has always been the case that if you cleared a disks you
    were also creating a new disklabel on it.

commit 9505eeb995b033c052abd2dd1854307c5cf61ce0
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 2 10:23:04 2014 -0500

    Don't check for disklabels on partitions.
    
    Udev puts the ID_PART_TABLE_TYPE from the disk into the entries for its
    partitions, so we have to ignore it for partitions. Also, whether or not
    there is a disklabel has nothing to do with whether or not udev has
    reported other formatting on that device.

commit acb8fd771783268a1706ff2b0c418c6f627f2891
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:25:04 2014 -0600

    Update targetSize to reflect actual size after a device is created.

commit 7d63da2c823bd11d42882558f10c14423a4d91ec
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 21 16:22:18 2014 -0600

    Remove redundant msecs from logging timestamp.

commit e79e22bc5a885710ec922e374e79d379538dfef3
Author: mulhern <amulhern@redhat.com>
Date:   Fri May 2 10:10:22 2014 -0400

    Make signature of Size.__new__ match signature of Decimal.__new__
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 527dbb6b0ee0a04b0d75d1f736f34d50244728fa
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 11:51:46 2014 -0400

    Change Size so that it takes a single value parameter.
    
    Update calls, remove SizeParamsError, and remove tests about SizeParamsError.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 19494bb86a75b7f5ea73c3efb56f67d2f0853760
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 15:04:59 2014 -0400

    Change all 'format' keyword args to 'fmt' in Device constructors
    
    Change all calls appropriately and also change any invoking methods
    that use same keyword args.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3bdc9296ef10d19ceeec7a0d444a126dd3e3e0f0
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 14:35:27 2014 -0400

    Change format keyword argument to fmt in scheduleCreateFormat
    
    Change calls appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a17678adcf14a3e8e77376be7209206034f4a8e0
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 10:50:32 2014 -0400

    Change keyword parameters in devicetree.findActions
    
    Also update invocations appropriately.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c5d6f30293e262ccfea0ba4a0ce4178f4561ff71
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 10:34:50 2014 -0400

    Change ActionCreateFormat constructor keyword argument to 'fmt'
    
    Change any calls appropriately.

commit c5c1d81fe137f397f5800b15532cb0a20c4dc860
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 1 08:38:56 2014 -0400

    Remove unused parameter 'ignoreErrors' from umountFilesystems()
    
    This sort of error handling functionality has been taken over by the
    ErrorHandler class. This requires a corresponding change to an anaconda
    invocation of the method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6e7aff9a25427f27494c118dbf36a47c9d38a6bc
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 1 08:27:06 2014 -0400

    Remove parameter 'raiseErrors' from mountFilesystems() methods.
    
    It is unused in the method, the functionality has been taken over by the
    errorHandler callback.
    
    Also, document the remaining parameters and, where mountFileysystems() is
    called, change setting the parameters explicitly to accepting the defaults
    where that makes sense.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 39747f570974c8985d14e32c12db5453fb34ca03
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 12:25:04 2014 -0400

    Disable unused argument warning for 'major' and 'minor'
    
    These are not used by MDRaidArrayDevice.__init__, but they are passed
    as arguments to a number of constructors, of which it is one, in
    devicetree.addUdevDiskDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 144269e6d39e520f30a345b2a45e40d34480cabc
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 10:50:18 2014 -0400

    Set dummy functions as values rather than via function definition syntax.
    
    Using explicit lambdas avoids a pylint complaint about unused arguments,
    and emphasizes that the functions are dummy functions. The patch also
    changes the names of the functions to match the keyword parameters that
    they correspond to which further emphasizes that they are merely dummy
    functions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3f98317db6677102aa590ad0764985d132e52609
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 12:33:25 2014 -0400

    Pass size value to superconstructor for LVMVolumeGroupDevice.
    
    It is calculated and passed as an argument in blivet/devicetree.py, so
    it seems like using it is the right thing.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 741460ac8dced6a5fb56ab0fe2696afe7455d9e5
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 14:39:59 2014 -0400

    Sort the pylint-false-positives file
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0ed8669e92bbd4a0ec05321ccf1217b7efa62914
Author: mulhern <amulhern@redhat.com>
Date:   Thu May 1 08:42:18 2014 -0400

    Do not disable unused argument warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0db08014590650db925454f9b1cc39021643672e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 13:07:43 2014 -0400

    Omit pylint warning about disabled warnings or errors from pylint log.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f9d025813210204b907cee2d6f9b58077d16726f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 14:20:56 2014 -0400

    Put the pyblock warning in pylint-false-positives
    
    It's not actually a pylint warning, but pylint ends up processing it as if
    it were.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6e101fccc748f9add51b9aabf4ea785b8315383f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 30 11:47:20 2014 -0400

    Remove obsolete documentation for parameter 'label'.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a4d5826d1472f5806859db5866df7743e21098d5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon May 5 16:21:52 2014 -0700

    New version: 0.51

commit fa10ff93895ebf46c36253cb5cb1e04170eebc15
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 12:19:39 2014 -0400

    Adjust the available size on each disk using chunk size.
    
    Previously the code adjusted the total size across all member devices using
    the chunk size, but chunks are not allocated across disks.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7efc6321b1518edbcb821a988cbc3a36e4b7b100
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 09:10:38 2014 -0400

    Removed some now unused methods from devices (#1085474)
    
    Resolves: fed#1085474
    
    Update tests accordingly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 589d2bda93420552ba51525c8f0a3bfdd5a1201f
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 09:53:51 2014 -0400

    Rename size() method to get_size() method.
    
    Since get_size() method was removed its name can be reused.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b9a99a19cd32ee589253828ab2c7127ed22fcd89
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 08:16:49 2014 -0400

    Remove unused get_size method (#1085474)
    
    Resolves: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 922a2caf014dbe195b949172ff64018cde2cf9cf
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 08:08:59 2014 -0400

    Use raid.size method to get size of device (#1085474)
    
    Resolves: fed#1085474
    
    Requires modifying superBlockSize() so it can be passed as an argument to
    size(). Since it is no longer a property, change its name to
    getSuperBlockSize().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d4de053b3c7d39646a9ca4a41a1e21a61a9e33b0
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 14:51:21 2014 -0400

    Add a size() method to the raid classes (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ab1466a35acc7759ad2e4ea6207fdec8e7fc79b5
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 9 18:17:10 2014 -0400

    Move line that might throw an MDRaid exception inside try block (#1085474)
    
    Resolves: fed#1085474
    
    If any of the raid or mdraid methods raise an exception the size will be 0.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a5403c818c4213e53d97de98392f49362703044e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 10:50:44 2014 -0400

    Check whether type is mdbiosraidarray before checking smallest member (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a8c979ca6db5e7b0871d2266c0137756bca3954c
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 13:13:10 2014 -0400

    Log if there was a failure to calculate the size of the MDRaidArrayDevice (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 95da0de16252905e7bacde1ba5ffe8888fc4955f
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 13:39:46 2014 -0400

    Rename get_raw_array_size to get_net_array_size (#1085474)
    
    The comments added to this method in commit
    1149268de36e06d88f2adc0913c9878c972dab8b which describe its function should
    justify the renaming.
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 608f1cae393ca65d8a0031d2f8c48995f3bef65a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 08:39:39 2014 -0400

    Rename _get_size to _trim, which describes its function better (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8702a085955e337bb0fd7c50d86d84092a0b8132
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 10 08:29:22 2014 -0400

    Improve comments on a few methods (#1085474)
    
    Related: fed#1085474
    
    Get types correct and expand descriptions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 431307e7196a9fd5403cb7251cfad793502bde87
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 11:01:23 2014 -0400

    Make RAIDLevels iterable (#1085474)
    
    Related: fed#1085474
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4de363935102f224a99e9b071a49d0abc764613c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Apr 30 12:21:12 2014 -0700

    Update makebumpver for python-bugzilla 1.0.0
    
    The new python-bugzilla changes the args for getBugzillaClassForURL,
    breaking the existing script. But also provides a more transparent way
    to pick the bugzilla class.

commit cf69e543f4f0104e75a93001c61b23fe48c96cc5
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 13:58:30 2014 -0400

    Disable unused argument warning for 'key_file' in devicelibs.crypto methods
    
    This argument was reintroduced in anaconda commit
    f988a656cbc7b26a8f9ddca3bfaefa82d7a0aeb9
    but was left unused at that time, so I assume was setting up for future
    use.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8da339ae52b32a53d9846d70923719dad891fafe
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 13:27:37 2014 -0400

    Disable unused argument warning for 'del_passphrase' in luks_remove_key
    
    This parameter's use was obliterated by anaconda commit
    7a0ec83d378cd2757b12dce0f250630e1d0cdda2
    but it remains part of the interface and is occasionally passed by callers.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4d5fe45db80c82cda4e54594da125f0d3e962772
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 12:23:25 2014 -0400

    Disable unused argument warning for 'data' in doAutoPartition
    
    Its usefullness may be revived and it is certainly passed as an argument
    everywhere it is used.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit da3c45318a104b673acc0f8f072f33e237839fe1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 10:38:32 2014 -0400

    Disable unused argument warning for 'info' in handleUdevLuksFormat
    
    handleUdevLuksFormat has the same parameters as all the other
    handleUdev* methods.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 13b6b2f29c58b35f64556e22a24cc35e5e8b630b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 08:11:12 2014 -0400

    Disable unused argument warning for 'disks' in get_pv_space.
    
    The original version of this method had a mandatory argument, 'disks', which
    it did not use. All methods that invoke get_pv_space pass an argument for
    disks. I assume that 'disks' is relevant to the result value but the formula
    in the method has not become sophisticated enough to incorporate it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit df7537bff7ceffe548e041da5a19f349bfdc62ab
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 13:22:34 2014 -0400

    Remove pointless parameters from unittest methods.
    
    These methods are called by the unittest framework which can never
    make any use of these parameters.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2601fb48e252eb91421a1638c97ab07e9b99253b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 08:22:17 2014 -0400

    Disable a no member warning for EddTestFS initializer.
    
    This warning arises because EddTestFS depends on a mock package in the
    anaconda/old_tests directory. The majority of the tests in edd_test.fs would
    fail if run due to this dependency, but they are all being skipped.
    It is possible that they could be fixed by grabbing the mock package or by
    some other means.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9ca2738ff39b5183e0f3afeebf2ddb9d6236b50a
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 10:33:06 2014 -0400

    Get rid of unused argument 'args' in MakeBumpVer constructors
    
    There are no positional arguments, so there is no reason for a positional
    argument parameter.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b91415fc01683585cb54b26bc8b4c8b18caecfca
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 15:45:29 2014 -0400

    Changes to _parseOneLine() and its single invocation.
    
    * Make the parameters the usual kind of parameters.
    * Give the standard defaults for _dump and _passno.
    * Don't bother to extend fields since _parseOneLine() will do the right thing.
    * Add a small comment to _parseOneLine.
    * Make the default fields strings instead of numbers since they will certainly
    be strings if read from the file.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0aa7d5d312a253c655ee01b83f93cdaa91c36f8f
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 28 10:24:54 2014 -0400

    Remove obsolete comment
    
    LVMVolumeGroupDevice no longer inherits from DMDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c70198f82f7139b447cf7eff7b785525aa7558c0
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 17:23:48 2014 -0400

    Rename to avoid redefining parameter built-ins
    
    When renaming a parameter it is necessary to check whether the parameter is
    used as a keyword in function invocations. In all these cases, that does
    not occur, i.e, in blivet, anaconda, open-lmi these functions, if they are
    invoked, are only invoked using positional arguments.

commit 913ccef4004c20d9485dbac864f5441cbff412a3
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 23 10:29:08 2014 -0400

    Change name to avoid redefining built-in
    
    The name is method-local.

commit 9f6c5209b38bbf4cda3c840e8ba017dbd8fe32a8
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:24:09 2014 -0400

    Remove unused parameter in makeupdates.
    
    Change invocation accordingly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ff0cb2627c759105e87358257c1255a2dbcd5f65
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 15:24:31 2014 -0400

    Removed unused argument 'options' from testMount
    
    testMount() is only used in one place, and options is not passed there.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dd69a93e9b090cc12c460ceaccba30f542360fdc
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:42:35 2014 -0400

    Make signature of _setSize match that of the method it overrrides.
    
    It seems that if the name of the parameter matches pylint won't complain
    about an unused argument.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fbd586877822f4758ddff5b52021513a34d7863a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:22:07 2014 -0400

    Actually use argv parameter
    
    This solution is more general than getting rid of the unused parameter.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b5f3fc0f1768e098ef3c2d334e94e61646e539f9
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:18:18 2014 -0400

    Pass fname as first argument to shutil.copy2
    
    It's hard for an analysis to detect that file is an unbound variable because
    actually it is a built-in of the wrong type.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f171c3a7ba83441b0c45a5ff77bc0a317dbeaadc
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 14:58:05 2014 -0400

    Remove minimumSector method and _minimumSector attribute
    
    minimumSector is unused and does not work properly as a property.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1a9020327f07e2079fc8b47dd9709d5b56b3897d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 13:01:59 2014 -0400

    Disable not-callable pylint warning.
    
    The method will not reach this line if self.child_factory_class is None.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 252b05fce9840d3c493778c04f2af44d96e1544d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 12:57:23 2014 -0400

    Set child_factory_fstype to None in DeviceFactory
    
    Otherwise, _get_child_factory_kwargs could raise an AttributeError in a
    subclass where child_factory_fstype is undefined.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2b8dc47fd93aec86798df0f26c0694231ff9d2f7
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 08:39:39 2014 -0400

    Suppress unpacking-non-sequence pylint warning
    
    And be more explicit about the role of prev_prefix.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b24651709fc77b2f45338dd02d295389479f3bcf
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 24 08:24:09 2014 -0400

    Prefix name with defining package
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8bd434c6bcde2d8c894b1c8e57a63fd2be362dcb
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 14:51:20 2014 -0500

    Update Platform instance from flags instead of replacing it. (#1090646)
    
    Replacing the platform instance as a means of picking up changes to
    flags doesn't work because modules that have already explicitly imported
    platform from platform will still have the now-defunct Platform instance
    in their namespace. This patch changes the flags update so that it
    updates the Platform instance in-place, allowing the modules that have
    already imported it to get the updates.

commit 4cf2a9eba461fe9e02a77c6d823fc43ae0d0106b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 17:18:47 2014 -0400

    Rename to avoid redefining built-ins where the redefinition is method local.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fca6539113329373e446639b64551a037c31aac5
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 14:48:05 2014 -0400

    Set device.format in else block of try/except/else.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c5ac99fd252b78faec2d1f2989a3ae4b975ed05e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 14:32:50 2014 -0400

    Do not run pylint on sphinx generated conf.py
    
    And do not screen out old_tests since blivet does not have such a directory.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c57bc868eef7977bb27233eaf3f3d86d3c222efd
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 17 09:04:10 2014 -0400

    Get rid of a redefined builtin while simplifying method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6d6544bb173217aee05daf5e6e585f49129f5480
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 12:04:33 2014 -0400

    Compress loop into generator list comprehension
    
    There should be no semantic change.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 911abeae433a2b079d507a07483670a1b43fda34
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 11:57:35 2014 -0400

    Rewrite resize() method to depend on _resizable.
    
    All class for which _resizable is True should define a resize method.
    
    Prompted by a lot of pylint 'abstract-method' warnings.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 770f1c5c6e0d88768167f1bd6bab86b8024a4d99
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 11:33:59 2014 -0400

    Remove definition of LVMThinLogicalVolumeDevice._resizable
    
    It inherits a value of True from its parent, LVMLogicalVolumeDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 03891a1925ad78b0f07b4e57074c58cd535b23e7
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 11:21:02 2014 -0400

    Add an attribute docstring for _resizable.
    
    Suppress pylint false positive.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a106961671838ae010ad631b29e8a56fbad621ba
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 22 10:59:29 2014 -0400

    Correct comment on resizable property
    
    The value of resizable is affected by the state of the device as well as its
    type.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 945927c9a91e7430f28f9b93234fe6a358ca8e8f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Apr 24 17:01:37 2014 -0700

    New version: 0.50

commit 26db40b94868cd1c9e0f77f22bbc795926387a25
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 24 11:03:42 2014 -0500

    Don't apply action until after all checks have passed.

commit 7cfbf9d316c0c819977476b78cbf2bcf1a20757d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 14:59:46 2014 -0500

    Apply action for extended partition creation.
    
    Normally the action's apply method is called when registering the action,
    but the action that creates an extended partition that was not explicitly
    requested does not get registered since the device is already be in the
    tree by the time the action is instantiated.

commit 86c957340a2f076b4baf79f3ed49c0ed30b38c26
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 23 09:32:02 2014 -0500

    Fix an issue introduced in commit a210eb5c.

commit 0e6e1ae82f60988831aeab5183c891d55162c286
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 15 10:19:35 2014 -0500

    Move changes from action ctors into apply methods.
    
    The apply method is called from DeviceTree.registerAction, so there is no
    need to change any code that creates actions.

commit 760bd5f6bde1affc71b598b679c748a0b0fb4b97
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 15:23:10 2014 -0400

    Tell lvm to prefer /dev/mapper/ and /dev/md/ to dm-X and mdX nodes.

commit 0b6abc6e85113828a39133b2f27d4a8dd03a2bf4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 14:07:00 2014 -0400

    Use the right md UUID when trying to look one up from addUdevDevice.
    
    In this case we want the MD UUID -- not the filesystem UUID. The MD
    array always has a UUID, but it may or may not contain any formatting
    that has its own UUID. Using the MD UUID is therefore more reliable.

commit 7e4397886de7b7cd1d168d85fced642e908ef3d3
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 13:58:43 2014 -0400

    Pass UUID of existing md array to superclass constructor.

commit 85f44d5222bab46a2badaa560d9b050bbb8f54d4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 9 13:55:57 2014 -0400

    Fix accounting related to addition of md member devices.
    
    We should not be incrementing memberDevices if we're just adding a member
    device as part of devicetree.populate. In that case we already know the
    number of memberDevices and shouldn't be changing it. It should be
    incremented when adding a new member to an existing array, like when
    scheduling a ContainerAddMember action.

commit f30f9a83a8cbc11515d544929c16262304ea54db
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 22 16:31:44 2014 +0200

    Add some more tests for the Size.humanReadable method

commit acbd6ac86601e146ab731c0d76c7174285022e6c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Apr 22 16:09:55 2014 +0200

    If size is an integer value, show it as an integer value
    
    No point in showing 500.0 instead of 500.

commit d7d73cf950071534ce3dcf00f4654b79905dfd5e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 16 20:41:01 2014 +0200

    Make sure that using just k/m/g/... results in KiB/MiB/GiB/...
    
    We want these onechar specs to result in binary units used.

commit 68f7eee4ddc14917864820c84dffd18580403691
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 16 19:43:17 2014 +0200

    Make humanReadable size use binary prefixes and nicer units
    
    We should always give humanReadable representation of a Size instance with
    binary prefix, because that's the preferred way of representation. Also, if the
    value is less than 10, we should use the smaller unit, because that means more
    decimal places could be interesting.

commit 792b2bece1b556dcc06007cd5ec674144379d28f
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 16 19:15:44 2014 +0200

    Round sizes in humanReadable instead of flooring them
    
    humanReadable representation of a Size instance can round the values instead of
    flooring them because it should never be passed to any code requiring the
    precise size. And it's much nicer to give user '9.98 GiB' instead of '9.97 GiB'
    when they enter '9.98 GiB'
    
    Also get rid of the unnecessary _trimEnd() method, the Decimal() constructor can
    do the same for us.

commit 433cac28608f3d42805aabf6e08f7db54f11a89e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 16:51:52 2014 -0400

    Do not assign result of evaluating EddTestFS() to a variable
    
    Only the side-effects of the constructor matter.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 00de9ea70a76e05b8616902dab27e803d018591c
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 16:22:30 2014 -0400

    Rename bits() to numBits()
    
    'bits' is used as a keyword for parameters in a couple of methods, causing a
    conflict between the outer and inner-scoped names. This change is less
    intrusive than changing the names of the keyword parameters, which are used
    in many more places.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 30ee6617ac23a6d3ae1cd13d4edfcd107cf9dea1
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 14:19:10 2014 -0400

    Rename to avoid conflict with name in outer scope.
    
    All these names are method-local.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0aa9c80ec09ec47363b57cd9e6d472edb2069139
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 14:51:43 2014 -0400

    Put module level code in a method
    
    To avoid having unnecessary global variables.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 61c8670ff7cbac79d4e145b53b16d4ea7109c782
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 14:34:10 2014 -0400

    Do not use strip() incorrectly
    
    split() is correct and will handle possible trailing whitespace better than
    a slice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 887ea6552bde3d81ce361ae58ddc852048efbaee
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 13:12:02 2014 -0400

    Disable E1101 (no-member) error
    
    If isResize is True, then self is an instance of ActionResizeDevice or
    ActionResizeFormat and does have a member 'dir' (short for direction).
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 76ccc6c07e1d681aa8d3e6da1e48a6ab2b4d7057
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 13:10:27 2014 -0400

    Use isResize in isShrink and isGrow.
    
    Similar to resizeString
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 29cdbee497ac4028ea5d4e0afef0d70acc46b1b7
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 12:36:31 2014 -0400

    Suppress W0612 (unused-variable) false positives
    
    These are all used, somehow the fact that the names are imported instead of
    assigned to confuses the analysis.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 77a766c01e40f11102e75ac70625ea0634f3ff01
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 12:11:35 2014 -0400

    Suppress W0621 warnings
    
    Redefining these from the outer scope is exactly the intention.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1f164c418d521bb1326ae6d4c8e02b696e890444
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 11:57:09 2014 -0400

    Add a stub function for get_bootloader
    
    Prompted by a E0602 (undefined-variable) warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e9319410f84c643611fe959cbcaef7af9c11e485
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 11:49:19 2014 -0400

    Suppress W0602 false positives
    
    These are all definitely assigned to via the corresponding import statements.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d28880e77e97d4f806d94909b3a8b997e5c17c61
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 12:08:44 2014 -0400

    Remove BootLoaderError definitions
    
    Blivet does not use it anywhere.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e6bff19863d8484ced4e9c81e1e48e39e47dfc54
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 11:01:26 2014 -0400

    Disable E1003 warning.
    
    This warning is triggered if the first argument to super is anything other than
    the name of the class. It is intentionally different in this case in order to
    skip the immediate super class.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b3e32787b66cf533f7b3bd99f1967ed0656e2c6e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 10:35:26 2014 -0400

    Do not cache the DeviceFormat object
    
    Just use it to get the minSize.
    
    Prompted by a W0201 (attribute-defined-outside-init) warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 27fd8d3ebaf304c8834ac645640dfdd43513c196
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 10:19:46 2014 -0400

    Suppress W0201 error where attribute is set in __new__.
    
    See commit 94785c33564f7999172539b87f01a2e87baad926 for an explanation of
    the reason for setting id in __new__.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e937ca676d6b8c06b7f5f6c16232300dd7e9fc22
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 16 10:14:55 2014 -0400

    Add to false positives an error which is not suppressed by a pragma.
    
    Pylint does not respect the pragma in this one spot.
    Leaving the pragma in, in hopes that pylint will eventually respect it.
    The reason it does not respect the pragma at this line, but does respect it
    elsewhere is not at all clear.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4a5db0ffbf1c3e9df7ab0481875825b7f79f9ce1
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 11 18:14:37 2014 -0400

    Suppress W0201 errors
    
    The message for W0201 is
    "Attribute '<attribute>' defined outside __init__".
    
    In these cases, the attributes are certainly defined during
    execution of __init__, but through calls to other methods, i.e., not
    directly in __init__.
    
    Not putting this in false positives because I doubt that pylint will be able
    to develop the necessary call graphs to do the analysis.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cb8bbfd21d32f4785fb593873a32edcf4fffefa8
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 13:15:17 2014 -0400

    Make signature of Size.__str__ match signature of Decimal.__str__
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 07f41d516259694991de0ca44f71ef8b17f7ae86
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 12:52:27 2014 -0400

    Do not evaluate % operator in log message arguments
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a1bbca9095277ce6defaae44dd051a2c56e24da2
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 12:45:07 2014 -0400

    Remove suite() methods in tests
    
    They don't seem to be run at all, or some would fail with a NameError.
    It is not at all clear what purpose they serve.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 821e5ec1dde10e0d0dbdbc0f64cda9529843ba2b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 12:19:03 2014 -0400

    Remove addKeyFromFile() method
    
    Prompted by a pylint E1123 (unexpected-keyword-arg) message, but this method
    seems both unused and broken.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b6154c737c98fa1d4811e8fa258cb912245805c3
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 12:14:35 2014 -0400

    Import name 'deviceaction' where needed
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 027dfcb11cb2e3cbda48479f3c23715e728aeba3
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 14 11:27:20 2014 -0400

    Setting variables in __init__
    
    Prompted by pylint W0201 (attribute-defined-outside-init) warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 96aabec57e25d4c6c7ce690137e0d3c7efa7759e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 9 13:08:42 2014 -0400

    Log exception information and disable W0703 warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8d9fc22fa3740b0947ddbd3dc356989c6fc73cac
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 9 15:42:21 2014 -0400

    Disable some W0703 warnings
    
    These all warn about catching exception Exception in the context of an
    idiom where the failure is always logged and, sometimes, an optional default
    value is set.
    
    Use log_exception_info to capture more information about the exception.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0e689c3ba2327446a4310124342bc3f84bba3b0c
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 4 13:22:11 2014 -0400

    Disable some W0703 warnings.
    
    These warn about catching too general an exception Exception.
    
    These cases use a particular idiom within a property
    where there is always a fallback to another value if any exception is thrown.
    
    Log the information about the exception.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4e25871d084f45c4e6569bce9fe28585a42699cf
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 17 12:00:37 2014 -0400

    Add a function that logs available exception info.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4bbca79020a5ee8d2ae0710cd76708890792c4cd
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 21 13:07:07 2014 -0400

    Restrict scope of pylint pragmas as much as possible
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 40cfa1bece0cf1fcf1bb191f8130d3af0dd7a2d9
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 21 12:49:48 2014 -0400

    Change all pylint numeric codes to mnemonic strings.
    
    The mnemonic strings communicate a bit more information to the reader.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8cba19b7b7d8f355bdddef4adb7836d2ae27c7f5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Apr 17 17:29:50 2014 -0700

    New version: 0.49

commit d0364d310288b5c047b3542dd894ce3f889a2cd5
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 4 10:41:27 2014 -0400

    Slightly reduce loop and get rid of obsolete comment
    
    Prompted by an "Unused variable" pylint warning.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit db2b02716083eb60d0ccf1af62599c1108a43e18
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 4 09:02:05 2014 -0400

    Slightly rewrite loop to avoid a redefining builtin error
    
    More elegant than changing the name.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8a091142339e4293d95bbc573c65cb17628d3697
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 11:53:43 2014 -0400

    Simplify find_library and fix redefining built-in errors.
    
    file -> lfile
    dir -> ldir
    
    Since only the path of the first file is returned, only calculate that path.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5ad5684378176ee10119c4f7bd6cbca33a137b35
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 11:06:25 2014 -0400

    Make loop variables a little more descriptive
    
    Fixes some subtly erroneous "Using possibly undefined loop variable" errors,
    but also makes the code clearer.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a1ea68361a02cfb41eb2033caeb240526e5973e1
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 10:03:38 2014 -0400

    Make regular expressions raw strings.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b0baf9a275f733248306e0bef26858ad91635027
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 09:50:47 2014 -0400

    Suppress unused variable warning and check for failure.
    
    On the off chance that the partitioning on "=" failed, do not set a value.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c4e232ec92d459705dae3547eb034fb7342e9251
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 15 08:41:10 2014 -0400

    Add W0105 warning about attribute docstrings to false positives
    
    These strings are valid "attribute docstrings" according to PEP257
    (legacy.python.org/dev/peps/pep-0257/#what-is-a-docstring).
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e1818ae5265484d6f0c00ff276d17e4f22e8e03a
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 09:44:33 2014 -0400

    Make signature of setup() in parent class same as in children
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fe52381e9b2cdbe376e1c38811b3d46e90d070c7
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 09:07:32 2014 -0400

    Suppress some correct pylint warnings
    
    These tests verify the property that pylint warns about.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 615909697ae6150ec3112dbf64a614183f8ac990
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 08:21:33 2014 -0400

    Get _loopMap.values() when all that's needed is the values
    
    Also, get the values when the values, not the keys, are what is needed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5293b13988cb37d51cdee1b241c7a79bf7beb8af
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 08:02:39 2014 -0400

    Obvious fix inspired by pylint E0602 error
    
    Message was "Undefined variable '_LOOP_DEV0'"
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit da3f411bba7718d6ba497c0c8b18b648ffd218ef
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 11:23:36 2014 -0400

    Suppress W0631 warning for abbr and prefix.
    
    The only way these variables could be undefined is if _xlated_prefixes()
    is empty. But, _xlated_prefixes() will only be empty if both _binaryPrefix and
    _decimalPrefix are empty, which is unlikely in the extreme.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6cdac33b92db7d67d49a95a5a29ca5172cacc79b
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 09:49:44 2014 -0400

    Do not do formatting operation in the argument of the translation
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9d5dbefda13929767360fd1bfa813da9904ac48e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 09:05:57 2014 -0400

    Remove unnecessary global statements
    
    The global statements are not needed to make the operations refer to the
    globally defined variable. They would be needed, if an assignment were done
    to the variable in any of the methods where it is declared global, but no
    assignments are done, only mutating operations.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7a97e3e6b22f0382a37d99ee9284f2c9c0d9d51e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 9 12:57:58 2014 -0400

    Disable W0703 message in test
    
    If sorting throws any exception then this test has failed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9b7a12e7b74623600e8c22388b82eda644585710
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 8 14:27:23 2014 -0400

    Explicitly set the module level platform variable
    
    rather than implicitly setting the variable in reset_platform().
    
    Prompted by "W0601: Global variable %r undefined at the module level" pylint
    error.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7a18fae296e23e1bdf7a36c05eaee2af7e8dc382
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Apr 10 17:14:05 2014 -0700

    New version: 0.48

commit e1a250065ea7a926d5bf0c8d3ecde2ec6c84af4d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 8 11:27:30 2014 -0400

    Do not execute smallestMember property method twice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2ad30953c415af97a796e5f6c896837ed262f3a8
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 8 11:20:01 2014 -0400

    Remove unnecessary function definitions in abstract properties
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e903de7fcfbb8bd47144257228c6d64c89b834d2
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 8 10:49:22 2014 -0400

    Pass format args as arguments to debug method (#1085057)
    
    Resolves: fed#1085057
    
    Also, use file level log variable instead of regetting
    the value in each method call.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8bd0e5442d37d2be9c1b45d2cbac059477c18da1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 7 15:24:27 2014 -0400

    Move udev_settle call from util into fs to break circular dependency
    
    Otherwise there is a circular dependency between util.py and udev.py.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5102c83ebe36a65f39bc46df490b57c1e1a1e25d
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 7 10:59:10 2014 -0400

    Change implicit relative imports to explicit relative imports
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 824d3767a8075e97cabd59a2845be2a5879269bb
Author: mulhern <amulhern@redhat.com>
Date:   Fri Apr 4 14:25:20 2014 -0400

    Remove unused imports
    
    This includes replacing 'from <module> import *' with
    *) 'from <module> import <explicit list of imported names>' OR
    *) 'import <module>' and replacing every imported <name> with <module>.<name>
    
    Also, add one import, re. This was being transitively imported by importing *
    from udev in devices and then * from devices in __init__.py.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ea860a07bb9d5b14756e7fdf6243393627e50f26
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 09:14:41 2014 -0400

    Get rid of os.path import
    
    Inspired by W0621 "Redefining name 'os' from outer scope" message.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 79781a77784f98600662f56ffb6253aef9b91c1d
Author: mulhern <amulhern@redhat.com>
Date:   Mon Apr 7 12:12:43 2014 -0400

    Really avoid dynamic import of formats/__init__.py by itself
    
    The previous code checked equality between the name of the module to import
    and the module that contained the code but it failed to handle basename
    and extension details.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 25b82d5bdcd6acb2d5fee95bebb6dca0c41cd248
Author: mulhern <amulhern@redhat.com>
Date:   Thu Apr 3 08:28:14 2014 -0400

    Ignore E1101 errors in savePassphrase.
    
    E1101 does not handle instances of name-mangling of private fields correctly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a4b1c97c83f8fdc1e466c7300db201b75563307f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 17:56:58 2014 -0400

    Add a bunch of E1120 errors to the false positives file
    
    The analysis does not detect correctly that raid.RAID* refers to a singleton
    object, rather than a class. I believe that this ought to be in the scope
    of the analysis and so expect to remove these false positives when the analysis
    is fixed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0e83ac2eb81ba58d761e111ac2fd492fb94bb60b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 11:33:33 2014 -0400

    Make LabelingAsRoot class an abstract class and define two properties
    
    This gets rid of a lot of "has no '<field>' member" pylint errors where
    <field> in { _fs_class, _invalid_label }.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dfa75ad5b39a9f0e01d01aee6f0754401c58e810
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 11:17:53 2014 -0400

    Suppress false positive W0631 error.
    
    The only way the else branch is not executed is if the break statement is
    encountered. Since the else branch exits the only way this line can be
    reached is if the break statement is encountered. But for the break
    statement to be encountered, enumerate lines must be non-empty, and
    therefore i,l must have been assigned to when the line is reached.
    
    Not putting in pylint-false-positives because this may prove to be beyond
    the scope of the W0631 analysis.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b40af42d5e26d75939deefd6b120fc5b7f3a2ced
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 11:09:31 2014 -0400

    Use self.nic instead of nic
    
    They are guaranteed to be identical, and nic's only real purpose is to be a
    loop variable.
    
    Prompted by a false positive W0631 error.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f4c080ab0bf1c3f3b49c05aec4fb871045d465dc
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 10:10:18 2014 -0400

    Make sure _state_functions is a dictionary in base class
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 06173305c9743010283dc90c494a79887914e31f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 10:08:13 2014 -0400

    Remove unnecessary lambda wrappers on assertion functions
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8922eaf1e6936a7ca146c8f567a7ea9a5465abd2
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 09:56:43 2014 -0400

    Obvious fix inspired by an "Undefined variable warning"
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1e38f20d0ea315deec41f00371dd61f9dac8e8c1
Author: mulhern <amulhern@redhat.com>
Date:   Tue Apr 1 08:43:27 2014 -0400

    Remove all references to lvm_vg_blacklist and blacklistVG.
    
    They seem to have no purpose anymore.
    
    This was prompted by a 'Using global for' pylint error.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit def7832f8e187985e00307d607d261bd7ef6ee2a
Author: David Shea <dshea@redhat.com>
Date:   Fri Apr 4 13:51:12 2014 -0400

    Update for changes in the anaconda errorHandler API.

commit e2fde8e38e6551a8cedbbb1a565b331dbb668839
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 11:47:40 2014 -0400

    Remove unused imports.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4b1065c0272d89a1def0524a2a3645d38f075aa4
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 12:04:41 2014 -0400

    Import from the defining module.
    
    That is, do not import from another module that imports from the defining
    module.

commit e75a6818dbd90d5a4b087d60158e39c76e421836
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 12:02:49 2014 -0400

    Move import to top level.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9ba860c1915bdd59eb2ec48ab5938fe459bbe8ec
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 10:52:37 2014 -0400

    Do not use implicit relative imports
    
    Import explicitly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bf4be39cafcb92c5c7a4b01a5140163befe7dd47
Author: mulhern <amulhern@redhat.com>
Date:   Wed Apr 2 13:13:30 2014 -0400

    Remove wildcard import
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4d1c53fe470babe0c33fa8c973ffba63190e3f91
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 2 08:44:48 2014 -0500

    Fix a bug and catch a change in lvm's thin pool layout.
    
    The first chunk fixes what appears to be something new in thinp --
    using eg: vg-thinpool_tmeta instead of vg-thinpool_rmeta%d as the
    metadata volume name.
    
    The second chunk drops the addition of the vg name to keys in lv_info,
    which already contain the vg name, when constructing the raid dict.

commit 358ec62c19557c853f00dd0a1c888f4f3bced80f
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 1 14:19:05 2014 -0500

    Plumb uuid down through DMDevice.

commit a48dfa91c6dd827d56e544564d950b1740d801d6
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Apr 2 16:25:11 2014 -0700

    New version: 0.47

commit c645b2d70d20410428425d644f48fc92a1e4c321
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 12:29:34 2014 -0400

    Change labelApp to a more concisely defined abstract property
    
    Change its name to label_app to be more consistent w/ property names.
    
    Make fslabel classes into singleton objects.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bbcae6b14330de1181e4765280b17a9f1e1f9a25
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 11:56:46 2014 -0400

    Change defaultLabel to a more concisely defined abstract property.
    
    Change its name to default_label to be more consistent w/ property names.
    
    Only used in tests, which are updated.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8552b9b055993f00014dcc6d48617f2a1b938769
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 11:42:16 2014 -0400

    Change _labelstrRegex to a more concisely defined abstract property.
    
    Change its name to be more consistent with property names.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 24f1bf8393657f54c013af513c8297bc774149b0
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 10:40:57 2014 -0400

    Make reads property a bit more succinct.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5e0fbd8d38676c199b3ec8bd14410e54964857f6
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 31 09:56:11 2014 -0400

    Make name an abstract property and omit _name
    
    Return None instead of raising an exception to get around Python's
    syntactic restrictions on anonymous functions.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f992cb1d09c242b5a19a00d7c2a294aa8e7f9e99
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Apr 2 11:02:26 2014 +0200

    Remove an unused import from devicelibs/raid.py

commit 3d6123132f7d9861df7f949607af77faedd9e5df
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 12:28:45 2014 -0400

    Fix all pylint errors in pylintcodediff
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4c14434fda1c6dab9d76b4148088117657ec794e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 12:19:27 2014 -0400

    Don't run test if the git branch is dirty
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6a22f54f1fcbad7a4a74f9bb18ee0f3dd7f9014f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 25 15:03:09 2014 -0400

    Exit if the specified log file does not exist.
    
    If the log file does not exist, diff-quality will try to make it by calling
    pylint. diff-quality passes some arguments to pylint which some versions
    of pylint fail to recognize. In the event that one of these versions of
    pylint is running diff-quality will raise an exception.
    
    Better to catch it in the script than to leave diff-quality to its own
    devices.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit cd306fe15fe484727859a75892d2b1e3fa289c4b
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 31 11:44:46 2014 -0500

    Update lvm devicelibs tests to reflect recent changes.

commit a210eb5ccff67e7d2bcde154cc4ae5bcfe95b3ba
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 16:30:24 2014 -0500

    Add required LVs as needed instead of trying to sort by attrs.

commit f9791b99dd4eceb5e050fdc95c0c0870f375da75
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 1 10:38:12 2014 -0500

    Fix missed conversion of rm->missing in vgreduce call.

commit 0aeeafc7d9480b45a4e62e80f3f239d1363837f7
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 13:37:01 2014 -0500

    Only gather lvm information one time per DeviceTree.populate call.
    
    We run one command to gather information about all PVs the first time we
    need information about any PV and one command to gather information about
    all LVs the first time we need information about any LV. This information
    is cached until the next time someone calls DeviceTree.populate or
    DeviceTree.dropLVMCache.

commit 4ac2e752331cf03acbd9a63a3142f379da291aa8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 13:23:28 2014 -0500

    Add support for listing everything to pvinfo and lvs.
    
    Specifying a device to pvinfo or a vg_name to lvs will filter the
    results as expected.

commit 7928b2a07fb30d1a3bd7506c256b4dfeb4316444
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 13:00:53 2014 -0500

    Get lv list from lvm in a more straightforward format.
    
    The old way we'd get one info dict for the VG with list values, eg:
    
    {"LVM2_LV_NAME": ["foo", "bar", "baz"]
     "LVM2_LV_SIZE": [1,24,10]
      ...}
    
    Now we get a separate dict for each LV, eg:
    
    {"fedora-foo": {"LVM2_LV_NAME": "foo",
                    "LVM2_LV_SIZE": 1,
                    ...}
     "fedora-bar": {"LVM2_LV_NAME": "bar",
                    ...}
     "fedora-baz": {...}}
    
    Basically, it means that each lv gets it own info dict, which is much
    nicer than having to piece together pieces from several different dicts.

commit c808410a18c763cb2687d0fa9d7a77d9ff56c3fe
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 12:54:31 2014 -0500

    Gather lv list where we use it to save from having to stash it.

commit 6982ef11fdb9e9738b1ccf079eba9d5c0bad9a43
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 12:17:48 2014 -0500

    Split out common lvm parsing code.

commit e754173f243d867987afbe19d290b7d78e25b2c8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 13:57:33 2014 -0500

    Add tests that use ParentList as part of Device.

commit d9076b4d964f63c0a2291320553f1e9e8bbabb8d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 28 12:15:41 2014 -0500

    Parent list length doesn't reflect new member in _addParent.
    
    The new parent doesn't get added until after _addParent returns.

commit b5e60ed4bea615e9120098deb1a3a11df0878acc
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 18:23:29 2014 -0400

    Rearrange _startEdd to be a little more obvious.
    
    This change was prompted by an unused variable warning.
    
    The method should behave identically, except for the unlikely
    scenario where buf is "NIC=", in which case the previous version
    would raise a ValueError, and the new version logs an error.

commit b5bec4456bd12bd4b3ec5e54dd0cd7a7492de31f
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 18:06:01 2014 -0400

    Raise exceptions using the new syntax
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 31580691f6d438b2528cfd36a6ba3b9a9c572c27
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 17:55:16 2014 -0400

    Do not import logging twice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a5843d9fdfcdb93d2575988f72b7aa6a7be0e873
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 17:49:09 2014 -0400

    Suppress unused variable warning
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d9c81d91d1e43fafd3374106ee9c7b42735f89b5
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:30:01 2014 -0400

    Get rid of writeRandomUUID.
    
    It is not used anywhere and pylint complains about all the subclasses
    of FS in which it is not overridden.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f8a9f6ab0943491dc52250a1b33c21ee3cda3425
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:09:57 2014 -0400

    Remove unused variable but retain call for its side-effects
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a838437441ec129d2e212d645246c37b8c3a431e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:07:16 2014 -0400

    Put docstring in class
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bd04c1e27e2678ff8fe2e17ad161a42024859248
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:05:08 2014 -0400

    Remove appendiceal assignment
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4975b12aa8bea8bfaa5ccc3bc5b93d939e17746e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 16:00:31 2014 -0400

    Keep first parameter "self"
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 65c148bc9602b3989a5d7aed19a4a2b6e06a95de
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 15:57:27 2014 -0400

    Omit compile flag
    
    It is not relevant to making updates for blivet.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7bc4a8efafaadecdf3bc2187b2c74235db619a4f
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 15:42:37 2014 -0400

    Move lines beneath __main__ into a main method
    
    So that the variables now defined in main do not have global scope.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7f1dac9c8930d2252ab54b2ac1d846bdce0e88f2
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 15:31:45 2014 -0400

    Indent with spaces, not tabs
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5014043bd3a720357ad7aaf6b6bc79b34f09d5c1
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 15:25:07 2014 -0400

    Change param default [] to None and convert in method
    
    A default of [] (or any mutable structure) is considered dangerous because the
    default argument is packed up with the function at its definition. Thus, the
    same object is shared among all execution instances of the function that
    are called with the default argument.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f51a0786b6afa79bf7b7bd3581180d629c0ee47c
Author: mulhern <amulhern@redhat.com>
Date:   Fri Mar 28 12:29:39 2014 -0400

    Change to a semantically equivalent version of FileDevice.path
    
    Prompted by an unused variable status message.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 759eacbf70f0e917f53033654566a138c81951ff
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 08:51:07 2014 -0400

    Adapt existing tests to changed signature of some methods
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 27edf9ccd1cea4e6ddf8e8efcd7473f18dcb23f4
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 13:23:04 2014 -0400

    Don't assign return value to unused variable
    
    But keep the call, for the side-effects.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 74a250422c716453067e9877c5ea668cb874fb9f
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:23 2014 -0400

    Be specific when catching exceptions
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 649f1e00ad8c30ff3e4d1ceba821f8bbf6302ec3
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 10:12:27 2014 -0400

    Remove appendiceal assignments
    
    These all look like they were valuable to some code once and that code went
    away, but they remained.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 74b534ea96f4521465d04f8b3e586efbaad4d137
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 12:09:45 2014 -0400

    Remove a lot of unused variables extracted from udev info
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b84b63ebe22738bfcf431a0eeeeb000f8ffe0a10
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 12:03:44 2014 -0400

    Don't get return values from communicate() if they are ignored
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 10bb5dc2347710402a3d129420aceae59fbc427d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 27 09:56:05 2014 -0400

    Use the disk's name in log message
    
    That must be what is wanted, also DeviceError does not have a name field.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 858bc0dbb203195a3e95c20eb9b8fb01c29e8eb3
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:24 2014 -0400

    Get rid of old exception unpacking syntax
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8acb82dea42fefbcbf8a01b7e5dc648fae571370
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:22 2014 -0400

    Rearranged some iffy exception checking
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3b614d77b26624129e7c119fbfa8181ee33cf5c6
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 13 13:03:39 2014 -0400

    Replace with a semantically equivalent chunk.
    
    This was motivated by a complaint about unused variable path.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6ad0281efbb6712fe763f32807058815571d6d41
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 11:14:49 2014 -0400

    Remove some unused exception names.
    
    Where the code is:
    
    except <SomeException> as <var>:
        <some code>
    
    and <var> is never used, change to:
    
    except <SomeException>:
        <some code>
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3be6d57faabfe913a33df04ac3abc3f88b7676a6
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 11:02:06 2014 -0400

    Remove unused assignment to boot.
    
    boot is not used anywhere in the method below and I do not believe that it
    is global. So, the only effect of this change would be that if
    self.bootDevice raises an exception that is not in
    (DeviceError, AttributeError) that exception will no longer be propagated.
    But it seems unlikely that such an exception was being raised anyway.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 632e6d6821397565d4459fb622a1ab2e1296d4b2
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 10:50:43 2014 -0400

    Delete method-local pruneFile function.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3487246f5d03ac1b279626c5143282bbb3d95041
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 09:19:48 2014 -0400

    Don't comment out function headers but leave their bodies uncommented
    
    Instead, delete the functions entirely.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0eb97de0ea058e1318ca10e11f337076ff3e0621
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 09:17:03 2014 -0400

    Get rid of unnecessary pass statements
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6c7d39250da0c123839740e38dbb9d381d16c229
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 09:00:23 2014 -0400

    Put a field and a method in the base class
    
    * Add an abstract method for _labelstrRegex
    * Stick field _name in the base class (can't abstractify it)
    
    All subclasses already override _labelstrRegex, so these errors were benign.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0b6308393d28560a2694e2f49d344feb3443b613
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 08:54:21 2014 -0400

    Spell parameter self correctly
    
    Since self was never used, this misspelling was benign.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f089530defdaf09c4b6b3433a84b6443c9856dc9
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 11 15:34:07 2014 -0400

    Give abstract method the same signature as its overriding methods.
    
    ABC metaclass mechanisms do not check the signature of a method, only
    its name, so this went undetected. It was also benign.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c0e8cb9edffb60885306f8fd8848fbca3c5e5947
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 13 12:32:26 2014 -0400

    Catch correct error and disable warning.
    
    If there are not enough fields, a ValueError is raised
    because the unpacking of values does not succeed.
    
    Disable the warning because rest is serving a legitimate function as a place
    holder.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 91da9551c9e3d58af085e552afca0e8c7df653c0
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Mar 26 17:29:20 2014 -0700

     New version: 0.46

commit d79acf0bc846a17e85c99d8ccf8af3d996a3cc90
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 10:25:56 2014 -0500

    Adapt callers to use the new parent list interface.

commit fd40c67f03481a95196b9ff855cdef93a21755d6
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 10:14:00 2014 -0500

    Change management of Device parents to use a simple list interface.
    
    The parent list is an instance of class ParentList, which provides a
    simplified list interface with the addition of an element uniqueness
    constraint and optional user-defined pre-add and pre-remove functions.
    
    Before, to modify a device's parent set, you'd do this:
    
     device.parents.append(newparent)
     newparent.addChild()
    
    or this, if device is a container type:
    
     device._addMember(newparent)
    
    Now, regardless of the type of device, you do this:
    
     device.parents.append(newparent)
    
    Any checking or accounting is handled by the callbacks registered to
    the parent list.

commit bdeded0f39fe27c74f56967835a8ae25ce031004
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 10:01:27 2014 -0500

    Convert ContainerDevice to an abstract base class.

commit b30dc560f8d58d4c24950df93f9f6d2ecb861ebf
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 11:17:01 2014 -0500

    Set device uuid before calling Device ctor.
    
    It is needed by ContainerDevice._addParent.

commit d71bd03e3b55759bfd513440c00f28d28fcfbcf9
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 24 11:21:04 2014 -0500

    Improve the mechanism for VG completeness.
    
    Do not modify self.pvCount -- that makes it meaningless as it was
    obtained by lvm.
    
    Do not worry about completeness if no pvCount was passed in for an
    existing VG.
    
    Because we instantiate all Device classes with exists=False when unit
    testing, add a hack to StorageTestCase.newDevice to set completeness
    appropriately for existing VGs.

commit 4b126e4a935e9240cb06d5fe379d7418be0afc0e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 19 10:45:19 2014 -0500

    Support mutually-obsoleting actions.
    
    This is for action loops like adding a device as a PV and then removing
    it from the VG.

commit 9b863420179957badd12cfac457f35ac1ee52caa
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 19 10:44:43 2014 -0500

    Add some checking to MDRaidArrayDevice._setSpares.

commit 6e3168453b68c3cf0d6429581d416b0aa32eda53
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 19 10:40:22 2014 -0500

    Make sorting by action type part of the action classes.

commit 6cb1dd9340363eb1c761e52938e256e119fefdc4
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:48:19 2014 -0600

    Add action classes for container member set management.

commit e32df5ea7b6741bd3fac7cab2982ca36ac2dec33
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:47:22 2014 -0600

    Add a property to provide consistent access to parent container device.

commit 143c75ae70a0164946a2987409beae2c0afd4547
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:45:47 2014 -0600

    Add type-specific methods for member set management.

commit 979829f64ac2210c2978fd09b2e214ec1b54c0a1
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:45:15 2014 -0600

    Adapt callers to new method names for add/remove member device.

commit 42a92a9108da14def71f1417d40c55c384d65f6b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:44:16 2014 -0600

    Add a ContainerDevice class to consolidate member management code.

commit 612a075dfaefaee3f299e9f6b770aedac0fb400d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 7 16:43:36 2014 -0600

    Add backend functions for container member set management.

commit 7444a512bd4172d83d7175acda7c82ee2632f1ba
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 11 12:07:48 2014 -0400

    Teardown RAID device once testing is over
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fc18112964b6500dbfe2b7b118fdfe5043ac3884
Author: mulhern <amulhern@redhat.com>
Date:   Fri Feb 28 12:39:16 2014 -0500

    Make lvm tests runnable.
    
    The intention is to make it possible to run the tests at all. If any
    test indicates that the code is doing the wrong thing it can be cleaned
    up later.
    
    Some changes are:
    * Add a tearDown method to unbuild the volume group in case the test actually
    fails.
    * Change bare ints to Sizes.
    * Be more specific about some errors raised.
    * Use instance fields for volume group name and logical volume name.
    * Methods that were found to behave very differently than the tests expected
    were:
      * pvremove --- it's happy to remove an already removed physical volume
      * lvs --- the data it returns is definitely not in the expected format
      * vginfo --- ditto
      * pvinfo --- ditto, also it does not raise an exception for an unknown device
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7333b505d3a53e4d125d1e227fa48362cef05297
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 27 15:03:51 2014 -0500

    Make crypt tests runnable.
    
    If any of these tests seem wrong then the code can be fixed up and the test
    changed.
    
    A tearDown method was added to close the device in case a test failed.
    
    Some instance fields were used for the names of the devices.
    
    Some aspects of the code that brought about these changes are:
    * All crypto.luks_* methods raise a ValueError if they are not given a
    passphrase although they accept a key_file argument.
    * If a device does not exist, CryptSetup raises an IOError.
    
    Some methods that did suprising things were.
    * is_luks --- it raises an IOError for an unknown device
    * luks_format --- raises a ValueError if it gets a keyfile instead of a
    passphrase
    * luks_remove_key --- raises a CryptoError instead of a RuntimeError
    * luks_status --- returns ints, not booleans
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dfc9142bf7d8ab66b4fa6a564bc9c060f6f0cf3f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 25 07:34:38 2014 -0400

    Replace unnecessarily complicated expression with string multiplication
    
    "".join(["<str>" for n in range(<n>)]) goes to "<str>" * <n>
    
    which is a good deal simpler.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 71a7b20239dc70b7c1ae83972d871ffb25d28de8
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 25 07:30:11 2014 -0400

    Suppress unused variable warning for index in range
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 55dab952c68da5793bf8d69295537aceda9f5f3e
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 12:42:02 2014 -0400

    Suppress some unused variable warnings.
    
    Suppress warnings when the unused variable is in a tuple that matches
    the result of a split() or partition() operation and the possibility
    of a failure to match is handled appropriately.
    
    Note that sometimes a failure to match is fine and does not explicitly
    need to be checked for as in matching an optional comment.
    
    Suppress by prepending unused variables with an underscore.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0ae078265968a601f8a58c50c40172e537b87f13
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 12 10:39:21 2014 -0400

    Suppress some unused variable warnings
    
    Suppose we have some code:
    
    for (x, y, z) in <some list of tuples>:
        # do something with x
        # do something with y
    
    Then z will be reported as an unused variable. But really, there is
    no more elegant way to give x and y names, so it's better to supress
    the warning about z.
    
    We do that by preceding the variable name with an underscore,
    like _z.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3a60f99acf9c1522ec476c13e7700e078ecbb255
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:21 2014 -0400

    Update to the new raise syntax
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6bd241358c43b87f86b6857d6f510aa04b7bb472
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:20 2014 -0400

    Removed an unnecessary semicolon
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 27f1f696c07e4905cd33961fa5ecd6b6ec2d893c
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:19 2014 -0400

    Removed a redundant definition of NoDisksError
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 78a085368db5891466988c3be273e7260b13e8f7
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:18 2014 -0400

    Specify regular expressions containing backslashes as raw strings
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c20624492a22edff358abc00dd8ef81e6a3e490e
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:17 2014 -0400

    Fixed some questionable indentation
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6963ddfdc091b8e7873d0b0fd0e446f595de77cf
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 11:16:16 2014 -0400

    Fix logging function string format warnings.
    
    Specify parameters to logging function strings as parameters to the
    logging function so that the format operation does not need to be
    evaluated for message levels that will not be logged.
    
    Signed-off-by: mulhern <amulhern@redhat.com>
    
    Note that this can mean the difference between crashing and not-crashing,
    if your __repr__ function is unkind enough to throw an AttributeError,
    for instance.

commit 5cd8e7824f39e730df73a3ff48b3a9c77ce651a7
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 19 14:59:51 2014 +0100

    All size specifications should be Size instances (#1077163)

commit 07724e5da43c42c7e2fe2dc81a48a04ba8c09972
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 19 11:03:45 2014 +0100

    Make sure StorageDevice's self._size is a Size instance (#1077179)
    
    In the size property setting the self._size attribute, we make sure nothing else
    than a Size instance is assigned to self._size, but in the constructor we don't
    do any such check.

commit 674ce64c89972332725b97a7e6b15105235ab786
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 19 11:02:34 2014 +0100

    Allow creating Size instance from another Size instance
    
    Attempt to create Size instance from another Size instance should work and
    result in creation of a copy.
    
    Related: rhbz#1077179

commit 0a370ada60674792d17c4b4554454338b9ec5f1e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Mar 20 12:59:28 2014 -0400

    Force removal of hidden devices (#1078163)
    
    Resolves: rhbz#1078163
    
    An extended partition is considered a non-leaf device if the parted info
    indicates that it contains some logical partitions.
    
    In hide, we need to preserve the parted info, when we are removing existing
    devices, in order to reconstruct it later if we unhide the device.
    
    Therefore, in hide, when removing a PartitionDevice, we are not changing the
    parted information, so we must force the removal to avoid throwing the
    non-leaf exception.
    
    In theory, we only need to force the removal for PartitionDevices that happen
    to be extended, but making the force conditional in that way is probably
    excessive.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3cead3a2f65c1aa054fb48a2699102fb34d990c8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 12 13:11:47 2014 -0500

    Get action_test into working order.

commit cc67d9e71140852feec3a6d87fa0a8143a149898
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 11 13:57:14 2014 -0500

    Update action_test.py to specify sizes using blivet.size.Size.

commit 34ddb8f82e1049ccb0d9fde455513a4b4a65d31b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 12 13:10:14 2014 -0500

    Don't corrupt the environment when setting up StorageTestCase.
    
    Also adds some necessary patching to PartitionDevice related to resize
    so that it does not require setting up a mocked parted.Geometry.

commit 45ec9e12bbdca1703a3df1983dc43605e6a78403
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 12 13:07:25 2014 -0500

    Make minSize, maxSize consistent and correct.
    
    StorageDevice defaults should be dependent on whether the device is
    resizable -- not whether or not the format has known size limits.
    
    Any minSize or maxSize may be zero, meaning there is no known limit.

commit fd64507fbdff8d157194e10038b2cd0779041a30
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 11 13:43:34 2014 -0500

    Don't prevent grow actions on devices with no max size.

commit 14be04de8d8cd9803c8d5f4d90644a6111f9b32e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Mar 20 16:41:38 2014 -0700

    New version: 0.45

commit d5e6175f86eaed9eefb9cb2a6f4db14da4aaac10
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 19 16:02:51 2014 -0400

    Changes to allow pylint checks to be run on a distribution of the source.
    
    That is, we allow for the fact that sometime the top source directory
    may not actually be a git working directory.
    
    Changes taken from anaconda commit 67dd55b7d532dadd5ac05cb89e63435b9d76be39.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 249ad1dd924db5771bc1e6d6cc97c1028cae3cea
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 19 12:35:42 2014 -0400

    Remove non-doing check target
    
    The only task this check target has is a commented out pylint check,
    which has the potential to confuse people.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bb0830f11cc33a5bd06135d64f7d6bc9607a1229
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 19 11:46:41 2014 -0400

    Add a script to relate pylint errors to lines changed.
    
    Note that this does not:
    1) Identify all new errors that pylint has detected that your code introduced.
    2) Omit errors that are in lines that changed but that your code did not
    introduce.
    
    Note that it expects that you have already run the pylint testing script and
    that pylint has logged the output.
    
    You will need to have diff-cover (https://github.com/edx/diff-cover)
    in your path.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9114195686abcee5b48687c8443174b8dcb2e02b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Mar 19 11:16:56 2014 -0400

    Change output format so that it is suitable for diff-cover.
    
    The diff-cover instructions require setting --output-format to
    parseable, but apparently that option is now obsolete.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 696f376db2b462db7f5dd352705700f6b0826402
Author: mulhern <amulhern@redhat.com>
Date:   Tue Mar 11 11:46:41 2014 -0400

    Do an initial setup for running pylint tests in blivet.
    
    The files are just copied from files in anaconda and anaconda specific
    stuff removed.

commit 34fab6ec53b70b114379f89e791bcdafe3874155
Author: David Shea <dshea@redhat.com>
Date:   Tue Mar 11 13:34:22 2014 -0400

    Handle None in devicePathToName(#996303)
    
    Log "(none)" if devicePathToName returns None so that it's more clear
    what happened.

commit 538b541cc795b710133b45a9282920c8fb8406eb
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Mar 14 15:03:16 2014 -0400

    Remove bootloader.packages from storage.packages (#1074522).
    
    We need to be able to make separate decisions on installing these sets of
    packages.

commit 59e1bdccd99ff277f16727fda9400aa0c2b6c557
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Mar 13 17:47:13 2014 +0100

    Whitespace fixes for the crypto devicelib module

commit fc74a9e7226051b770e3c1095d2503442ebbd795
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Mar 13 17:41:10 2014 +0100

    Use random.choice for generating LUKS backup passphrase

commit c56e8537fd1e5845c24debcb39a8cb6d4270881b
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Mar 13 17:24:03 2014 +0100

    Trivial fixes for the lvm devicelib module

commit b9446b31422cedd608cabaf3b5c9be58e151630e
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Mon Mar 10 17:39:58 2014 +0100

    Make vginfo work the same way as pvinfo and other LVM functions
    
    All the other LVM devicelib functions return a dictionary.

commit ce8135b26715811629860dcc059fd998a92a788b
Author: David Shea <dshea@redhat.com>
Date:   Sat Mar 8 16:57:50 2014 -0500

    Allow NTFS to be mountable. (#748780)
    
    Back in the time of Fedora 14, anaconda marked NTFS volumes as
    unmountable, because any attempt to mount them would hang in the mount
    wrapper in imount.c. Because NTFS is handled through fuse, an instance
    of mount.ntfs stays running after the mount operation is completed, and
    mount.ntfs does not property daemonize: it leaves stdout and stderr
    open, so we were getting stuck trying to read from what should have been
    closed file descriptors.
    
    mount.ntfs still does this, but the problem has been twice fixed
    elsewhere: /bin/mount closes its stdout and stderr--which closes the
    copies attached to anaconda's pipes--when it exits, and the python code
    we now use in place of imount pays attention to SIGCHLD, so it stops
    trying to read output when mount exits whether the file descriptors are
    still open or not. So we can mount ntfs partitions now if anyone wants
    them.

commit 0c40779fa8f69a6910d781dbad5deefb7b6cdda4
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 5 18:08:06 2014 +0100

    Limit the LV size to VG's free space size
    
    When creating the LV we should check its VG free space size and shrink the LV if
    it exceeds the biggest possible size.
    
    Related: rhbz#1072999

commit eb2255f612c40173023f3d4ce69f0ae568489da5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Mar 7 18:31:32 2014 -0800

    New version: 0.44

commit 808d140b079ff29840b398c9ac5a37dfa9a2ab81
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 5 13:52:23 2014 -0600

    Fix an old typo in zeroing out a PReP partition. (#1072781)

commit 137b5fa360802143da07b9deb67e1c4f94154448
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Mar 5 17:45:07 2014 +0100

    Only count with the extra metadata extents in new VGs and LVs (#1072999)
    
    Existing VGs and LVs were likely created by a code that doesn't use the same
    logic for counting with extra metadata for LVM on RAID.

commit e3aba52da4998d25b990be157d454ef9c6a09c4d
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Mar 7 10:58:54 2014 +0100

    Use container's parent's name for PV if available (#1065737)
    
    When modifying the PV in the LVMFactory, we want to keep its name.

commit 4546e65608d8764022b1cf11e8a62c03bb704039
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Mar 5 10:01:49 2014 -0500

    Fix traceback with write_dasd_conf. (#1072911)
    
    The list of disks was compared to the wrong data type, so the
    conditional was never true, which led non-s390x systems to attempt to
    write a dasd.conf.
    
    Resolves: rhbz#1072911

commit 6ddcdc45909f8913dcccb009d7bd28fdba57c20e
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 3 12:33:03 2014 -0500

    When copying a root, also copy hidden devices (#1043763)
    
    Related: rhbz#1043763
    
    Otherwise, even if the devices are unhidden the roots mounts or swaps will
    remain empty.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d63efcadfbce7da8eb7148420a08da087ad5a99b
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 3 12:31:23 2014 -0500

    Add hidden flag to devicetree.getDeviceByID (#1043763)
    
    Related: rbhz#1043763
    
    Similar to devicetree.getDeviceByLabel, etc.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 726a37472ec43103af07eecfaa0329e5bb537b64
Author: mulhern <amulhern@redhat.com>
Date:   Mon Mar 3 10:49:15 2014 -0500

    Only set device for mountpoint if it is not None (#1043763)
    
    Related: rhbz#1043763
    
    Unless the else is there the block above never has any effect.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ae57b318db4fc67cb3126c527730caf12e26bbdf
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 27 16:21:12 2014 -0500

    Extend the list of things to be omitted if moddisk is False (#1043763)
    
    Related: rhbz#1043763
    
    If moddisk is False then avoid removing partitions, but also avoid removing
    logical volumes and subvolumes.
    
    The idea is to leave information about what is on the device intact, but to
    remove it from the list of devices.
    
    Only the top few lines have actually changed, the rest is indentation only.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ab4926083b738e855c9466969b7c7d11fa2ecad8
Author: mulhern <amulhern@redhat.com>
Date:   Wed Feb 26 09:36:55 2014 -0500

    Set req_name to None at the top of initializer (#1043763)
    
    Related: rhbz#1043763
    
    To avoid a has no attribute req_name error.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 8675bc63d7271f9dc792d023210cab71bd2d50e1
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 25 12:11:13 2014 -0500

    Log action cancelation (#1043763)
    
    Related: rbhz#1043763
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 09ab21a1310f3d5dacc0cc708b136d85ab26b798
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 25 11:43:06 2014 -0500

    Make DeviceTree.hide() remove a larger set (#1043763)
    
    Related: rhbz#1043763
    
    If a device is hidden these things now happen:
    1) All actions are canceled. Note that canceling a device create action will
    cause the device to be removed. Note that it should be the case that no
    existing device has a device create action associated with it.
    Previously only a subset of actions were canceled.
    2) The device being hidden is removed using _removeDevice. An additional
    post-processing step adds the name of the device back into self.names.
    Other steps associated with hiding the device remain the same.
    
    Note: The device exists if and only if it has not been removed by the
    cancellation of all actions. So, if it does not exist, then the method
    is done after action cancelation. However, if the device does exist, it should
    be removed, special hiding actions should be done, and its name should be
    inserted back into self.names.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 040f69a9845cae0a7e9bf88d752bdb3e4c0732f0
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Mar 4 15:18:40 2014 -0500

    Re-write the DASD storage code. (#1001070)
    
    This gets rid of the DASD class and instead introduces a small
    number of functions to interface with and manage DASDs. This is
    completely divorced from the anaconda code and much more
    lightweight.
    
    (The corresponding Fedora bug for this is 859997.)
    
    Resolves:rhbz#1001070

commit 496964383a1bfb97073a622d9dd57091276637b8
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 27 09:38:49 2014 -0600

    Include image install flag when updating from anaconda flags. (#1066008)

commit f0ed2f46514d5bd9d714780659864c281af68dfe
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 28 17:05:47 2014 -0800

    New version: 0.43

commit b950e909e0d8c9eaf76084ddc9188ed7c5a41ee6
Author: Martin Kolman <mkolman@redhat.com>
Date:   Fri Feb 21 14:21:12 2014 +0100

    Include tmpfs mounts in post-install kickstart (#1061063)
    
    Previously tmpfs mounts created during installation have
    been left out of the post-install kickstart file in
    /root/anaconda-ks.cfg. This is now fixed.

commit df37dc135c3a8b74bac558cf17ca913163f046d6
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Fri Feb 21 11:18:47 2014 +0100

    Count with the extra metadata extents for RAID consistently (#1065737)
    
    When creating an LVM setup on top of RAID, we add some extra extents to make
    sure the metadata will fit in. However, when reporting free space in a VG or
    when creating an LV in a VG the size of which was pushed to the limit, we need
    to take those extra metadata into account as well.

commit 5f1a12b3967624b07a69c2f55c2ed61f3a86bd4e
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 20 10:23:51 2014 -0500

    Make partitioning error message more friendly (#1020388)
    
    Resolves: rhbz#1020388
    
    Automatic partitioning is complicated and may fail for a number of reasons
    besides an absolute lack of space. This message is less misleading than
    the previous two because it does seem to blame lack of space or a particular
    partition.

commit 68c354fe4540fd22d2725ddf0bc864b04f8b4917
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 18 14:48:21 2014 -0600

    Fix partition handling across multiple processActions calls. (#1065522)
    
    We replace the parted.Disk instances in all DiskLabel instances every
    time processActions is run, so we need update the parted.Partition
    instances throughout the devicetree accordingly.
    
    Also, we have to make sure that each DiskLabel's _origPartedDisk is
    updated before we update the DiskDevice's originalFormat with a new
    copy of the DiskLabel.

commit bd8860248ab3c4a7af2997090526f6ced953b1e3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 18 13:47:14 2014 -0600

    Let the udev queue settle before populating the devicetree. (#1049772)
    
    In this case we open a LUKS device from the custom spoke in anaconda
    and then call populate, but an LVM PV on the opened LUKS device can
    take some time to get setup.

commit 6c7591e45f8e5c17807ef88a17e7aa077fd7984b
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 18 13:42:38 2014 -0600

    Don't activate or deactivate devices from the action classes. (#1064898)

commit 4f95301f8d80c10cfcd8d8be91ac025f19cf7c99
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 14 16:31:16 2014 -0600

    Improve handling of parted.DiskLabelCommitError slightly.
    
    This approach is more focused in that it only deactivates devices that
    actually use the disk we're trying to commit to.
    
    This brings up something that should probably be addressed at some point:
    We should consider some kind of warning when a partition table change is
    scheduled on a disk with in-use partitions.

commit 9ebcd9cb085b8657cd5bcd0e2c87358a2c1e6d47
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 20 11:47:12 2014 -0600

    Make teardownAll work regardless of flags.
    
    Instead of making it do nothing except in installer mode, just don't call
    it when it doesn't make sense to do so.

commit fbea2f9d5c53b054c12625fb9e31e5b0338279e7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 15:11:31 2014 -0600

    Fix maxSize test when setting device target size.
    
    maxSize can be 0, which means there is no max size.

commit 9119ffe5fcda74852a9c8f531506b1482f9013e8
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 15:12:43 2014 -0600

    Size.convertTo should return a Decimal.

commit 1f35cdd504d1e9c7081f26eb2619e092de0e8190
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 15:12:16 2014 -0600

    Don't use float for anything.

commit 34ab3a1c376e7881e0f5db5127bfd2220480f32a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 14 16:30:20 2014 -0600

    Fix type of block count in PartitionDevice._wipe.

commit ec4533814811b8ac4f4eba14c249dae77b74f752
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 14 16:27:57 2014 -0600

    Fix handling of size argument to devicelibs.lvm.thinlvcreate. (#1062223)

commit dbeb3a34e4c2c9815567c76915632c281f1dc699
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Feb 20 10:10:47 2014 -0800

    return empty set when no matching fcoe nic (#1067159)
    
    When there is no matching nic (or no nics at all) return an empty set
    from dracutSetupArgs.
    
    Resolves: rhbz#1067159

commit 1f8c93ecf1be236fd4ec2f00bf64fd2c69246761
Author: David Shea <dshea@redhat.com>
Date:   Wed Feb 19 11:01:31 2014 -0500

    Return str from Size.humanReadable (#1066721)
    
    The values returned from humanReadable should behave the same as the
    values returned from __str__.

commit 74be8527f704832f6d99b499823a24ebd50bc1bf
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 18 12:31:44 2014 -0500

    Add a coverage test target (#1064895)
    
    Resolves: rhbz#1064895
    
    Submitted by: Alexander Todorov <atodorov@redhat.com>
    Revised by: mulhern <amulhern@redhat.com>
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d3c88fb183884ec773d5b29d52226e6745636b0c
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 18 10:55:17 2014 -0500

    Filesystem labeling tests will not run without utilities (#1065422)
    
    Resolves: rhbz#1065422
    
    Check that utilities are available before trying to run tests that use them.
    
    Do this check in the setUp() method of the base class.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 73a9855d19b623b3e7dad0825d5f3959a7920264
Author: mulhern <amulhern@redhat.com>
Date:   Sat Feb 15 13:04:03 2014 -0500

    Rename misc_test.py to something more descriptive (#1065422)
    
    Related: rhbz#1065422
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4845146bac91dab5371b464090d7f55e9138e975
Author: mulhern <amulhern@redhat.com>
Date:   Sat Feb 15 12:06:43 2014 -0500

    Refactor labeling tests (#1065422)
    
    Related: rhbz#1065422
    
    There are so many commonalities between tests for different filesystems
    that it is time to factor those out before new stuff is added.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit bd15af262068b80d40c9acbd8b4425abf7815d58
Author: mulhern <amulhern@redhat.com>
Date:   Sat Feb 15 10:21:57 2014 -0500

    Move SwapSpace tests into a separate class (#1065422)
    
    Related: rbhz#1065422
    
    Swap space is not like the other things tested here. Moving it into
    a separate class allows abstraction of some of the other tests.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 459dda832d15a435399ff6cca08da53912912a73
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 18 16:38:35 2014 -0800

    New version: 0.42

commit a03a11425f7f0dce1386fc3b4bf769bd9af76203
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 29 10:07:36 2014 -0600

    Wait for udev to create device node for new md arrays. (#1036014)

commit 27ca10973a7e46eda60459c86542a25ec368227b
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 12:09:36 2014 -0600

    Fix detection of thin pool with non-standard segment types. (#1022810)

commit 953bdd136ad88d5569db9b3f4dfba909bf538748
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 09:45:30 2014 -0600

    NFSDevice does not accept the exists kwarg. (#1063413)

commit 210e3f14964b8bb628fce003aa175f702e5456b7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 17 09:15:37 2014 -0600

    Don't run mpathconf for disk image installations. (#1066008)

commit 6df77b2bfbf561e967ad18f6d8da1022d4793b45
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Feb 12 13:52:56 2014 -0500

    If /etc/os-release exists, check it to identify an installed system.
    
    This should allow us to identify and list installed OSes that do not have a
    redhat-release file (which is most of them), but are new enough to have an
    os-release file (which is probably not yet that many).

commit 3e51ef5940d54b5dd8e66da20e7fa345cf694062
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 14 12:39:31 2014 -0600

    Get the unit tests into a runnable state.

commit 38c8d7bdf8f8d5f62040e1b97aa5c2fcf1b5a9a2
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 12 15:41:06 2014 -0600

    Update Source URL in spec file to use github.

commit d87f610c9d922313a7aeac606fae2ad845228831
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 11 16:35:07 2014 -0800

    New version: 0.41

commit dc6e51b7fdb9e9bc1202ee15347d1bdfe2f8387b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Feb 10 14:53:45 2014 -0800

    ntfs _getSize needs to use Decimal (#1063077)

commit f2afbd51485b8a2a63373cedb2f6cc3fc38acbcc
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 6 10:58:53 2014 -0500

    Separate sanityCheck-ing from doAutoPartition (#1060255)
    
    Related: rhbz#1060255
    
    Moves the sanityCheck call into a separate method. The separate method
    doesn't do much but allows to throw a PartitioningError in some cases where
    that is expected.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dca22733eb6d8cbdd1d1301ceafbb795993c9917
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 6 11:05:04 2014 -0500

    Change messages to SanityExceptions objects (#1060255)
    
    Related: rhbz#1060255
    
    Change string messages returned in sanityCheck tuple and in
    _verifyLUKSDevicesHaveKey to Error objects.
    The major purpose of this is to be able to distinguish and filter them.
    
    Use object type to distinguish warning (SanityWarning) from errors
    (SanityError) instead of passing back a pair of lists.
    
    Also, got rid of that large chunk of commented out code, if we want it, we
    know where to find it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ae01bddbf964daefcfec55afe229c3f2e8b6cf16
Author: mulhern <amulhern@redhat.com>
Date:   Thu Feb 6 11:00:57 2014 -0500

    Make a small SanityException hierarchy (#1060255)
    
    Related: rhbz#1060255
    
    Class hierarchy looks like this:
    
    StorageError
       SanityException
          SanityError
             LUKSDeviceWithoutKeyError
             ... more stuff here, as needed ...
          SanityWarning
             ... more stuff here, as needed ...
    
    SanityException should be something generated by blivet.sanityCheck.
    LUKSDeviceWithoutKeyError is currently the only distinguished subclass of
    SanityError. It's special,
    because in some situations where sanityCheck is called, a missing key
    should not be considered fatal, but it's the caller's job to figure out if
    that is the situation.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e10d197e233e7bc5ea3a633a8786434b38236426
Author: mulhern <amulhern@redhat.com>
Date:   Tue Feb 4 18:26:26 2014 -0500

    Remove unused exception class (#1060255)
    
    Related: rhbz#1060255
    
    It is not raised anywhere and seems not to really belong.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 803725f834ea80ed0392d3d074152dad7574a2fb
Author: David Shea <dshea@redhat.com>
Date:   Wed Feb 5 09:24:04 2014 +0100

    Add another .decode("utf-8") to humanReadable (#1059807)
    
    This way Size.humanReadable always returns a unicode object that __str__
    can always convert back to a str.

commit a7c42070c965f349a6cabcd9c22250c455f3152e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 4 17:38:22 2014 -0800

    makebumpver: Any failure should cancel the bump

commit 0c3ffd9f2ad7a1aac9882c023b14c7b99e3a68a2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 4 17:03:53 2014 -0800

    New version: 0.40

commit 192cb7f50fd7fbc129684e9def4baec58c413b27
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Feb 4 08:07:26 2014 -0800

    makebumpver: Only remove from list if action is not Resolves
    
    If The body contains a Resolves it doesn't need to be removed, since it
    is a set there is only one copy of it and removing it will result in an
    error.

commit 0138dc4ecf8d00a3dcc040c6acf93400d8e418cd
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 31 18:53:00 2014 -0800

    Update bumpver to allow Related bugs
    
    Related bugs that are against a different component will have mismatched
    Fixed-in-version strings, which is to be expected. So if it is Related,
    valid and has an ack override the bad flag and allow it.

commit 0346166c159ca2588513ae79f60929c1e478cab4
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Thu Jan 30 09:19:41 2014 +0100

    Remove all dependent devices of san device becoming multipath (#1058939)
    
    Also change the format to multipath after the devices are removed,
    not before.
    
    Resolves: rhbz#1058939

commit 7aeeedc3998d09e42c21ac958a6af2853e8b50cb
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Thu Jan 23 14:23:58 2014 +0100

    When repopulating multipath members mark them as multipath (#1056024)
    
    Resolves: rhbz#1056024
    
    This is needed when doing (re)populate when some FCoE multipath devices had
    already been added in previous populate. We need to add info["ID_FS_TYPE"] (as
    when the device is scanned/populated for the first time) so that the
    condition excluding multipath menbers in handleUdevDiskLabelFormat is
    applied to the device.

commit 31186ed990dc5829877e9bb2899950428d9139b2
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Jan 24 10:28:10 2014 +0100

    fcoe: parse yet another sysfs structure for bnx2fc devices (#903122)
    
    The patch is needed to parse-out correct parent nic used for FCoE,
    which is used for setting dracut arguments and pre-reboot tweaking
    of ifcfg file of parent device (NM_CONTROLLED=no, ONBOOT=yes)
    
    Related: rhbz#903122

commit bd5b2941ebf561a168b4402d4dc0ad18b35a7f3f
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Jan 6 15:07:41 2014 +0100

    fcoe: add fcoe=<NIC>:<EDB> to boot options for nics added manually (#1040215)
    
    Related: rhbz#1040215

commit 75ac8f2e783ee3675a7c82cffe421c976d6f36ba
Author: David Shea <dshea@redhat.com>
Date:   Mon Feb 3 13:08:42 2014 +0100

    Convert the ntfs minsize to an int (#1060031)
    
    The minsize string needs to be explicitly converted to an int before it
    can be used in a %d format.

commit 66724c49e44302fe576f05d294b6a24437717617
Author: David Shea <dshea@redhat.com>
Date:   Mon Feb 3 10:40:41 2014 +0100

    Convert the string representation of Size to a str type. (#1060382)
    
    The return value of Size.humanReadable is sometimes a unicode, since the
    translated units need to be unicode in order for upper/lower to work.
    Convert the value back to a str so that __str__ conversions don't get
    confused.

commit 34486fef9f6e6b6a7bc0777bc683582742d5d25c
Author: Adam Williamson <awilliam@redhat.com>
Date:   Thu Jan 30 18:34:57 2014 -0800

    don't display stage2 missing error as well if the real problem is stage1
    
    As things stand, if you fail the stage1 check for any reason, I think you will
    always also see the "missing stage2" error message - "You have not created a
    bootable partition." - even though the problem is really the missing stage1.
    This should only display the missing stage2 error if stage1 is OK.

commit d0527ac76b46c82e50b1707c5443cea3fc3601fc
Author: Adam Williamson <awilliam@redhat.com>
Date:   Thu Jan 30 18:34:56 2014 -0800

    Provide a mechanism for platform-specific error messages for stage1 failure
    
    This is a follow-up to "provide a more useful error message if user fails to
    create an ESP". It implements a cleaner, more generic way of doing it: instead
    of stuffing a check for UEFI platform and a platform-specific error message
    into the storage sanity check, it provides a mechanism by which we can specify
    in platform.py an error message to be displayed in the case the stage1 check
    fails.
    
    I've included error messages for each platform, based on the constraints.
    
    I also slightly tweaked the text of the generic error message itself to be
    more accurate to the logic as it currently stands: stage1_device not being set
    doesn't necessarily mean "nothing and no-one tried to set it" any more, it can
    also mean "we tried to set it but couldn't find a valid setting" - in fact,
    that's much more likely. "See below for details" makes it a bit clearer, I
    think, that the platform-specific error message is giving you more details
    about this still-fairly-cryptic message, they're not separate errors. "stage1"
    is pretty jargon-y, probably meaningless to the user, and probably not strictly
    the right term for some of these cases, so I dropped it.

commit f188f8c0fda533a777e0188d93d5a9708877590a
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jan 31 12:50:22 2014 -0500

    Don't add None value to req_disks (#981316)
    
    Resolves: rhbz#981316
    
    If a disk has been removed in the interim it won't be found by a lookup
    in the device tree, but we don't want to include None in our copy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4ffa575de7224ac73c45da7309aff7f5cd2d73e1
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jan 31 09:06:07 2014 -0500

    Make error message more informative (#1022497)
    
    Resolves: rhbz#1022497
    
    Make the error message indicate the nature of the problem a little better so
    that it is less misleading when it pops up in the GUI.
    
    Making the error message indicate the precise problem is actually kind of
    tricky, since it would involve changing the return values for
    getNextPartitionType() to record this information
    and then propagating those values carefully througout
    a large chunk of allocatePartitions().
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c9691150ab9486ac0dfa586f68ff6a747857904b
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 29 13:11:50 2014 -0500

    Check that file that loop device is going to use exists (#982164)
    
    Related: rhbz#982164
    
    Catches the non-existance of the file slightly earlier and gives a more
    informative message instead of just failing when losetup is called.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d2dc2f922b76eed739373e45dae5440e22bb39e4
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 29 13:09:56 2014 -0500

    Use os.path.isabs to check whether path name is absolute (#994488)
    
    Related: rhbz#994488
    
    Just to be proper.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ba2bb2d2e553da849cdda0c21749dfee100dfc07
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jan 28 17:08:13 2014 -0800

    New version: 0.39

commit 58be1ec43ede5f79ea4bdbfff3987d4a97470191
Author: Will Woods <wwoods@redhat.com>
Date:   Mon Jan 27 12:05:28 2014 -0500

    escrow: make sure the output directory exists (#1026653)
    
    writeEscrowPackets() gets called from turnOnFilesystems() immediately
    after it mounts all the filesystems. So under normal circumstances, when
    we run writeEscrowPackets() the ROOT_PATH is completely empty.
    
    So when we do device.format.escrow(ROOT_PATH + "/root",...) that path
    doesn't exist yet, and so it ends up raising IOError when it tries to
    open a file there.
    
    The simple solution is to ensure the path exists before we pass it to
    device.format.escrow().
    
    (This won't interfere with the installer; when RPM tries to create
    /root in the course of installing the "filesystem" package it should
    happily just chmod the existing directory to the proper mode and leave
    the contents as-is.)

commit 72d56389fbdf0be1111e0e7d197bcb6b0b37c79d
Merge: 4a32b685 c81cbd05
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jan 27 09:48:07 2014 -0800

    Merge branch 'master' of git+ssh://git.fedorahosted.org/git/blivet
    
    Forgot to push New Version: 0.38

commit c81cbd05a5e29b1c82706fc5a3b09424c087ba0d
Author: Adam Williamson <awilliam@redhat.com>
Date:   Sun Jan 26 23:39:44 2014 -0800

    provide a more useful error message if user fails to create an ESP
    
    If you do a UEFI native installation, use custom partitioning, and fail to
    mount an EFI system partition at /boot/efi, blivet's __init__.py attempt to
    set a stage1 device will fail completely and return our old friend, the
    completely oblique error message "you have not created a bootloader stage1
    target device". With this patch, when that test fails, if the arch is UEFI,
    an additional error message is appended: "For a UEFI installation, your layout
    must include an EFI system partition mounted at /boot/efi". It's always hard
    to consider all possible paths to an error condition, but I don't _think_ it
    would ever be incorrect to display this message when the attempt to set a
    stage1 device fails during a UEFI installation, and usually it will be a
    useful cue for the user.
    
    Signed-off-by: Will Woods <wwoods@redhat.com>

commit 7360b05e1b82d0c1c25623f04e761df60038a79c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 23 15:07:21 2014 -0600

    Tell lvcreate not to ask us any questions and do its job. (#1057066)
    
    Specifically, new functionality prompts the user whether or not they
    would like to wipe detected metadata when creating a new lv. This
    tells it to go ahead instead of asking.
    
    This is a global setting for lvcreate, but I think we really do want
    to create the new lv in any case, regardless of what lvm might think
    we should stop and talk about first.

commit 4a32b68580bc144838a0d92a0759d761cc13e4e8
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 24 16:56:10 2014 -0800

    New version: 0.38

commit af3ef69b130e0dae86b6e53624276eb368d96a07
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 23 15:29:04 2014 -0500

    Some simple tests for _verifyLUKSDevicesHaveKey (#1023442)
    
    Related: rhbz#1023442
    
    Some very simple tests to execute this one method. Exercising
    sanityCheck itself requires a more ambitious setup.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1a057a43cf07001df60072009bfcfc52df1fc2c9
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 23 12:37:26 2014 -0500

    Verify that LUKS devices have some encryption key (#1023442)
    
    Resolves: rhbz#1023442
    
    This add a check that every non-existant LUKS device has some encryption
    key to blivet.Blivet.sanityCheck.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e649988058b2c3365b298a9401807c4eec922ec3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jan 22 17:42:14 2014 -0800

    New version: 0.37

commit e520ee70b4ef7f21046bc91aeae74e5f68ba9ec6
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 20 14:29:58 2014 -0500

    Only do SELinux context resets if in installer mode (#1038146)
    
    Related: rhbz#1038146
    
    Basically, OpenLMI would prefer they don't happen at all, but anaconda
    needs them.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6d30c24a266799e5b03de2076e0ae142ec10d9b4
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 20 12:44:22 2014 -0500

    Look up SELinux context for lost+found where it is needed (#1038146)
    
    Resolves: rhbz#1038146
    
    Previously the context for lost and found was set at module import as a module
    level file, but it was only used when mounting a filesystem. Now, it is set
    where it is used and the lookup uses a little method in util.py instead of the
    raw selinux method.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 59a6db051a46826671c80db92399275b19670d58
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 20 11:49:56 2014 -0500

    Don't reset the SELinux context before the filesystem is mounted (#1038146)
    
    Related: rhbz#1038146
    
    It does not seem to make sense to do this kind of thing before the filesystem
    is mounted.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5b3863c90d4bc07bbc170fc213b4a4c46b3ddc01
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 20 10:13:46 2014 -0500

    Test setting selinux context on lost+found (#1038146)
    
    Related: rhbz#1038146
    
    Just make sure selinux context on lost+found is currently correct.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fa56a9fcb77e060d9c5569a06ad9a5ff4050978d
Author: David Shea <dshea@redhat.com>
Date:   Wed Jan 22 09:34:54 2014 -0500

    Only retrieve the unit specifier once
    
    Use separate variables for the specifier decoded as ASCII and the
    specifier decoded at unicode.

commit 94785c33564f7999172539b87f01a2e87baad926
Author: David Shea <dshea@redhat.com>
Date:   Tue Jan 21 15:18:07 2014 -0500

    Fix the Device.id usage.
    
    Set the id for subclasses of ObjectID during __new__ so that the id is
    available to subclasses during __init__.

commit 76d8e476c9ca4d1ca63c86435b1d57ebd1cd8fc8
Author: David Shea <dshea@redhat.com>
Date:   Mon Jan 20 15:35:37 2014 -0500

    Accept both English and localized sizes in Size specs.
    
    _parseSpec will accept both English and localized size specs, either
    with a period or a localized radix character. Size.humanReadable will
    always return the localized version of a Size.

commit 48e9415f54d8af13362bdbefaf1b7a877bf6088f
Author: David Shea <dshea@redhat.com>
Date:   Tue Jan 21 09:58:25 2014 -0500

    Use a namedtuple to store information on unit prefixes

commit 4e028a6a5f31d692fa2030efff54a6d9d92ef05a
Author: David Shea <dshea@redhat.com>
Date:   Mon Jan 20 14:42:34 2014 -0500

    Remove en_spec Size parameters.
    
    This reverts commit eb4acdf8bdde7904faa9036547b782e1a4b9b388 and changes
    all the Size constructions added since then to use spec= in place of
    en_spec=

commit caf8d3f984d7630cd2b34a934fba9652b4d6a54f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 20 11:56:28 2014 -0600

    Fix potential traceback in devicetree.populate. (#1055523)
    
    Traceback introduced by commit a11f3a8795ed from master.

commit b2b49838edf07a6bff31cdd2f3559ea6024a5f58
Author: mulhern <amulhern@redhat.com>
Date:   Fri Jan 17 09:39:34 2014 -0500

    Fall back on relabeling app where available (#1038590)
    
    Related: rhbz#1038590
    
    If there is a relabeling app, don't use filesystem creation app to label
    the filesystem, use the relabeling app.
    
    The motivation here is that it is better for labeling to fail separately
    when possible than for filesystem creation to fail due to issues with
    labeling.
    
    The call to writeLabel is inside the if because I'ld rather not log
    a failure due writeLabel() failing to write the label None, which means
    accept the default and do not write a label. I'ld also rather not log
    a failure when the label has already been written by the creation app
    because there is no separate labeling app.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 93fe35306ebfa07ed61311a0a43af3994a177ca9
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 11:43:09 2014 -0500

    Change the meaning of label field values (#1038590)
    
    Related: rhbz#1038590
    
    Now, if FS.label is None that means accept the filesystem default and if it
    is "" that means write an empty label.
    
    If a filesystem exists when the object is created, the label should not be
    None, as that filesystem must have some label even if it is the empty string.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3b4a23442fc58852e55a577e3cb8139cc183a08d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 15:47:54 2014 -0500

    Enable labeling on NTFS filesystem (#1038590)
    
    Related: rhbz#1038590
    
    Don't test much because NTFS's _formatting field is false, so can not actually
    format a device.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ef0b2f3a071b83890bf5a498d9b3191e476c18d3
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 15:08:55 2014 -0500

    Enable labeling on HFS filesystem (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 23e50ac2789b065ade39b13d69dbbc24288fc4d2
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 14:32:34 2014 -0500

    Add a method that indicates ability to relabel (#1038590)
    
    Related: rhbz#1038590
    
    Some filesystems can only be labeled at creation time, others can be
    labeled subsequently.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2896ab9950079b03eddb2252ad5e3f197aa6cc91
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 14:44:34 2014 -0500

    Use filesystem creation app to set filesystem label (#1038590)
    
    Related: rhbz#1038590
    
    It turns out that every filesystem that has a distinct labeling app
    can also set the label via the the filesystem creation app, so we set the
    label there and do not call writeLabel from doFormat at all any more.
    
    If the label has a bad format for the filesystem, we do not try to set,
    but we do
    log the problem. It turns out that some filesystems creation apps
    will truncate excessively long labels, while others will refuse to proceed,
    but I think it's best that blivet avoid making such nice distinctions
    between different apps and act uniformly for all.
    
    Tests updated to check setting label at creation a little more thoroughly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1be0aede2c123884d2fe94d90427754b2aebadf6
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 10:59:40 2014 -0500

    Import errors so FSError name is resolved (#1038590)
    
    Related: rhbz#1038590
    
    These error are kind of hard to actually make happen, so test code was not
    encountering them, but pyflakes found them.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 72c44a726a78040d540d0b4ba9fae8b26e7cecf6
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 10:52:42 2014 -0500

    Remove BTRFS._getFormatOptions (#1038590)
    
    Related: rhbz#1038590
    
    It can not be called when the the instance is BTRFS because only
    FS.doFormat calls it and doFormat is only called by create which fs.BTRFS
    does not use.
    So, it can not be called at all.
    
    Also, BTRFS is the only class that overrides this method, so it's existance
    is a bit distracting.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 40c4192c5020ed4c7363a694b71064a24dcf7c73
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 10:08:47 2014 -0500

    Make an additional class for labeling abstractions (#1038590)
    
    Related: rhbz#1038590
    
    Many filesystems can be labeled at creation time. Want to distinguish
    abstract notion of filesystem labeling from concrete notion of a filesystem
    labeling application that can label after the fact.
    
    So, refactor abstraction into a separate class, which contains labeling
    application class as a field.
    
    The labeling applications and the filesystem creation apps seem to respect
    the same label formatting so labelFormatOK goes in fslabeling.
    
    The behavior hasn't really changed yet, except that some calls are forwarded.
    All existing tests are passing.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 320624fd651305afa558dbcf9cac87f3717d8e02
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 14 09:11:52 2014 -0500

    Fix copyright date (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 864cf7c9e97187c20a5be0f53878a2b7d5110cd8
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 17:57:59 2014 -0500

    Remove redundant _defaultFormatOptions field (#1038590)
    
    Related: rhbz#1038590
    
    Ext2FS extends FS, which already sets _defaultFormatOptions to [].

commit 2073463ad784c447fe4bfa2eb0405ded6aad2ea8
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 15:43:48 2014 -0500

    Remove code about unsetting a label (#1038590)
    
    Related: rhbz#1038590
    
    All of the label setting application that we use can unset a label; just
    xfs_admin requires a special syntax.
    
    This means that we can get rid of one function in FSLabelApp and all its
    decendants and that we can get rid of a check in writeLabel.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b7015b3dda590d09c4b581e65886d4d4c516bbcb
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 15:40:38 2014 -0500

    Return None if the filesystem has no label (#1038590)
    
    Related: rhbz#1038590
    
    If the filesystem has no label the regular expression that matches the
    output will match an empty string. Change that to None, because that's
    what it means.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 67c42499320185b97bea4a682fd78c30e2c1cd05
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 13:32:27 2014 -0500

    Removed redundant check for existance of filesystem (#1038590)
    
    Related: rhbz#1038590
    
    The first time it throws an exception if the filesystem already exists.
    
    The second time, it just returns and nothing much happens in between.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 680670013225bd99e6abde3d66ee5f097e346838
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 13 13:28:00 2014 -0500

    Have writeLabel throw a more informative exception (#1038590)
    
    Related: rhbz#1038590
    
    If the format of the label is one the application can not write,
    have it throw an exception. Previously the system call have thrown an exception,
    but that one would have been much less informative.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 35973fc17df86e0d934f93c4c4492739f8155fb3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 17 17:02:52 2014 -0800

    New version: 0.36

commit 0e70d855eb8c1189a5d566386eaae783729d8ae8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 17 12:19:53 2014 -0600

    Update the TODO list.

commit a11f3a8795edb6f28211e9b05aa8df65c2d91e13
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 16 15:31:57 2014 -0600

    Multipath, fwraid members need not be in exclusiveDisks. (#1032919)
    
    This, combined with commit 07bcfa413f5e4d1fdb8ebcb9ac98834da29f0df2,
    means you can specify a multipath by identifying the multipath itself,
    all of its members, or both.

commit 98d869903e451a41cc1a7685dfdcb8977b86a0ea
Author: David Shea <dshea@redhat.com>
Date:   Wed Jan 15 20:34:45 2014 -0500

    Convert parted getLength values to Size

commit 0235e807f5135e32a2e449c7acd6afe34d5ffb13
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jan 15 14:51:08 2014 -0800

    Last of the Device._id -> Device.id

commit 4cf3ba028458045725e9e6bd34a169b14f11c7bb
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Jan 8 11:12:55 2014 +0100

    iscsi: in installer automatically log into firmware iscsi targets (#1034291)
    
    Resolves: rhbz#1034291
    
    Not all iSCSI offload solutions use iBFT or need network interfaces configured
    by the OS to function.

commit 57b5adc7e6803ea2f2b4c3fc0f9863f30d54ed27
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Jan 15 08:50:29 2014 +0100

    Use isinstance for testing numeric types
    
    This way all subclasses are correctly considered numeric types as well, namely
    the Size instances which may easily appear in that context.

commit f0cbf4fe3c9d00874514f34fe948940ad109d37f
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jan 15 10:13:24 2014 -0500

    Device._id -> Device.id

commit 27641b460ec5c1c93e8e40cd297f93f8d5b298e5
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 13 14:22:54 2014 -0600

    Allow resetting partition size to current on-disk size. (#1040352)
    
    The test to see if the new size is different from the currently
    projected size was erroneously using the currentSize attribute instead
    of the size attribute. The currentSize attribute is the wrong choice
    because it always reflects the device's actual on-disk size, meaning
    it ignores any previously scheduled resize actions and makes it
    impossible to reset the device's targetSize back to its actual on-disk
    size once it has been set to something else.

commit 536040a3807717c56ca73a2403f540a93c029823
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Jan 10 16:13:33 2014 -0800

    New version: 0.35

commit 910ff446cd4881610b9fab46a37e8f63b1f468fe
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 19 15:36:30 2013 -0500

    Convert everything to use Size.
    
    Size essentially stores sizes in bytes and provides methods for
    conversion between various units.
    
    All sizes originating from within blivet are based on binary prefixes
    except where required to interface with other tools (see ntfsresize).
    
    This adds a missing lower bound of 1 MiB to the md raid superblock size
    calculation, which changes some of the mdraid tests.
    
    It also reverses the order of the operands in the various
    RAIDLevel._get_raw_array_size methods to ensure we return a Size instead
    of an int.

commit 33b4cc991cc5c2b7677d302d029d6d49f908eb1e
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Dec 16 11:32:44 2013 -0600

    Allow negative sizes.
    
    There are times, especially when reconfiguring a stack via the device
    factory, when a volume group might have a negative amount free space.

commit d1d8fa728ffc2e23b98281b7ec2da506e2ccab55
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 20 10:23:56 2013 -0600

    Fix return value of Size.convertTo with a spec of bytes.

commit 2dc711562ea57efceaa4cb17d098d88b2f4be20c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 18 13:38:27 2013 -0600

    Discard partial bytes in Size constructor.

commit 3c7a194d38f1ee734cf4e809fdd9f14864a0fd4c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Dec 18 13:37:50 2013 -0600

    Prefer binary prefixes since everything is really based on them.

commit b7d646e6b25a277fec6868516821001e3693275c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 20 10:27:26 2013 -0600

    Fix a few minor problems introduced by recent raid level changes.
    
    This includes a change to the unit test for invalid/missing raid level
    in the md factory. _set_raid_level is only called when the factory is
    operating on a defined MDRaidArrayDevice, which is not the case here.

commit f3c5056b4c4c7336caf75b1375bc237448b67825
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 9 11:39:38 2014 -0500

    Move label setter and getter into DeviceFormat class (#1038590)
    
    Related: rhbz#1038590
    
    DeviceFormat does not have a label but SwapSpace as well as FS does, and
    it is better to put the same restrictions on the label for both.
    Note that the restriction has been reduced to converting "" to None.
    The comments on the setter explain why it is not possible to be more
    restrictive.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0ac1963351684526376aea3b5ffa0a3e4e87a73c
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 9 11:37:45 2014 -0500

    Add a test for labeling swap devices (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit afa282915de576f605a4338840bfe52b60ad7b58
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 9 11:31:52 2014 -0500

    Default to None to mean none, rather than empty string (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 783350b8e7583f55427e72fe540f7a5a0821ca86
Author: mulhern <amulhern@redhat.com>
Date:   Thu Jan 9 11:04:50 2014 -0500

    Add a labelFormatOK method to the DeviceFormat's interface (#1038590)
    
    Related: rhbz#1038590
    
    Need to expose this information to any client of a DeviceFormat since it's
    really an operational question about the labeling application not about
    the state the DeviceFormat is allowed to have.
    
    In other words, have to allow for a legal DeviceFormat label which the labeling
    application can not handle.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d31444be05c60d9ed637f18c8924faa18a3266a2
Author: mulhern <amulhern@redhat.com>
Date:   Sat Dec 21 12:24:43 2013 -0500

    Indicate whether the filesystem can label (#1038590)
    
    Related: rhbz#1038590
    
    The labeling() classmethod returns False if the filesystem can not be labeled.
    This is really for external programs, that might prefer not to allow a user
    to specify a label if nothing can be done with it.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6e5920e6051eb4180e8fca67390c43315be08a9e
Author: mulhern <amulhern@redhat.com>
Date:   Sat Dec 21 10:26:22 2013 -0500

    Restore ability to write an empty label where possible (#1038590)
    
    Related: rhbz##1038590
    
    This was available in version of writeLabel preceding this patch
    set but was not ever exercised. It's back, but more carefully guarded
    because xfs_admin is actually unable to write an empty label to a filesystem.
    
    A few more tests were added.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 7358ac7e7c1468b1570f54e8ad180d504451e98c
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 18 17:01:26 2013 -0500

    More tests to check writing and reading labels (#1038590)
    
    Related: rhbz#1038590
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 0b682b09470b5e3aa910f9a903969a0e309e0b64
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 20 15:36:41 2013 -0500

    Remove fsConfigFromFile (#1038590)
    
    Related: rhbz#1038590
    
    It is unused and made more obsolete by the previous changes.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1ff04fc0e33029627f0957fd80e0efba96f1b334
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 17 11:03:34 2013 -0500

    Changes to the handling of filesystem labeling (#1038590)
    
    Resolves: rhbz#1038590
    
    * Change FS.label to a property
    - Want to guard setting the label format, so it matches the requirements of
    the labelfs program that will use it.
    - Don't set label property in writeLabel. writeLabel is only called from
    doFormat, in a context where self.label is guaranteed to be set.
    * Removed _defaultLabelOptions field and defaultLabelOptions property. The
    property is only used in this file, and it is only used by _getLabelArgs.
    The property is set from the field.
    * Remove label parameter from writeLabel method
    - writeLabel is only called in one place and in that place self.label is
    guaranteed to be set, so this change does not change the behavior of the
    program.
    - Since writeLabel uses the label in self.label instead of a parameter
    it is guaranteed that this value has passed the checks in self._setLabel.
    - Other methods that are only called by writeLabel are changed in the same way.
    - writeLabel now throws an exception if it can not set the label because there
    is no program to set it. This does not change the behavior of this program.
    * Factor out filesystem relabeling functionality into a separate package
    * Add the ability to read the filesystem label
    - In some cases, the application that is used to write the label is also
    used to read the label.
    - This is certainly useful for testing, and may come in handy otherwise.
    
    Signed-off-by: mulhern <amulhern@redhat.com>
    
    Conflicts:
            blivet/formats/fs.py

commit 3624a1d989723f257020c7e93be3f05c4ca45561
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 17 12:17:37 2013 -0500

    Add some simple tests for file formats.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3b9912fa3d3441deb5f4e44a5606c35e6f5b0c1f
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 6 12:55:04 2014 -0500

    Give DeviceFormat objects an id (#1043763)
    
    Related: rhbz#1043763
    
    The motivation here is to track DeviceFormat objects across copies
    mostly for tracking down where a default DeviceFormat object which lacks
    a particular field came from.
    
    Makes use of the id in the representation and in the getFormat logging text.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit da0ddba4dbd99e1b51025349898c0c8e01e34433
Author: mulhern <amulhern@redhat.com>
Date:   Tue Jan 7 13:19:08 2014 -0500

    Refactor to use ObjectID class (#1043763)
    
    Related: rhbz#1043763
    
    Refactor Device and DeviceAction classes to use ObjectID instead of
    their own internally implemented ids.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit da07cee739f0865a88b3d2ff5dc83e404b049ec4
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 6 12:45:32 2014 -0500

    Make a class that creates a unique-per-class id for objects (#1043763)
    
    Related: rhbz#1043763
    
    There are some objects that we would prefer to be able to track across a copy
    or a deep copy. This is most likely when numerous instances of
    more or less indistinguishable objects are created and when they are likely to
    be copied during an anaconda run. DeviceFormat objects are the motivating
    example.
    
    Some objects already have an id, will refactor to use this class.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fb07fba977af647c6c86d36920dd861928c31824
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 8 08:04:24 2014 -0500

    Revert "Make a class that creates a unique-per-class id for objects (#1043763)"
    
    I pushed this only to find that there was room for improvement.
    I'ld rather push the final patch set than the changes so that it matches
    what I'll eventually push to rhel7.
    
    This reverts commit dc139033de80b859e1fb15d8767e751512006c1a.

commit 1f08b82f9ec2ee042d3dfe8304b579cb0f37cac1
Author: mulhern <amulhern@redhat.com>
Date:   Wed Jan 8 08:02:30 2014 -0500

    Revert "Give DeviceFormat objects an object_id (#1043763)"
    
    I pushed this only to find that there was room for improvement.
    I'ld rather push the final patch set than the changes so that it matches
    what I'll eventually push to rhel7.
    
    This reverts commit 0ee574bf36c3f4d779f3946e6cfab6b052e93916.

commit 570ee1e9ed91188306fd365d99cc20d13b5a4490
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jan 7 15:10:35 2014 +0100

    Make the maximum end sector for PReP boot more benevolent (#1029893)
    
    There is no documentation restricting that value and 10 MB cause issues if
    alignment doesn't put the PReP boot partition to the very beginning of the disk.

commit 0ee574bf36c3f4d779f3946e6cfab6b052e93916
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 6 12:55:04 2014 -0500

    Give DeviceFormat objects an object_id (#1043763)
    
    Related: rhbz#1043763
    
    The motivation here is to track DeviceFormat objects across copies
    mostly for tracking down where a default DeviceFormat object which lacks
    a particular field came from.
    
    Makes use of the object id in the representation and in the getFormat
    logging text.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dc139033de80b859e1fb15d8767e751512006c1a
Author: mulhern <amulhern@redhat.com>
Date:   Mon Jan 6 12:45:32 2014 -0500

    Make a class that creates a unique-per-class id for objects (#1043763)
    
    Related: rhbz#1043763
    
    There are some objects that we would prefer to be able to track across a copy
    or a deep copy. This is most likely when numerous instances of
    more or less indistinguishable objects are created and when they are likely to
    be copied during an anaconda run. DeviceFormat objects are the motivating
    example.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6a3e3c12ef1d5d86a88d7353a3e7307e9a5cd69e
Author: mulhern <amulhern@redhat.com>
Date:   Fri Nov 8 15:52:30 2013 -0500

    Make get_device_format_class return None if class not found (#1043763)
    
    Related: rhbz#1043763
    
    Previously, get_device_format_class returned DeviceFormat if no precise
    class was found for its argument, fmt_type, now it returns None. This brings
    its behavior into alignment with the expectation of calling code, all of
    which expect that it might return None, except for the one method,
    _parseOneLine discussed below.
    
    getFormat() has been changed so that its behavior is exactly the same as
    before; it handles the return value from get_device_format_class
    differently.
    
    The comments of both functions have been updated.
    
    The only behavioral change is in method _parseOneLine of class FSSet.
    Previously, if no format class was found for "nodev", device was set to a
    NoDevice object.  Now, the device is not set.  This is in line with the
    apparent purpose of the code, which is to set device to a NoDevice object if
    fstype indicates a format that is a subtype of NoDevFs.
    
    For reference the if condition that would allow this function to be
    unchanged in behavior with the changed behavior of get_device_format_class
    is:
    
    if devspec == "none" or fmt_class is None or isinstance(format, fmt_class):
    
    but I think that would not be what was originally intended.
    
    Signed-off-by: mulhern <amulhern@redhat.com>
    
    Conflicts:
            blivet/formats/__init__.py

commit 832b47324d5729e3e314d7f7bb243a7ea9c81821
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 27 15:29:48 2013 -0500

    A few simple unit tests for some formats methods (#1043763)
    
    Related: rhbz#1043763
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 303968a9be79358785dba30830952bd6a48591c2
Author: David Shea <dshea@redhat.com>
Date:   Thu Dec 19 14:25:20 2013 -0500

    Don't translate format names
    
    Until we get a better answer for whether or not this even makes sense,
    leave format names untranslated to avoid problems with all the code that
    expects untranslated format names.

commit 8e539825277d3e6595513b9ee6e9a946d0e0e02b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Dec 19 09:40:19 2013 -0800

    New version: 0.34

commit 5bfadacf611e8ccfd9fbf43c319bdb829e33d026
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Dec 18 11:02:34 2013 +0100

    Forget existing partitions of device becoming a multipath member (#1043444)
    
    Related: rhbz#1043444
    
    For example of iSCSI disk attached in GUI.
    
    When adding rescanned partitions of the (now multipath-member) device
    they will be ignored (as partitions of multipath-member).
    
    Followup of
    commit 9e3f46c964e4c5d6087c2f649c80add0b5ae7e45

commit 40ccd104dab9c288883c1bc08e0a173143806966
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 18 08:14:34 2013 -0500

    Include blivet.devicelibs.raid in the generated documentation.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 885d4a8739df9dcd405da24638fd46d2a4271b28
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 13 19:47:12 2013 -0500

    Upgrade the comments in raid.py to be compatible with sphinx.
    
    Because doing documentation reminded me that RAID was an initialism
    changed some exception messages to use RAID instead of raid and changed
    some tests to match.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 391dc86b1290172bcc1bd3d02aec07e6869f3a60
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Dec 11 12:07:39 2013 +0100

    Make space for LUKS metadata if creating encrypted device (#1038847)
    
    LUKS needs 2 MB of space for its metadata, so we should bump up the size of
    newly created encrypted devices.
    
    Signed-off-by: Vratislav Podzimek <vpodzime@redhat.com>

commit d8d37c52c0e5a8f525ecf6869175d7459926d3b0
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Fri Dec 13 10:55:38 2013 +0100

    fcoe: give error message in case of fail when adding device (#903122)
    
    Related: rhbz#903122

commit a848933d6555b3512cadd511b6a1ec6c729e7b3c
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Wed Dec 11 10:47:31 2013 +0100

    fcoe: adapt bnx2fc detection to changed sysfs path structure (#903122)
    
    Port from rhel6-branch
    
    Related: rhbz#903122
    
    Slightly modified patch by Eddie Wai.

commit 04f8bc750fba882b3f5df72f802a93d1e1235d7c
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Jul 22 15:47:47 2013 +0200

    Update format of iscsi device becoming multipath member (#1039086)
    
    Resolves: rhbz#1039086
    
    We repopulate device tree after add iscsi device dialog in which a login to
    some target happened. One issue with this is that format of iscsi device
    populated earlier that would make a multipath member together with iscsi device
    added in later run of iscsi dialog is not updated to be of multipath_member
    type.
    
    So we'd need either 1) require adding of all multipath members in one add iscsi
    dialog instance, which would require reworking UI to allow adding nodes of more
    targets (ie targets with different IP reachable via different subnets) in one
    iscsi dialog; or 2) update the original iscsi device format in devicetree.

commit 8937effec7a3731fe022d7428e0d6a307478ca7a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Dec 17 17:14:16 2013 -0800

    New version: 0.33

commit 49523b221ed70ec9cd676dfb307b9bee9c9eb60c
Author: d.marlin <dmarlin@redhat.com>
Date:   Thu Dec 12 19:36:58 2013 -0600

    Add initial 64-bit ARM (aarch64) support (#1034435)
    
    Signed-off-by: Brian C. Lane <bcl@redhat.com>
    
    Resolves: rhbz#1034435

commit ea4dcaa16cc26d65e9e8e94677d155ff1116b85e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 17 17:56:04 2013 -0500

    Convert to sphinx docstrings.

commit 28cb7ec94a224240cc7f24fdbd3c8d7779e29b1b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 18 18:50:49 2013 -0500

    Add some documentation.
    
    For now, things are not set up to auto-generate the docs at build time.

commit e8dd58a5d3f670c83878ecb41d5865c23b4b409e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 17 15:58:05 2013 -0500

    Move getActiveMounts from Blivet into DeviceTree.
    
    Blivet is mainly for convenience methods and things specific to
    OS installation. This functionality is fairly central to what the
    DeviceTree does -- especially when not doing an OS installation.

commit 2b01c4145dbd934a8abe2d3cb07e1f5e40d87e24
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Sep 26 19:32:01 2013 -0500

    Add an example of creating lvs using growable requests.

commit 12313cf2a650798e63d357f8a70d5891806a6088
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Sep 17 15:44:16 2013 -0500

    Remove a whole bunch of unused stuff from Blivet.

commit fade52af248633b295c90caeb184d687585c7ccd
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 13 09:23:39 2013 -0600

    Remove usage of float in Size.humanReadable.

commit b79dd6f3e7e2663f62bc4fc3b844fc7dc9759dd3
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Dec 13 09:22:48 2013 -0600

    Add missing abbreviations for binary size units.

commit c1c47d8c2c7b2e61049ae67aa0bc11f1b09b265f
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Dec 5 15:47:15 2013 -0600

    Fix shouldClear for devices with protected descendants. (#902417)

commit 0135057ad5e9a1668851f9f9a1ecf36555d19061
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 12 13:02:22 2013 -0500

    Use // division so that it continues to be floor division in Python 3.
    
    Also added some tests and some comments to the affected methods.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5167eb8c7f01e11079dc7407812e4bc795d1c974
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Dec 12 16:00:15 2013 -0800

    New version: 0.32

commit b33960b1fa0ea910c5a1e36fb7038a99d6b283d4
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 10 13:10:37 2013 -0500

    Work on devicelibs.btrfs methods that require that the device be mounted.
    
    Make a small subclass that handles mounting the device before tests
    and unmounting after tests. I pondered making this a more general class
    that can be shared among the different filesystem tests, but there are
    some things about mounting the filesystem that are somewhat btrfs specific.
    
    Otherwise just tests and comments.
    
    subvolume list is pretty configurable and its output can change somewhat
    depending on the version installed. The tests that use it are written
    to be robust to small changes, but could probably be strengthened a bit
    as btrfs settles down.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f1a29e9302249d633e9f87c49d5bffebad1ac58c
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 9 18:12:50 2013 -0500

    Remove some methods from devicelibs.btrfs.
    
    * scan_devices method.
    It is unused in the codebase.
    A sentence on the wiki (https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices) says:
    btrfs device scan is used to scan all of the block devices under /dev and probe for Btrfs volumes. This is required after loading the btrfs module if you're running with more than one device in a filesystem.
    * take_snapshot
    Totally unused and doesn't do anything.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b3fa21cd5566e92219cd29c4c2ddbec14dccf22d
Author: mulhern <amulhern@redhat.com>
Date:   Fri Dec 6 11:22:04 2013 -0500

    Add a comment to btrfs.create_volume.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a82179ea97e347da8a707f0411c4878dcd269092
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 9 17:59:55 2013 -0500

    Add a file to run btrfs tests.
    
    Also, add two btrfs functions which get information about the filesystem.
    These are mostly for checking tests results, but may come in useful.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 9b48369cb25d8090ab24db98dd608738e8be57f1
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 9 15:35:59 2013 -0500

    Remove format.luks.LUKS.removeKeyFromFile.
    
    This method is removed as it will certainly fail if invoked because
    the crypto method it invokes does not have the named parameter del_key_file.
    
    It is not used in the code bases.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dd0925d7b23a3ea7760c5c8d9951fcfd2393dba9
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 9 12:10:34 2013 -0500

    Changes to devicelibs.mdraid.mdactivate.
    
    * Remove super-minor parameter. The reason for this
    is that calling code does not use the super_minor parameter but only the uuid
    parameter, the super_minor parameter is not used in the arguments that are
    passed, to the actual mdadm call, and the mdadm docs tells us that "super-minor
    is only relevant for v0.90  metadata,  and  should not normally be used.
    Using --uuid is much safer."
    * First change makes a few changes in the function body.
    * Some comments were added.
    * Some tests which make use of super_minor parameter were removed.
    * Some other tests were altered.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit dca1a7757572ae33152d7e2e35752f1e3fb9f6ac
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 12 11:25:36 2013 -0500

    Restore an import removed in a previous commit.
    
    There was an accidental remove in commit
    9dccccd2fd3e5a49c334e70e9cc6e1e802ac5e52. At this point
    all imports removed in that commit have been restored.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit df4156374d7a93dbcd8e8b328008f5742369c1dc
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Dec 10 12:17:34 2013 -0800

    Add a PE for LUKS metadata (#1038969)

commit 3dae360e4841893f368b8ba67102c4e58c619396
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 17:41:45 2013 -0500

    Adjust currentSize methods slightly.
    
    Add some comments that I believe are correct to StorageDevice.currentSize.
    
    Leave BTRFSDevice.currentSize alone at this time.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f61255986607ebf57fcb5b139c4b1d647a7a73b7
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 15:07:55 2013 -0500

    Put additional constraints on the ActionResizeDevice initializer.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5ba682f565e799098d57ff77ac751eb6ed311d9f
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 14:38:49 2013 -0500

    Remove redundant checks in existing resize() methods.
    
    It is expected that the resize methods will only be called via the
    ActionResizeDevice.execute method. Since this is the case, the removed
    checks are redundant.
    
    If it is possible to call the resize methods not through
    ActionResizeDevice.execute then the checks that were removed
    are not nearly sufficient.
    
    Some comments have been updated, too.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit f3eafd12d72f8857de79c83ba54e96471215af39
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 14:50:31 2013 -0500

    Add some baseline unit tests for BTRFS devices.

commit 614be17b5bbb010f89fb6142d2bb79635fac2907
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 4 09:14:18 2013 -0500

    Robustify use of defaultSubVolumeID field.
    
    * Set it to None in the constructor to avoid an attribute error
    if defaultSubVolume is called before _getDefaultSubVolumeID is called.
    * Give it an underscore, to emphasize that it is private.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 11edf1880dfe6e576ecd04c513fbfbb27de09022
Author: mulhern <amulhern@redhat.com>
Date:   Wed Dec 4 10:40:43 2013 -0500

    Check that a BTRFS subvolume has exactly one parent in constructor.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 5154904dee63c0906c6148ef4e03ec890ea07145
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 14:45:31 2013 -0500

    BTRFSSubVolume.volume checks the class of its return value.
    
    If it is not an instance of BTRFSVolume a DeviceError is raised.
    
    It must be a BTRFSVolume because that is how btrfs works and also because
    otherwise the constructor will raise an AttributeError when calling
    _addSubVolume on an object other than a BTRFSVolume.
    
    This change causes the constructor to fail a bit more informatively and a bit
    earlier than it otherwise would.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 68c6264944a141d0b3459fea044e9a64f1c86f39
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 13:35:07 2013 -0500

    Raise ValueError in BTRFS constructor if no parents specified.
    
    Previously the constructed raised an IndexError when calling the super
    class constructor and trying to access its first parent to discover its
    own path. Raising the exception earlier makes the constructor's
    requirements more clear.
    
    Note that the exception is raised if the "parents" keyword argument does not
    exists. Checking that the parents field has been set to an acceptable value
    by the superconstructor leaves it too late, the IndexError will have already
    occurrred by then.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1c9d7bde13477c2b2032328c39c438bf5509516e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 13:17:49 2013 -0500

    Add tests for a couple of additional properties for MDRaidArrayDevice.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 46f75fd3ad76cbfa9da14d26e16757a57d18dc5e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 12:44:38 2013 -0500

    Factor state testing behavior into a separate class.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit d3635b33d7a9cf455fc1f0ef0135a8e7efca019d
Author: mulhern <amulhern@redhat.com>
Date:   Tue Dec 3 11:51:53 2013 -0500

    Remove redundant condition in if statement.
    
    After the if statement is done executing, size is always equal to
    self.targetSize if the first two conditions are True.
    The difference is that size is assigned even in the case where the
    assignment does not change the value.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3db167b0cbe0dced70aa6ddefbe9de23b1b914b4
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Dec 5 14:26:31 2013 -0800

    New version: 0.31

commit 5974ac0985df8a9457c9aa4c82565bb0236ebcd4
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 08:34:00 2013 -0500

    Make RAIDLevel an abstract class using abc.
    
    RAIDLevel was, already, an abstract class, but using abc makes this more
    obvious and harder to break.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c0b93f53303def5374aebddb4a07883e621cd64d
Author: mulhern <amulhern@redhat.com>
Date:   Thu Dec 5 09:13:24 2013 -0500

    Restore a util import that was removed in a recent commit.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4870a5cad314cd74630c7620787611c01820f966
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Dec 4 15:50:55 2013 -0800

    New version: 0.30

commit f24a16af484e96b3a7336cf3b7b208c03d96667d
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Nov 25 09:13:59 2013 -0600

    Always run action's cancel method as part of cancelAction.
    
    Related: rhbz#1027947

commit e8a328438cd8dd2655f2d3717e873a31743eff81
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Dec 3 16:58:55 2013 -0800

    Show Invalid Disk Label for damaged GPT (#1020974)
    
    A GPT labeled disk could have a damaged partition table, but still be
    useful. If that is the case we don't want to treat it like an empty
    disk. With these changes it will show up as 'Invalid Disk Label' which
    will be translated.
    
    This patch also checks for partitions in the lvm filter that depend on
    devices being operated on. If a device is in the action list it
    is removed from the lvm reject filter.

commit 5f1124b7f8cb8fd8ff11130108f0941fce51c2cb
Author: mulhern <amulhern@redhat.com>
Date:   Mon Dec 2 14:09:35 2013 -0500

    Make error message in setDefaultFSType more informative (#1019766)
    
    Related: rhbz#1019766
    
    This has been observed to raise a ValueError a couple of times. Want to
    make the error message more informative in case it happens again.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit a7a7517cc8f03ffdce9d896a8329c72e7b0f62ef
Author: Author: Jan Safranek <jsafrane@redhat.com>
Date:   Tue Nov 12 10:21:23 2013 -0500

    Set sysfsPath of LUKSDevice when adding to device tree (#1019638)
    
    Resolves: rhbz#1019638
    
    Previously, the LUKS device set up in handleUdevLUKSFormat did not have
    its sysfsPath field set, now it does, by calling the updateSysfsPath()
    method.
    
    The value of the sysfs_path can not be extracted from the arguments to
    handleUdevLUKSFormat, because the info argument is for the parent of this
    device, not for the device itself.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 2fef6b29e990dea6c6e39f049b745449b78685cb
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Nov 27 15:25:55 2013 +0100

    Use given format type as format's name instead of type
    
    Format's type is a strictly set value we define in our classes. Format's name is
    a description that can be presented to users instead of type. If we get type
    from the outside and cannot find a matching class in our formats, we should set
    the type as format's name and let the type unset because many pieces of code
    rely on the type being None in case we don't understand/support the format.
    
    Related: rhbz#1033778

commit 6509729be3cc5f7dead1d579596185d6cb3deb36
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Nov 27 16:42:59 2013 -0800

    New version: 0.29

commit b18524048b56f2317cccde2c40c5e2921ce3d8c8
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Nov 27 11:39:17 2013 -0800

    btrfs and xfs do not support fsck or dump at boot time (#862871)

commit f4ad889fb4f059528ebdb2c35b5b993fae899c9e
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 10:49:21 2013 -0500

    Removed raid level constants from mdraid.py.
    
    This requires a corresponding change in anaconda.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 3cef130a49055d219dc206f6b05cb5567fce834f
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 08:22:04 2013 -0500

    Remove raidLevel and get_raid_min_members for mdraid.py.
    
    Removed all tests as well.
    
    Since anaconda makes use of these functions, an accompanying anaconda patch
    must go in simultaneously with this patch.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4a7ddb74408c6fd828c7f0f55efda6d3fa079ad0
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 07:57:35 2013 -0500

    Remove raidLevelString in raid and mdraid.
    
    This procedure is no longer used. If the user needs a raidLevelString
    they should get the level object and use its name (or nick) field.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 6da1bab8211e52fd49168a89c75ec3af68acdd46
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 25 17:54:33 2013 -0500

    In devicefactory.py change mdraid procedures call to raid method calls.
    
    The larger changes are:
    
    *size_func_kwargs was removed entirely because the argument that it constructs
    is ignored by lvm.get_pv_space. lvm.get_pv_space was edited so that it
    no longer takes the parameters it ignores, and its calls were updated
    appropriately.
    
    * _get_device_space now constructs its value itself, rather than calling
    mdraid.get_member_space.
    
    * mdraid.get_member_space is removed since it is no longer used anywhere
    in blivet or downstream.
    
    Tests are updated as appropriate.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit e5144a501d092eba4ab6f48e60ed3c0c3709b590
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 10:30:45 2013 -0500

    Removed mdraid.raid_levels
    
    It is now entirely unused.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit b03b584f716f91956bbc564bff193ca575559700
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 25 15:10:19 2013 -0500

    Removed mdraid.get_raid_max_spares.
    
    This procedure does not seem to be used by any of our downstream users.
    The functionality is implemented in the raid package.
    
    Tests have been updated accordingly.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fd69fafef478254283071f65cba11cb1ca75d395
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 25 14:41:17 2013 -0500

    Change MDRaidArrayDevice to use raid package.
    
    The basic change is that the only call to a function in the mdraid
    package is the call to mdraid.getRaidLevel which sets the level field.
    
    After that, all calls are method calls on the level field, so the definitions
    of the methods are in the raid package.
    
    Most of the changes did not change the external behavior of the class.
    
    Significant changes are:
    * The definition of level was changed.
    * rawArraySize now does the same as size and just returns 0 if there
    are no member devices.
    * Instead of logging an error if the level is container, now rawArraySize
    throws an exception, because the definition of the method in the Container
    class throws an exception.
    
    Several tests had to be updated, mostly due to the change in the definition
    of the level property.

commit 9dccccd2fd3e5a49c334e70e9cc6e1e802ac5e52
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 19 12:06:17 2013 -0500

    Changed devicelibs.mdraid to make use of devicelibs.raid.
    
    Added a Container class to represent mdadmin's "container" level.
    Added a Container object to the RAIDLevels object.
    
    Extended raid.RAIDLevels so that it required that all RAIDLevels define
    min_members.
    
    Methods changed are:
    
    * raidLevel
    * raidLevelString
    * get_raid_min_members
    * get_raid_max_spares
    * get_member_space
    
    All the raid constants now depend on raid.
    
    Methods added are:
    
    * getRaidLevel
    
    * raidLevelString was modified so that it takes a flag to use nicknames
    instead of canonical names and so that it accepts any valid descriptor,
    not just a numeric one.
    
    Members removed are:
    
    * isRaid
    * raid_descriptors
    
    Conflicts:
            blivet/devicelibs/mdraid.py

commit 12523452ec7d406cab6760d73b3ba45a88ccf465
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 13 14:22:45 2013 -0500

    Implement a RAID class hierarchy.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 4596ee9b3201603d9cba4367b8ef91dabf7d1b8b
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 19 10:42:18 2013 -0500

    A few small tests for MDFactory class.
    
    These tests are added mostly to detect regressions during an anticipated
    refactoring.
    
    These tests are very much after the fact and capture the current
    behavior, not necessarily the intended or correct behavior.
    
    Therefore, it is fairly likely that if some change to the code causes
    a failure, it may be that the test itself, and the code previously, have
    been shown to be wrong.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 22fca7770adf326ba5592aa48e4c14fc5f21dd84
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 19 08:59:48 2013 -0500

    Add some additional unit tests in mdraid_tests.py.
    
    Also, do integer division instead of floating point division for RAID10
    disks.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 02dc89b977b5463784b813d4238dd3de9dce7d08
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 20 12:22:57 2013 -0500

    Make MDRaidArrayDevice initializer not except raid level of None.
    
    Previously, the initializer would succeed if level was None.
    Now, it throws an MDRaidError for None.
    
    Unittests have been updated as necessary.
    
    Code that allowed for the possibility of level being None has been
    removed.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit 1256be6ee0795ade15edcd75bfcdf5eee6cda9d5
Author: mulhern <amulhern@redhat.com>
Date:   Mon Nov 18 07:48:37 2013 -0500

    Add some basic unit tests for MDRaidArrayDevice.
    
    Add some basic tests to check the state of an MDRaidArrayDevice
    after initialization and to check the behavior of some methods.
    
    These tests are added mostly to detect regressions during an anticipated
    refactoring.
    
    These tests are very much after the fact and capture the current
    behavior, not necessarily the intended or correct behavior.
    
    Therefore, it is fairly likely that if some change to the code
    causes a failure, it may be that the test itself is what has
    been shown to be wrong.
    
    In some cases, the class was internally inconsistent, in these cases
    the inconsistency was resolved. In deciding how to resolve these
    inconsistencies more significant methods and simpler code was considered
    to have greater credibility than less significant methods or more
    complicated code. Errors having to do with None having no attribute
    or not being iterable were considered to be unintentional and given
    low credibility.
    
    The changes to the tested code are:
    
    * Check whether a smallestMember actually exists and set
    smallestMemberSize to 0 if one does not exist or if there are no devices.
    Still go through the checks for level even if smallestMemberSize is 0
    in order to catch invalid raid level.
    
    * In rawArraySize for RAID10, divide by 2 instead of 2.0. I believe that
    if there are three disks available then we get only one disk's worth of data.
    Do the same in size.
    
    * A semantics preserving change to initializer.
    This change preserves the semantics of the if statement completely.
    The advantage is that self.level is no longer
    set to any arbitrary value which allows error checking in self.level
    setter itself.
    
    * Make level setter error checking.
    Previously, the level could be set to anything in the initializer.
    Now that this is not true, it is possible to check for invalid values in
    the level setter. Valid values are an integer RAID level, "container", or
    None.
    
    * smallestMember is altered in a semantically equivalent way, except that
    if not self.devices evaluates to True an exception will not be thrown.
    Previously, it would have been thrown if self.devices was not a list.
    It uses min instead of smallest, since we only need the minimum element
    in self.devices.
    
    * totalDevices is also semantically equivalent, but the len of self.parents
    is only calculated if needed.
    
    * description is extended so that it makes a somewhat sensible string if
    self.level is None.
    
    * In initializer,
    use memberDevices setter rather than assigning to _memberDevices
    directly in order to get the error checking in the setter.
    
    * formatArgs now returns its formatArgs value

commit 0ede2eeac1e89b0b5aee78fcc5edc9e7e7bff1a0
Author: mulhern <amulhern@redhat.com>
Date:   Tue Nov 26 10:47:06 2013 -0500

    Move pyanaconda import into blivet.enable_installer_mode.
    
    Most pyanaconda imports are allready set up this way. Now, so is
    the import of progress_report in deviceaction.py.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit fb9310c6e08c42698dfbb38b6219c453c6a08de5
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Nov 25 15:30:10 2013 -0600

    New version: 0.28

commit 0bee1665b6d1f92851453e6d871e1575dac3a5a7
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 20 15:36:22 2013 -0600

    Clear whole-disk formatting before initializing disks. (#1032380)

commit 78edfddb00602b25dc975bc329fbbee318f60a4d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 22 08:53:00 2013 -0600

    Simplify calculation of vol size when adding a btrfs subvol. (#1033356)
    
    The previous method of summing the subvolumes' req_size doesn't work
    when the initial layout is a product of autopart since the base sizes
    do not match the actual sizes due to growth.

commit 21a2e1500c36ff553568d38c9c25dfbfcb33b6df
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 19 13:49:44 2013 -0600

    Handle passing a btrfs volume as device to BTRFSFactory.
    
    Normally the volume is a container, but it is possible that it has
    a mountpoint associated with it, which means it could be passed as
    the device in that case.
    
    Related: rhbz#1016959

commit 4d3b65f187da55dee1358023efc15615b0d63c74
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 13 17:48:32 2013 -0600

    Add support for detecting btrfs default subvolume.

commit 7a9095de206b38a839e0b38a1dd3d33485253ae3
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Nov 13 14:09:02 2013 -0600

    Handle nested btrfs subvolumes correctly. (#1016959)
    
    Subvolumes are nested. That is to say that removing subvolume foo
    will also remove subvolumes foo/bar and foo/bar/baz.

commit de804e542e7d8831cc82e25c667b95c47596ba0f
Author: David Shea <dshea@redhat.com>
Date:   Thu Nov 21 15:33:02 2013 -0500

    Mark all format names as translatable

commit eb4acdf8bdde7904faa9036547b782e1a4b9b388
Author: David Shea <dshea@redhat.com>
Date:   Fri Nov 22 11:34:46 2013 -0500

    Add parameters for untranslated Size specs.
    
    Add en_spec parameters to Size.__init__ and Size.convertTo. spec=
    strings passed to these functions will be treated as strings in the
    current language, while the en_spec strings will always be treated as
    English.

commit 398b47c1da1f3c95cd266c7ee0be86255e0ec2b4
Author: David Shea <dshea@redhat.com>
Date:   Thu Nov 21 15:33:01 2013 -0500

    Fix usage of _ vs N_
    
    For strings initialized at the class or module level, mark them as
    translatable but don't translate until they are used. Translate strings
    that were marked for translation but not later translated.

commit bde4dcedd4f90e0504a812115e5d387f86381e7d
Author: David Shea <dshea@redhat.com>
Date:   Thu Nov 21 15:33:00 2013 -0500

    Added a i18n module for gettext functions.
    
    This keeps the gettext function definitions all in one place, and makes
    it easier for other software to import blivet.i18n to get
    blivet-specific translation functions.
    
    Removed unused translation functions.

commit 95c6e74a8c8b85bc808187afe13070d8266d02d1
Author: David Shea <dshea@redhat.com>
Date:   Thu Nov 21 15:32:59 2013 -0500

    Allow non-ASCII characters in the size spec

commit e6a66f39454f4be8c71a0a71979ac1d1bc714ea3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 19 11:01:30 2013 -0600

    New version: 0.27

commit b3042c63e93fe84fe3a22ff1666fe04216b3d270
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Oct 28 13:16:10 2013 -0500

    Specify btrfs volumes by UUID in /etc/fstab.

commit 944ed1ee7cfc93e641233dfc5486a2f95e655581
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 14 14:44:55 2013 -0600

    Catch any exception raised by findExistingInstallations. (#980267)

commit 3b125f996b515816f249b0e37f1e8b85fb6d8dbe
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Nov 14 14:43:37 2013 -0600

    Prevent md_node_from_name from raising OSError. (#980267)

commit aacc900d5182157ba79bef45aa087e59d019fb1f
Author: mulhern <amulhern@redhat.com>
Date:   Wed Nov 13 11:18:44 2013 -0500

    Tidy up tests in devicelibs_test directory.
    
    The main change is a refactoring that moves any test that does
    not currently require the setup and teardown methods in
    devicelibs_test.baseclass.DevicelibsTestCase into a separate class that
    just extends unittest.TestCase instead of extending DevicelibsTestCase.
    This way, these tests can be run w/out the root privileges that
    are required by DevicelibsTestCase.
    
    There are also some small import changes.
    
    Some tests that previously checked for a generic ValueError now check for
    MDRaidError.
    
    __init__.py files have been added to encourage unittest discovery to
    examine subdirectories.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit ca2e233b2409fe245253b3d1a1daefade0874794
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 12 09:15:49 2013 -0600

    Preparation for lv resize is a subset of that for lv destroy. (#1027682)

commit 8c457e1379589ba3bf9d67c8e23bf82ca174aff0
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 12 09:14:24 2013 -0600

    Make sure new values of targetSize are within bounds.

commit fb378f963ed6dcece47c22578efcac774fedada7
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Nov 12 09:11:56 2013 -0600

    Devices with non-existent formatting are resizable. (#1027714)
    
    Marking an existing device for reformat was causing it to no longer
    show as resizable. This combination of operations was not supported
    in anaconda's old user interface, but it seems useful.

commit 9212ee1234b5f48ea9a09590cdeb8f310939624d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 8 09:45:49 2013 -0600

    Do not hide non-existent devices. (#1027846)
    
    We do not want to play the game of "saving" a planned layout for a
    subset of disks and then trying to reconcile that with the contents
    of the other visible disks when the user chooses to unhide one.

commit e1c9102db3253c90995b625cebca1c1d9897dfc8
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Nov 11 10:18:34 2013 -0800

    Change XFS maximum to 16EB (#1016035)
    
    Resolves: rhbz#1016035

commit c53cfec6bd3f3efce1e8bb4a123a06f448499a41
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Sep 25 15:28:40 2013 +0200

    Add tmpfs support (#918621)
    
    Add support for creating tmpfs mounts, mounting/unmounting
    them, checking free space on them and adding them to fstab.
    
    Tmpfs is a filesystem that lives in the Kernel page cache
    and stores data primarily in RAM and in swap once RAM runs out.
    
    Data stored on tmpfs mounts will not survive a system
    reboot/crash/shutdown.
    
    About tmpfs mount size:
    - if no size is specified, the size will be 50% by default
    - if size is specified, the mount will have this size
    -> there is no limit on the size on tmpfs mounts
    -> just note that once it fills RAM (and any swap),
    the system will grind to a halt
    - grow and maxsize are not supported
    - you can use use filesystem options to set size in percent:
    
    fsopts == "size=25%"
    
    This will make the tmpfs mount take up
    to 25% percent of system RAM.
    
    What operations are supported:
    -> adding tmpfs mounts to fstab
    -> mounting and unmounting tmpfs mounts
    -> checking free space on mounted tmpfs mounts
    -> resizing mounted tmpfs mounts
    
    Resolves: rhbz#472127

commit 35f37673f2f2c8120b6324b5bd62e027b8d2519f
Author: Martin Kolman <mkolman@redhat.com>
Date:   Wed Oct 9 14:50:38 2013 +0200

    Add support for returning machine word length
    
    Add support for returning machine word length to
    the arch module.
    
    This is needed as some filesystems, such as tmpfs,
    have maximum filesystem size that depends on the
    machine word size.
    
    Related: rhbz#918621

commit e417b513c4fc8e369635fe6a602f150135a748fb
Author: mulhern <amulhern@redhat.com>
Date:   Thu Nov 7 17:05:18 2013 -0500

    Require cryptsetup instead of cryptsetup-luks (#969597)
    
    Resolves: fed#969597
    
    cryptsetup-luks was an independent package but now is provided by the
    cryptsetup package; therefore it is the cryptsetup package that should
    be required in the spec file and elsewhere.
    
    Signed-off-by: mulhern <amulhern@redhat.com>

commit c1b77a2261a478f7a0eab4cbf29bec5506e3460c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 1 10:47:14 2013 -0500

    Fix initialization of disks containing sun or mac disklabels.

commit a3bff73119413fb1ea49febfc0d58bf318003ad8
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 29 13:00:49 2013 -0500

    Newly formatted devices are used unless mountpoint is empty. (#966078)
    
    The previous algorithm was only including filesystems with mountpoints
    and swap devices, ignoring new prepboot, biosboot, &c.

commit 6897f50181662d91d1b6c84e749afe3ec48d2310
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 1 10:42:14 2013 -0500

    Fix detection of lvm setups. (#1026466)
    
    Fixes two regressions introduced by
    commit 8ef070b7b6fe4f270cc0120e5425299abf90b8cd
    
    Because of how space is calculated, setting copies to 0 means the LV
    occupies no space in the VG, which is obviously not so.
    
    Also, the spare metadata LV's size is handled as part of the 20% pad
    in the VG for pool metadata. Counting it in both places causes more
    problems since we didn't take it into account when creating the pool.

commit 548055e53fe5ab50b45054c4000de8ec1a9f8c07
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Nov 1 10:39:05 2013 -0500

    Fix handling of overcommitted thin pools in thinp factory. (#1024144)

commit df756b7e2b68d55d308afb14ef8654591239fcd7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Oct 28 14:26:39 2013 -0500

    Fix name checking for new thin lvs. (#1024076)

commit 716f262b77c66b33e1cb35c73343f828b7eb3d1e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 30 17:17:00 2013 -0700

    New version: 0.26

commit d5f4d4285ac77a2bf871688f26fbfd86905106c2
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Oct 28 16:43:16 2013 -0700

    Add macefi format type (#1010495)
    
    macefi is a hfs+ formatted fs mounted at /boot/efi and labeled with
    'Linux HFS+ ESP'

commit 0e7c4e7928c834d6d0c40860c02f47191a6e7d6c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Oct 28 16:22:11 2013 -0700

    Allow hfs+ boot devices to have their name set (#1010495)

commit 5ce2f7fd66aa1e3e78056ae7d26f9e1dee68b77b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Oct 25 15:35:15 2013 -0500

    Update parted partitions on hidden disks when copying a Blivet. (#1023556)

commit 603d80232f9415b7052c15b391c699450a7c246a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 25 14:53:01 2013 -0700

    Add ack flag checking to makebumpver
    
    If the branch starts with rhel the script will check to make sure there
    is a flag named rhel-X.*.* set to + for each bug found. This can be
    skipped with -s or --skip-acks passed to makebumpver. Set SKIP_ACKS
    environmental variable to skip it during make bumpver

commit 9a5167fdbaf20b687020ef059d081da0cdd24b3b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 25 12:16:04 2013 -0700

    Add makebumpver script
    
    Add a modified version of the makebumpver script from anaconda, it
    handles bumping the version number, checking bug states, and adds
    Related and Resolves to the spec changelog.

commit 537b4c5fe46582c73cac75905988334d95aa66fd
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Oct 25 17:18:32 2013 -0700

    New version: 0.25

commit 089ac45422f0a8332782f6f0c20ce91cd9d78e9e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 23 14:35:09 2013 -0500

    Remove requirement for btrfsctl which no longer exists. (#1012504)
    
    We aren't supporting btrfs resize now anyway, so this only serves to
    make the supported property correctly return True for btrfs during
    OS installation.

commit 69867ea3a0a7bdfc9e1ecccfb7c846d16ccba667
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 23 11:12:55 2013 -0500

    Allow for adjustment of factory vg after removal of thin pool. (#1021890)

commit f9c024b13e915b7e24f64ada520d42e1f21a6034
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Thu Oct 24 09:39:10 2013 -0400

    Add boot description for "disk" devices on s390. (#867777, #903237, #960143)
    
    iSCSI and multipath devices should be treated as normal disks on s390x; this
    adds "disk" as a valid boot description to essentially expose iSCSI and mpath
    as devices we can opt to boot from.
    
    Resolves: rhbz#867777
    Resolves: rhbz#903237
    Resolves: rhbz#960143

commit 3f76716b7c840e805bc816cd2f00abde51fb8a1d
Author: Dennis Gilmore <dennis@ausil.us>
Date:   Mon Oct 21 17:07:15 2013 -0500

    Add initial spport for aarch64 as we only plan to support UEFI this should be enough
    
    Signed-off-by: Dennis Gilmore <dennis@ausil.us>

commit ef3feb95310abbaeba9560df5254c4a4ba54f02f
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Oct 16 17:03:06 2013 -0500

    New version: 0.24

commit dc64a4d3c74fd90f6196bcdb7e816ca3ab025b6e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 8 10:27:49 2013 -0500

    Close file descriptors other than stdin,stdout,stderr on exec. (#1016467)

commit 1fd4683b26383172d61d7920db892fa899ff3bd6
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 8 10:26:13 2013 -0500

    Don't use hardcoded /tmp paths. (#1004404)

commit 8ef070b7b6fe4f270cc0120e5425299abf90b8cd
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Oct 7 12:00:51 2013 -0500

    Fix detection of lvm thinp setups. (#1013800)
    
    Instead of trying to figure out how to sort the lvs by attr (probably not
    possible) just allow for adding building-block volumes on demand.

commit 3d31ebebffed1007b4ca905fb4b9f74bea00b4c5
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Oct 1 15:32:18 2013 -0500

    Generate a name if necessary when reconfiguring a factory device. (#1019500)

commit 0cff29f7432816fd8c8ca100b5b726f91a2f98d5
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Sep 18 09:29:24 2013 -0500

    Handle anaconda's cmdline option to disable mpath friendly names. (#977815)

commit 2e87835166c41b041ef6fd601c212330579a1a41
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Oct 3 16:04:26 2013 +0200

    Allow specifying which swaps should appear in fstab
    
    Not all swaps should be used by the system in some cases.
    
    Related: rhbz#1011391

commit 801960a26dd7921f0bf974fa921b617f2ec623d8
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Wed Oct 9 14:28:25 2013 +0200

    Do not limit swap size to 10 % of disk space for hibernation
    
    If --hibernation is used there should be enough space on the disks to create
    large enough swap for hibernation.
    
    Related: rhbz#1016673

commit bbb091da04d2a5ba2efbc377413409cc53113be7
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 9 16:48:10 2013 -0700

    New version: 0.23

commit ecd49a6803aa9652fa3a2735df20a64877bbca9e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Oct 3 12:02:41 2013 -0700

    Make sure bootloader is setup after autopart (#1015277)
    
    Autopart, or user changes may change what disks are suitable for a
    bootloader (eg. changing a raw formatted disk to a partitioned disk).
    Make sure that bootDisk is setup after all the other changes have been
    done.
    
    Related: rhbz#1015277

commit 3cbf76f396cc811624989f31230f0cee25dfd79e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Oct 2 14:50:31 2013 -0700

    Let setUpBootLoader raise BootloaderError (#1015277)
    
    This allows callers to deal with bootloader errors.
    
    Related: rhbz#1015277

commit 637a0ae31b9f376c41d2c1e96dacf41220dccb8c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Oct 8 15:38:05 2013 +0200

    Limit the maximum swap size to 10 % of disk space (if given)
    
    On e.g. virtual machines with smalls disks and high amount of
    memory it doesn't make sense to create large swap space leaving
    only a little for the system and user data.
    
    Related: rhbz#1016673

commit 25be7b9ca3189e1609c609c95b62fffacbdf2f30
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Tue Sep 24 14:19:26 2013 -0500

    support ppc64le architecture
    
    Support PowerPC little endian architecture.

commit 646928edf5a3b7b87aac94bddb79b1e5bbd0f32e
Author: David Shea <dshea@redhat.com>
Date:   Tue Sep 24 08:37:22 2013 -0400

    Don't call handleUdevDeviceFormat without udev device (#1009809)

commit 077a49e5e6136b6cd22c7840194b640adbc52c47
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 6 14:07:59 2013 -0500

    New version: 0.22

commit c3b66ad9a33a03584bedc2a59c25f0b543bc8955
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 22 17:11:08 2013 -0500

    Allow implicit inclusion of multipath/fwraid by including all members.
    
    Resolves: rhbz#984826

commit b02453d07cfed13fce550a7458f2f6a42ae79b2f
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 6 12:51:20 2013 -0500

    If a device has been removed, omit it from the copied root. (#1004572)

commit 5f7ea1e4b16183641a876d7f0bb6a6c9ab98ba1d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 6 12:50:43 2013 -0500

    Thinp metadata and chunk size default to 0 -- not None. (#1004718)

commit 662239fc324661a48bb8105643b6b6eed0f4efc5
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Sep 6 12:49:47 2013 -0500

    Revert "Do not try to align partitions to optimal_io_size. (#989333)"
    
    This patch is wrong. The drive in the associated bug is reporting
    bogus numbers.
    
    This reverts commit d505b411c54d3d11bb744ccc2ddfd400546e43b1.

commit 33ba4243e9578e471c8cfc913ac9854c510cf306
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Sep 5 17:20:50 2013 -0700

    New version: 0.21

commit 03dc526141b9958be2ac7f083975ca7549a69bec
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 28 11:29:03 2013 -0500

    Only force luks map names to include UUID during OS installation. (#996457)

commit c28f8313ea8107966457b4a104f5e665d03fde92
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 28 11:25:47 2013 -0500

    Allow DiskLabelCommitError to reach the caller. (#1001586)

commit d505b411c54d3d11bb744ccc2ddfd400546e43b1
Author: Gustavo Luiz Duarte <gustavold@linux.vnet.ibm.com>
Date:   Fri Aug 16 18:46:20 2013 -0300

    Do not try to align partitions to optimal_io_size. (#989333)
    
    Use minimum_io_size instead.
    
    optimal_io_size corresponds to the OPTIMAL TRANSFER LENGTH field in the scsi
    spec. It is an upper limit for optimal transfer length and it may be too big to
    try to align to it. Use minimum_io_size instead, which corresponds to the
    OPTIMAL TRANSFER LENGTH GRANULARITY field in the scsi spec. It is the minimum
    size for optimal transfer speed.
    
    Signed-off-by: David Lehman <dlehman@redhat.com>

commit 83805b87d10e873e703418c02148dbcc345e5f05
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Aug 23 17:34:42 2013 -0700

    Fix rpmlog make target

commit fa346d471e87726c9ca7989ec85b061f291e6a73
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Aug 23 17:33:54 2013 -0700

    Add missing changelog lines to spec

commit 01e88cd16321d34a2aa74b62c4d1cdc3a88613ff
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Aug 23 17:11:51 2013 -0700

    New version: 0.20

commit 976902149bcfa31627335a2bf3f4004dbfe9923a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Aug 14 15:54:01 2013 -0500

    Fix typo in examples/list_devices.py

commit 235e04e017a3b4ed0fa3d76f94ddf311a219eb0b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 8 14:06:46 2013 -0500

    Use iscsi-iname instead of trying to reimplemnt it in python.
    
    Resolves: rhbz#966903

commit 728c141706a8310585942f9ef95adb3b25bc3c1e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 8 12:25:50 2013 -0500

    Catch exceptions raised while finding old installations. (#981991)

commit 0c20316d055df3ed1fb593043dc7f2da7ae2d7c1
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 8 11:25:50 2013 -0500

    Keep the dasd list in sync with the devicetree's device list. (#965694)

commit 3a1060ed5116a80e5c702dc59216359259581d75
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Aug 13 10:49:31 2013 -0500

    Don't save luks keys unless installer_mode flag is set. (#996118)

commit 3edfda89f440e2642aedd3ffacfa0b534c9bab7c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Thu Aug 1 13:16:32 2013 +0200

    Pass mount options to resolveDevice in _parseOneLine (#950206)
    
    This is needed for correct handling of BTRFS subvolumes.

commit 0aeea915736936e72dc75b433467a3fc2b6e1e4f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Aug 5 12:13:59 2013 -0500

    Fix handling of devices in detected installations in Blivet.copy.

commit 0947d07e17817ef068ba9b5ca1d33bdcf7192504
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Aug 5 12:12:02 2013 -0500

    Clean up detection of lvm raid.
    
    Related: rhbz#873281

commit f41a26472474e13a3fd603b54775af40794353f6
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Aug 5 12:05:48 2013 -0500

    Tag the first build of each version without the release.
    
    Also sign the tags we create.
    
    So blivet-0.20-1 will get tagged as both blivet-0.20 and blivet-0.20-1,
    while blivet-0.20-2 will only get tagged as blivet-0.20-2. This will
    give us a direct association between tag and tarball name.

commit 1fe5e121019f5975bd68011af507d94e1f37eb1b
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Aug 1 16:31:13 2013 -0500

    Remove dangling code block from commit 737169b75af1.

commit eeb35216ec514dd408b644d909d15250cc8fc8c5
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Jul 31 17:26:18 2013 -0700

    New version: 0.19

commit 737169b75af157e9256186aeb7dc93903ddbb977
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 30 11:13:57 2013 -0500

    Don't waste time looking for devices dependent on leaf devices.
    
    Also remove hack to include logical partitions as deps of extended
    partitions from before they had a proper dependsOn relation.
    
    Related: rhbz#890171

commit 4f1e1874f3ed9af8922aa26eb20230dbee5e6d73
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 24 18:24:07 2013 -0500

    Add some example code for creation of disk partitions.

commit fcdf871ded352b3e2f6927230c4c02301d932e13
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 23 15:11:54 2013 -0500

    Don't manipulate partition boot flags except in installer mode.

commit e3f39aca6d5210b005abbea5d1a05965e75aafd1
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 22 15:59:09 2013 -0500

    Add an example of DeviceFactory usage.
    
    Also add examples/common.py which contains convenience functions for
    use in examples.

commit db5115bbbc095038ba5de11f7d8f184e1b45243c
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 23 12:36:13 2013 +0200

    Cosmetic changes for the arch module

commit 53a11712a7a867d37c392029baeb4784559e7a74
Author: Vratislav Podzimek <vpodzime@redhat.com>
Date:   Tue Jul 23 11:47:39 2013 +0200

    No more sparc support
    
    This fixes a traceback introduced with changes to the blivet/arch.py module
    without modifying blivet/platform.py.

commit 33f8ab31962ac31e8a6f3bb9e2cc00d8a79415f3
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Fri Jul 19 12:16:23 2013 -0500

    Cleanup arch.py reredux
    
    Clean up arch.py to have a common style, consistent indentation, removed the obvious
    C to Python rewrite, removed the globals and function short circuiting, and import
    the logger.

commit 13e33194aae0c61518a71cd39b7d06f79959669d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 17:31:52 2013 -0500

    Allow explicit requests for extended partitions. (#891861)
    
    As of now this only works if you process the actions immediately after
    allocating the empty extended.

commit 743c31d59d35b03ba7fe7022410f98e3aba3646f
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 17:30:35 2013 -0500

    Fix disklabel handling for multiple calls to processActions.

commit 0a3f73d7c9f657c028c5c561515d3e0d4636e724
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 12:56:59 2013 -0500

    Add support for explicit start/end sectors in partition requests. (#881025)

commit 9e24cea4891ca22d644de8e1f6983997f7d00875
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 09:52:11 2013 -0500

    Store current mount options in getActiveMounts. (#914898)

commit 47288306a681d5029fc6faed804c75813e312dd0
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 10 17:03:08 2013 -0500

    Lack of formatting does not preclude device resize.

commit 2ba1d2bbbf163e846cf67b33810567cd94297cc2
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 5 16:48:45 2013 -0500

    Handle negative sizes correctly.

commit 27e2b06be98b790cb599cd334978a59ffdc3431c
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 09:45:09 2013 -0500

    Fix handling of clearpart type linux in shouldClear.

commit 49c86eff59c719102a9d7f34b9e87c5b39127d05
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jul 11 18:32:35 2013 -0500

    Add some tests for clearpart and related functionality.

commit 01c6949ee336e3bb3861a9e94280f5ec1dcc62b4
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 10 17:09:46 2013 -0500

    Update unit tests and add a make target to run them.

commit d617113dc3ecc56aaf755e94b716666a9879b4c2
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jul 8 17:12:03 2013 -0500

    Don't pass dracut args for lvm thin pools.

commit 08774dfc4f6c62ad3d6a182ec9a0d886f3a939e1
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jul 10 17:10:10 2013 -0500

    Update the TODO list.

commit 0bd5ae68585b413d29d36f0e1d334bb31bd24d2b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jul 12 17:31:10 2013 -0500

    Fix a copy/paste error.

commit c4ad4476bb091b5a6854a5e18ef95955d1d503a0
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jul 9 10:23:11 2013 -0500

    Remove transifex-client BuildRequires.

commit a6b1626f636c411c75ea96f756ff782e43ec383a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jul 9 16:29:56 2013 -0700

    New version: 0.18

commit e139494ca8011f2ec717ba0ce401c709c176a4e7
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Tue Jul 9 13:01:38 2013 -0400

    Raise XFS max size limit to 100TB.

commit 0ee9ef28de515ac7677bc0ee6938b0907f2cb4a2
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:11:16 2013 -0500

    Add a device factory class for thinly-provisioned lvm.
    
    Two limitations are imposed by this factory class. First, only one pool
    will be managed per volume group. Second, overcommit is not supported at
    all.

commit cb69681d516187df00ff92ac7c8ee7b6021ae3fb
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:10:44 2013 -0500

    Add support for automatic partitioning using lvm thin provisioning.
    
    The layout starts out the same as the normal lvm autopart layout up to
    the vg configuration. A normal swap lv is created the same way as in
    normal lvm autopart, and the remainder of the vg is allocated to a
    thin pool. From that, we allocate thin lvs for root and possibly home
    using the same logic as for normal lvm. So, same as normal lvm autopart
    except that root and home are thin lvs.

commit 2eb2dd371fe688aa9d3102c931d76f2cad12490b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:10:04 2013 -0500

    Add convenience methods related to lvm thin provisioning.

commit 7b76a40be3e27208476d9c7e370ea6d830f3545b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 7 13:16:15 2013 -0500

    Add support for detection of lvm thinp setups.

commit 3d49c5d18d1779ad6f0760e0c6b8d12321ac5952
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:09:23 2013 -0500

    Add classes for lvm thin pool and thin volume.
    
    This is another layer of lvm that provides thinly-provisioned volumes.
    A thin pool is a special kind of lv that is a container for thinly-
    provisioned lvs. The sizes of the thin lvs are not constrained by the
    size of the pool that contains them except at the point where they
    actually contain/use that much data/space.

commit 91eaee3a114b13555fa533ded0f32a579fbe50f7
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:08:58 2013 -0500

    Add backend support for lvm thinp operations.

commit f1eb90c55bed727e8230f0849b9ee0e3e6217c1a
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 20 13:01:41 2013 -0500

    Fix return value of get_pv_space for size of 0.

commit 378e4b448388b1f0fbe9ad4986784476810889b3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 25 14:55:40 2013 -0500

    Fix ksdata for lvm created in custom spoke based on autopart.

commit 725a5ef5ff3024227b83ee0cf6fcd2b7923dbc6c
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jun 19 08:28:13 2013 -0500

    Only put max size in ksdata if partition is growable.

commit 06e64a2da5b5f9099a5f5965ce0354a8a4916b63
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 18 18:36:52 2013 -0500

    Allow subclasses to inherit ksdata classes.

commit cd51fe0354e6dc62c341cc1bf3ad595a0df23488
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 24 14:23:52 2013 -0700

    New version: 0.17

commit b5266e1dfeaaf43bf7f95577f744f4a0e0c644c3
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Fri Jun 21 22:36:28 2013 -0500

    Used Python type instead of variable name (#968122)
    
    It seems there are a number of issues with blivet/arch.py:
    
    1) A variable is called type in some places and _type in others. This is inconsistent and also overrides a builtin Python keyword.
    2) Some places call find to search for a substring and others call "in."
    3) Some places use two spaces for indentation instead of the standard four.
    
    However, since we are in shutdown mode for Fedora 19, I propose that arch.py be rewritten for Fedora 20, and we only fix the bug
    (I am adding extra comments because it is not obvious that this is a substring search.

commit f6af515489ab0369eb6d25ae77a8385a4899b591
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 11 18:08:50 2013 -0500

    Fix detection of valid EFI system partition during autopart.
    
    Part of the validation checks that it has the /boot/efi mountpoint,
    but we can never know if the partition is suitable for this mountpoint
    unless we can validate it without checking the mountpoint. Exhausting.

commit 655539333dbc66b8447ed6c0bb5f99f0c6c60416
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jun 13 17:04:19 2013 -0700

    New version: 0.16

commit 9b321f2ca8e915ad0af3b3294a3125235f92f256
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 30 14:12:38 2013 -0500

    Install utilities for all devices -- not just those being used. (#964586)
    
    Related: rhbz#910506

commit 5dbf6eb71e96345f0fadfcd1a99ec39bd655b12e
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jun 7 14:11:25 2013 -0500

    Add a method to apply Blivet settings to ksdata.
    
    Related: rhbz#929119

commit 65c3f57a784a4bc8820821741c31895bb3e2c2ea
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 24 10:01:57 2013 -0500

    Increase padding for md metadata in lvm factory. (#966795)
    
    I hoped one extent per disk was enough. It seemed to be, but I didn't
    try it with raid5. I'm increasing that padding to 500% because I don't
    have time for these games.

commit 2438280b89c279586705fef9ae5c3b018c1299b3
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 16 13:37:03 2013 -0500

    Move lvm-on-md into LVMFactory.
    
    Having it as a separate class was unnecessary and complicated the
    matter of creating a factory class for lvm thin provisioning.

commit 5c56b548addbfa6ad5e957ffa63ded76b95fcf80
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jun 6 14:37:10 2013 -0500

    Switch to a minimum of four members for raid10. (#888879)

commit 3f57980eba9eed941d50637dda57fdea493ac386
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jun 4 10:58:24 2013 -0500

    Update the TODO list.

commit b4caa583debfc59c27f6c370559f66bca5e1ddd8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 29 13:40:22 2013 -0500

    Deactivate devices before hiding those on ignored disks. (#965213)

commit 8d451e7e85815fcedabbf64a93e39587b05653f4
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Tue Jun 11 13:09:24 2013 -0500

    Allow udev queue to settle after writing zeros to disk. (#969182)
    
    If a udev device is created with the watch option, then a change uevent
    is synthesized and we need to wait for things to settle.

commit f85814a467e756b56cd4cfc1040ba3400c763080
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jun 11 16:32:53 2013 -0700

    Run lsof when umount fails
    
    We are seeing some intermittent reports of umount failing. When this
    happens try to get an idea of what is keeping it busy. Output will be
    logged to program.log

commit 0c18c8b7f940873e96058f0bf97f616201f2df55
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Jun 11 16:32:35 2013 -0700

    Run udev settle before umount

commit 176a09a0e8bd08cfb17cec23158245727454b4cf
Author: Brian C. Lane <bcl@redhat.com>
Date:   Mon Jun 3 16:37:06 2013 -0700

    New version: 0.15

commit 70cbbff3806fc1755d9877154e327869868f30f8
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 29 14:49:11 2013 -0500

    Switch to the LGPLv2+.

commit 7f3fc5ffcd5bb29d6c74881069217a2e47015d53
Author: David Lehman <dlehman@redhat.com>
Date:   Tue May 28 13:33:49 2013 -0500

    Clear md arrays' sysfs path after deactivating them. (#954062)
    
    Without an mdadm.conf to refer to, mdadm makes no effort to associate
    minors with specific arrays.

commit f56d06d5b11e9d71ae51f6e0c626d38755303340
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 24 15:26:10 2013 -0500

    Factories with existing containers use the container's disk set.

commit 14614f6c22acf6eb0239ad79aae4d04b3ac4e6a9
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 24 15:25:33 2013 -0500

    Don't set up a child factory if the container is set and exists.

commit a1ac9470d72a4cc3c40fa1a8620a48e1dcb3b6fc
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:12:11 2013 -0500

    Set a non-zero size for new btrfs subvols in an existing volume.
    
    A size of zero means you're adjusting a container after removing a device
    from it, and short-circuits the code that actually creates/modifies the
    subvol.

commit e3e6b40f3f30fd0216f93f0c537908b869845b32
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:07:18 2013 -0500

    Open as many luks devs as possible with any given passphrase. (#965754)

commit 2b5fca5e8b7bd9e5fb647fdb5a2ecaa9289b9449
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 22 13:06:25 2013 -0500

    Make sure container changes worked before applying device changes. (#965805)

commit 89d23305af35c9a3da0b6eef9be1fed4ba07c89e
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 23 10:52:46 2013 -0700

    Re-initialize platform in storageInitialize (#962104)
    
    The problem is that parts of blivet get initialized very early in
    anaconda, before flags are setup. For this specific bug the gpt flag
    wasn't getting passed on from anaconda. So we need to be able to reset
    the platform object after the anaconda flags have been setup.

commit 88921f04d65799519ddd67a5969525bcac32b726
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 21 15:49:38 2013 -0400

    Make a copy of devicetree._devices before using the append operator.
    
    Otherwise, any call to getDeviceBy* with hidden=True will get all the hidden
    disks included in both the hidden list and in the regular devices list.  This
    breaks an awful lot of stuff.

commit 9a830ef3771d29042f047d8fa7a365d5750a5f11
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 21 14:23:05 2013 -0400

    Handle incomplete devices becoming complete on device rescan.

commit aee36ec780bbdb2a5c80635b706bfd28c34af9d0
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 21 14:22:47 2013 -0400

    Don't allow a device to be on the hidden list more than once.

commit 8faf12cc94cb1489d181936de26879180b962fbd
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 15 13:55:45 2013 -0500

    New version: 0.14

commit 09b1cae186219e0ca18e042a3be9360fe8a10593
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed May 15 10:39:35 2013 -0700

    total_memory calculation needs to round up (#962231)
    
    This matches the logic used by Anaconda's isys total_memory function.

commit 116fd3d3abfaa4c73b0ff42de153ced6f1187f01
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed May 15 13:44:18 2013 -0400

    The dev.node attribute for iscsi devices is not copyable (#962865).
    
    libiscsi doesn't provide a way to copy this, so when we copy it, the new
    attribute ends up filled with garbage.

commit d9e0351fe1588ae9bb2579513de1e17a215512fa
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue May 14 16:27:06 2013 -0700

    Wipe partitions before they are created (#950145)
    
    If a partition is created in the same position as a previous filesystem,
    eg. a LVM pv, udev will activate it and cause the device to be busy,
    preventing us from using it.
    
    This uses the parted information from parted to calculate the start of
    the partition and calls dd to write zeros to the first 1MiB of the
    partition.
    
    This also rescans the pv to make sure things stay in sync with the
    filesystem when creating and removing pvs.

commit 0e3de4edbb876e9f2ea51e5ae71e33499e05c388
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 14 16:51:43 2013 -0400

    Pass ROOT_PATH as an argument instead of importing it.
    
    Right now, it's being set before enable_installer_mode is called which means
    ROOT_PATH is still set to / when iscsi.write is called, which causes the
    contents of the installation media to be deleted.
    
    Related: rhbz#962865

commit 6325a9bfc10e811668e1672143475ac108767184
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue May 14 15:06:37 2013 -0400

    If no iscsi nodes are discovered, return an empty list instead of None.

commit b8d721675ac821ee315c7399f18f56c16b763a13
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 9 11:19:32 2013 -0700

    New version: 0.13

commit ab8c8c0293429848194dc06605fa08e9dea71ed7
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu May 9 10:19:52 2013 -0700

    Make sure createBitmap is updated when level changes (#960271)

commit 4864a0f21407c78b57faff8e2b4cf0ae99ea304f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed May 8 10:27:20 2013 -0700

    Update biosboot error message (#960691)

commit 90f8cf74af2795c8fa9a88ca70130d558a811490
Author: David Lehman <dlehman@redhat.com>
Date:   Fri May 3 14:53:09 2013 -0500

    New version: 0.12

commit 9a70bf44520a55cd2fa2e030748deadd8b9d3998
Author: David Lehman <dlehman@redhat.com>
Date:   Thu May 2 12:14:59 2013 -0500

    Fix a bug in renaming lvm lvs.
    
    We were adding in the vg name, eg: test-old -> test-test-new

commit 08805cec0e99603e7f64d5741a08adb9c034675a
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 1 18:37:02 2013 -0500

    Add container size policies for unlimited growth and fixed size.

commit 51808e3ce33c957fc39b3c3a3e55838697f86d07
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 1 18:35:49 2013 -0500

    Remove device factory methods to change container name.
    
    They are unused and dangerous given that the container is specified
    by name instead of by passing in a StorageDevice instance.

commit 906f2ac600ab31b17157db5f803e25d0a5bea464
Author: David Lehman <dlehman@redhat.com>
Date:   Wed May 1 18:34:02 2013 -0500

    Override any default subvol when mounting main btrfs volume. (#921757)

commit 86f0f65fb496405e693248a7ec1ec165496e6430
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 24 14:23:17 2013 -0500

    Fix detection of multipath. (#955664)
    
    - Get wwid from a valid source
    - Use addUdevDMDevice for multipath partitions
    - Trim 'p' delimiter when converting dm partition name to dm disk name

commit b93687d7ae05d5b05642e8a50baffb98228b6536
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed May 1 16:57:29 2013 -0400

    When a btrfs subvol's name is changed, change its subvol argument too.
    
    Related: rhbz#892363

commit 61e52c6eb68d94a7414842b948d8210eddb90ee1
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 24 13:54:41 2013 -0400

    Allow returning hidden disks from the getDeviceBy* methods, if asked.
    
    Related: rhbz#929299

commit f720c3015c3260670358ec1e19d974fc1f6e72f6
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Mon Apr 29 16:55:51 2013 +0200

    Fix fipvlan -f argument once more and for good (#836321)
    
    Port from rhel6-branch

commit b8432fcdbc1038f54f0f43a11eb3c0da53020331
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Mar 25 11:10:26 2013 -0400

    Remove the intf parameters from the iscsi class.

commit e81bbced788176075788e259826c1b8b55d7fbcd
Author: Jan Safranek <jsafrane@redhat.com>
Date:   Fri Apr 12 16:55:39 2013 +0200

    Don't relly on /proc/mdstat when enumeraing RAID levels.
    
    This patch simply removes parsing of /proc/mdstat. It is assumed that
    the running kernel will have the modules available.

commit f503e148a557b9e1e0ffe34e1c103d652eef31a6
Author: Jan Safranek <jsafrane@redhat.com>
Date:   Fri Apr 12 14:33:41 2013 +0200

    Set product names in non-installer mode.
    
    It's used by suggestContainerName and new{LV/VG/MDRAID} to create default
    names for MD RAIDs and volume groups etc. and having shortProductName=''
    makes the default volume group name '' too -> errors.
    
    In installer mode, these values are set by enable_installer_mode().
    
    Resolves: rhbz#922832

commit 2b22b4f33771614b3d33da220eda5598905800ec
Author: Jan Safranek <jsafrane@redhat.com>
Date:   Fri Apr 12 14:33:34 2013 +0200

    Fixed checking status of MD RAID which was just deleted.
    
    The state_file still exists, but returns 'Device or resource busy' upon
    reading.
    
    Resolves: rhbz#923788

commit 71aa2ae223d70dd6f6c90d65d08f05b3b94a60ff
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:43:33 2013 -0500

    Account for the fact that md's metadata usage is unpredictable.

commit a56b1ef804e6200a44ec6b5dbccb4600d66e61da
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:40:19 2013 -0500

    Remove members from their containers before destroying them.
    
    Otherwise you are trying to remove a non-leaf device.

commit 4673309bdb182f43862a140aa88d54b4c2900e14
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:38:35 2013 -0500

    Make get_container work even if there are duplicate names.

commit 3b3bdadfcfdb85de6dc90cc4af70871d48af8302
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:37:31 2013 -0500

    LVMFactory with a container_raid_level means use LVMOnMDFactory.

commit 5fe04b838eae6955778295aa6bb902c3fb99fb37
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:36:21 2013 -0500

    Add a check for enough raid members after allocating partitions.
    
    It is possible the user specified an adequate number of disks but some
    of those disks were unusable because of a lack of free space.

commit 4a7a6864298f92d0276e63cbeef243a87fbb4d5e
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:34:37 2013 -0500

    Make parent_factory an attribute of the DeviceFactory instance.
    
    This allows us to access it from anywhere and also to stop passing
    it around explicitly.

commit a241374ee2a3b33f1c42c501e688184402addcae
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:28:29 2013 -0500

    All container settings use container_ kwargs.
    
    This goes along with the changes to anaconda's custom spoke to expand
    its container management and improve separation between device-level
    settings and container-level settings.

commit c4c66bb891c8855082970c5f016e198e08534516
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 11 18:08:27 2013 -0500

    Add ability to find raid level of an lvm vg.

commit 3f766a6621be7badf205f3fce05a339c8cfe90eb
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:03:34 2013 -0500

    Always pass -f to wipefs since it lies about in-use devices. (#953329)

commit 1e0539281dfe7fc8f497b3b40e006a806f40ce59
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 13:57:16 2013 -0500

    Fix a bug extended partition management. (#951765)
    
    This bug was introduced/revealed by commit 1b53e3fb3d9b23422.
    
    We can't destroy the extended since there is a logical on that disk, so
    we need to update that extended's partedPartition first/instead. Also, by
    updating the already-defined PartitionDevice representing the extended
    first, we save some unneeded destroy/create action pairs.

commit d09369a6dff44975045880a261a21f3e924b4426
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 14:47:14 2013 -0500

    Don't return incomplete devices from getDeviceByFoo methods by default.

commit 079052764a68b9db7f906f8911d11e9c386cec90
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 18 13:51:44 2013 -0500

    Don't traceback when degraded md raid arrays are present. (#953184)

commit 8269730a755c61a82c9690d65ed9f56695ebabec
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Apr 15 15:35:39 2013 -0500

    New version: 0.11

commit ff12619e4137ed604ef3595caeba7e4173185162
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 11 18:55:16 2013 -0500

    Fix handling of isohybrid media. (#950510)
    
    I broke this with commit e35af4fc7a75764b9c7a8aa082dc0e3a3fa791d8.
    
    Media made by isohybrid looks like a disk with both a valid disklabel and
    a valid iso9660 filesystem on it. What you're supposed to do is pick one
    because they're both technically true, which is nuts. We always want to
    pick the iso9660, which means ignoring any partitions on the disk.

commit fb57d36d3a55cef8d49f3bd9f9f4eabe4c858db6
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Apr 11 18:06:36 2013 -0500

    Fix getting dracut setup args from dasd.conf. (#950964)

commit d31115b558bf83fc5d99ecb539e69858437d4f8e
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 9 16:55:58 2013 -0500

    New version: 0.10

commit 1b53e3fb3d9b2342240984be10370e741a0a6bf9
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 9 12:42:20 2013 -0500

    Extended partitions containing logical partitions are not leaves. (#949912)

commit b6f8ce908e6306dbab208e801391b7e188849fa0
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Apr 9 12:43:24 2013 -0500

    Remove devices in reverse order in Blivet.recursiveRemove. (#949912)
    
    This is just to make things look nicer when multiple logical partitions
    are being removed.

commit 898a7d779977319516a35749944e2c3b9568c8e2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 28 08:52:28 2013 -0600

    Rewrite the DeviceFactory classes.
    
    The main change here is the addition of nested factories to enable
    more complex stacks like lvm with an md pv and, later, lvm thin
    provisioning. This is accomplished by allowing factory classes to specify
    a child factory class. For example, MDFactory.child_factory_class is
    PartitionSetFactory.
    
    The management of a partition set as is used for lvm, md, and btrfs
    member devices has been moved into its own factory class. It is
    slightly different from the others in that it cannot have a child
    factory and cannot either be a top-level factory.
    
    The management of container devices like lvm vg or btrfs volume is
    handled within the factory classes for lvm lv and btrfs subvolume,
    respectively. There is not a separate set of factory classes for the
    container types since they are closely tied to the leaf device types.
    
    The factories can be used to modify/adjust non-existent devices, but
    are still not intended for use with preexisting devices. The exception
    to this is that preexisting container devices can be used as-is.
    
    The error handling has also changed. If an error occurs, the entire
    devicetree is restored from a backup, which means that references to
    devices in the old tree must be updated in this event.

commit dae7d9734749700d577b8a5f2f4d4f90ded332d8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 5 10:08:19 2013 -0500

    Hook up error handling in installer-specific methods. (#948250)

commit e5109b0b8027288a88fe241e7434ddeaacef595d
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 5 10:06:57 2013 -0500

    Don't traceback if fcoe.startup is called without fcoe utils present.

commit f032079f18387e18011953a1ac4cb26ded6a5d42
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Apr 5 10:05:00 2013 -0500

    Fix logic error that causes us to ignore disks in exclusiveDisks.

commit e96f76a91c1c16c21b992211b5e341d34f985041
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 3 17:50:59 2013 -0500

    Slightly improve currentSize for btrfs volumes.
    
    It's better than the size of the first member device. This was leading to
    a max size smaller than the current size for multi-device btrfs
    filesystems.

commit e35af4fc7a75764b9c7a8aa082dc0e3a3fa791d8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 11:24:20 2013 -0600

    Simplify multipath handling.
    
    Let systemd/udev/multipathd do it.
    
    This means we will now be writing a very simple multipath.conf to the
    target system. It will contain only "find_multipaths yes" and an entry
    for the chosen value of user_friendly_names.

commit e7dd559ac187f5bb1a5e87556e1f8c0379136234
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 11:14:03 2013 -0600

    Don't expect anaconda udev rules to be in use.

commit d6b00843a135ddd23f3d2a5210b52d8f2167d7de
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Apr 3 17:44:15 2013 -0500

    Drop requires for things only needed for OS installation.
    
    Resolves: rhbz#947864
    Resolves: rhbz#947137

commit 944c1bb10c35a203dd2838f38d10a4e5c13b340b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Tue Apr 2 11:35:13 2013 -0700

    New version: 0.9
    
    Catch up with missing build from commit
    60ffd1962d8bc61e9a1b7e2f23a9ef5f5894ffd2

commit 79aaf8b48487cc9951a521f8e83c7b54fc752621
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 22 09:23:35 2013 -0500

    Only install packages for devices and filesystems used by the OS.
    
    Resolves: rhbz#910506

commit dad0a0c4c66db163ba02b6aaf79695a540222799
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 20 15:58:54 2013 -0500

    Fix LVMLogicalVolumeDevice.maxSize.

commit 10cf99de1a2e0e952ae0e8b75f0dfaaecb26ef1e
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 20 11:58:04 2013 -0500

    Fix handling of name=None in newLV, newMDArray, newVG.
    
    Getting name=None is the same as not getting a name at all.

commit 7fc4a624c9fd6047e3dfebb8e3e57acfd1824b4d
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 12 14:30:11 2013 -0500

    Allow calls to suggestDeviceName with only a prefix argument.
    
    Prior to this fix, you'd end up with a trailing underscore in the name.

commit 9ebf98e650e68a5e21bf2901a1a4b02cdda10a6c
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 12 14:29:35 2013 -0500

    Move mdadm superblock size calculation into devicelibs.mdraid.

commit 60ffd1962d8bc61e9a1b7e2f23a9ef5f5894ffd2
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 21 15:08:05 2013 -0500

    NTFS.minSize is supposed to be a property. (#924410)

commit e0dac45cd77ab1bade8b6a5dd95b32434635437b
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Mar 20 17:08:17 2013 -0700

    Mount /run during install and fix /sys mount (#922988)
    
    dracut needs these mounted so that it sets up the new initrd correctly.

commit b578b058dd821fd2b88ed1c2f4ffafe369b243fd
Author: Mark Hamzy <hamzy@us.ibm.com>
Date:   Wed Mar 6 14:31:16 2013 -0600

    Fix two excptions triggered by calls to copy_to_system.

commit 6feb1e1564b08ee658ec683c84af21c69b33d752
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Mar 13 10:35:33 2013 -0500

    New version: 0.8

commit 04d5abe07d9088b6811b92f2273671bb51782eb2
Author: Radek Vykydal <rvykydal@redhat.com>
Date:   Tue Mar 12 16:56:01 2013 +0100

    Check for "ip=ibft" cmdline option, not for "ibft".

commit 9da8bad998e175de1fd0e40478b887fd40f412e7
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Mar 12 09:00:51 2013 -0500

    run_program returns an int. (#920584)

commit 73b3729cc531d76989698019b1801a4ed80d9cd6
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 11 11:43:13 2013 -0500

    Fix units for lvs output.

commit 48b1999e8a346cd6a8b3cfb20d1c1d9062d4e655
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Mar 11 10:21:08 2013 -0500

    Don't pass an intf arg to ISCSI.stabilize. (#920041)

commit bd50069e55faffa19b944c5140d467a7bb402e43
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 14:13:48 2013 -0600

    Add __version__ to blivet/__init__.py.

commit 2f829e55fccdece73da7c14856054196ae1f6f04
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 13:00:00 2013 -0600

    Only run info prog (eg: dumpe2fs) once per filesystem.
    
    Outside installer mode, don't collect info about current/min size
    automatically. This information can be obtained by calling the format's
    updateSizeInfo method.
    
    Related: rhbz#914896

commit ba675f7f3aae57033bb4e11b665234113e1703c2
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Mar 8 11:28:31 2013 -0600

    Processing of a PV with no VG metadata is easy.

commit c802e57dc2ae711895530e76fb78aabeb2d812a5
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Mar 7 14:41:06 2013 -0600

    Add some convenience properties for displaying DeviceAction info.

commit 8f546f3532a42103b1b50b779099c9620729e1d4
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Mar 4 10:37:59 2013 -0500

    Ignore MTDs, as we do not have the tools to write to them (#916771).

commit 14251e9ec2c641aa4785c486a11088ee8424bf39
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 28 09:48:20 2013 -0600

    Include udev's list of symbolic links in StorageDevice. (#914724)

commit e411bd44f47d85c237dcb06353455e4be157d1e7
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 28 08:54:55 2013 -0600

    Set a DeviceFormat instance's type attribute to the requested type.
    
    It will still be a DeviceFormat instance, but it will have a type that
    is not None and will reflect what was requested.

commit f16b2b80503a088a87ce6fa9309101d36adddc7c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 28 08:53:56 2013 -0600

    Allow size specs that do not include a 'b' or 'B'. (#888851)

commit 183cc7dbedee0d46087902260ca091297c0d36ef
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Feb 24 11:08:37 2013 +0100

    Fix reference to 'factory' from within DeviceFactory class.
    
    This is caused by an error in commit e3ceb9b553fb0b69.

commit c791db5f65c6fd3e81867ee392968a1bf26403b8
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 22 14:54:55 2013 +0100

    Fix problems detecting lvm and md devices. (#914730)
    
    This fixes breakage caused by commit 912306651fc433.

commit 2a3d7d607222014439f7e358b5484f252b380ba0
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 22 12:11:45 2013 +0100

    Allow passing size=None to device factories for unbounded growth.
    
    Related: rhbz#906906
    Related: rhbz#906908

commit f970eb793766a138236168e3f6c64d84343f8a9c
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 21 13:46:58 2013 +0100

    Provide a way to set the default fstype for a Blivet instance. (#838145)

commit 8e7b7223fef647e1d732cfc976a5a4eb78bb4259
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 21 13:16:46 2013 +0100

    Allow changing the size of encrypted devices via DeviceFactory. (#913169)

commit 714f8037fc44f1b7dcadf7916650c61f2401c310
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Feb 18 13:54:43 2013 +0100

    Don't dump storage state except in installer mode.

commit 1df426e6f6ff8b0ff7c7777bc7f1ca17912ac6da
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 12:05:53 2013 -0600

    Fix device resolution for btrfs.

commit aab4aedace406366d9764567568957852ef0a656
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 12:04:56 2013 -0600

    Fix device resolution to find named md devices.

commit 75d9bd5ee15108dcf9858344767e85ccd9ae2c0b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 12:04:00 2013 -0600

    Account for active mounts in normal mode. (#914898)
    
    Also adds support for representing the system's nodev filesystem mounts.
    
    The include_nodev flag must be set to True prior to calling
    Blivet.getActiveMounts, which is called from within Blivet.reset (if
    flags.installer_mode is False).
    
    There can be multiple mounts of any given nodev filesystem type, which
    presents a problem in terms of looking up devices by name. The chosen
    solution is to add a unique identifier to each NoDevice instance's name.

commit e4b346e9f1c982dc61d497798e4befbc2f7b4f0d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 12:00:37 2013 -0600

    Add an example script which lists all devices.

commit 65bb9f323868abfa63076ef2a9afdec70913e2a4
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Feb 20 11:14:01 2013 -0800

    Add scripts/makeupdates script
    
    Create a blivet updates.img for use when booting the installer image.

commit 199f3ebd9ec9f72dcbd0bc0aaf42f5dc32596fa1
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Feb 21 09:03:21 2013 -0800

    New version: 0.7

commit 8d2310919d21c38805aa34a70b454d8fc7187a33
Merge: da3f1bce 4a07c18a
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Feb 21 08:44:56 2013 -0800

    Merge branch 'master' of git+ssh://git.fedorahosted.org/git/blivet
    
    Forgot to push version change.

commit 4a07c18a4721949d837855a8170472b008d31456
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Feb 21 15:12:26 2013 +0100

    Bring in productName from pyanaconda in installer mode. (#913559)

commit da3f1bceddc0a76274d6a9fb7dabf876607fdd0f
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Feb 20 13:32:47 2013 -0800

    New version: 0.6

commit 61b1abe60200cb5f91267c48879c679652ffa380
Author: Brian C. Lane <bcl@redhat.com>
Date:   Wed Feb 20 10:24:58 2013 -0800

    parse buffer output from resize (#913141)

commit 3d15f939b8d9f1a2f5c7f10e3e891ae637a0e751
Author: Samantha N. Bueno <sbueno+anaconda@redhat.com>
Date:   Wed Feb 20 11:33:03 2013 -0500

    prevent traceback when root device is not defined #rhbz883768
    
    root defined as None was causing tracebacks when attempts to
    determine root device's properties were run later in sanityCheck
    
    resolves: rhbz#883768

commit 588f02ce8637f0d2c6dfca6935e28394d27e0228
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Feb 18 10:51:55 2013 -0500

    Move empty_disk to a top-level function, and rename.

commit 728253a24449fdaf257a490e4d0b9dbae9b5f99d
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 17:36:52 2013 -0600

    Add some high-level comments to DeviceFactory.configure_device.

commit f96627924691a2f88f0fb0d2d4e8b5910e79e552
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 17:25:08 2013 -0600

    Refactor DeviceFactory.set_container_members for clarity.

commit 38eeb9641b45e4f2bda73eb7c771477f2a704a32
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 14:17:57 2013 -0600

    Rename the main blivet logger from "storage" to "blivet".

commit 45f3e262f4ba22e2844e55f83b4654be74501a81
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 14:17:08 2013 -0600

    Use the blivet domain for translations.

commit e3ceb9b553fb0b696f1330fe063c4b2618ec926b
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Feb 6 14:07:46 2013 -0600

    Move DeviceFactory classes and related code into a new file.

commit 8b70cc34b14198a29201903f648ec97b37d1a7b1
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 8 15:00:50 2013 -0600

    New version: 0.5

commit 99356563c13762cf4513c77f37eb577739d5de17
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 8 09:34:58 2013 -0800

    Add mountOnly to turnOnFilesystems
    
    This allows us to mount filesystems like dev, proc, ... to
    /mnt/sysimage without activating the rest of storage.

commit f31a081544006ee813989da6ebea86b31de83f2d
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 5 16:31:46 2013 -0600

    Update lvm scanning to account for new ignored device handling.

commit fea12c2233feddcf80d0acfdfe76abdc256f7dea
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 13:28:25 2013 -0600

    Scan in all devices and then hide those that use ignored disks.

commit c084f5046805e08b8e91d83bfae2bce9e8e62ed6
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Feb 5 14:41:34 2013 -0600

    Adjust child counts correctly when unhiding a device.

commit c072c544c800787c3588672d2473a73ab76e4767
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 1 11:41:00 2013 -0600

    Generate lvm config args each time they're needed/used.
    
    Also adds support for read-only locking for commands that only gather
    info.

commit 912306651fc433c19e7f71b357ce0e69e5001d5b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 1 11:34:55 2013 -0600

    Add ability to grab 70-anaconda.rules udev data directly.
    
    This means blivet can run with or without 70-anaconda.rules.

commit 086d80ce0de16604e55706861ffb9d990527edda
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 1 11:50:48 2013 -0600

    Add support for active luks mappings at populate time.
    
    There will be no passphrase or key until/unless one is provided to
    the luks format instance.

commit e9a37ffc4a7b1b7288fb4f618cc2190fba520132
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 30 13:16:40 2013 -0600

    Don't require nss, required only for escrow key support.

commit 9507672bb775f722863a1eb852026479faee6b68
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Feb 1 11:32:13 2013 -0600

    Update the TODO list.

commit adec91898024f9db375680e60ade793952c4a260
Author: David Lehman <dlehman@redhat.com>
Date:   Thu Jan 31 11:57:54 2013 -0600

    Add missing constant DMI_CHASSIS_VENDOR.

commit bd40ab4eec434af28f40d651c2d43dc9c23c7d7a
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 13:44:06 2013 -0600

    Allow for multiple calls to DeviceTree.processActions. (#881023,#846573)
    
    Any commit of a DiskLabel will now trigger an update of its
    origPartedDisk attribute so it always reflects the on-disk state.

commit 72c9a669a203e3b9780e0cd06fcf958fc73c65a3
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 13:26:38 2013 -0600

    Use CGit snaphot URL for Source in specfile.
    
    Thanks to Jan Safranek for the idea.

commit 4f3bbddf8010e55564a5b8b0c03305381ac05a35
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 12:53:49 2013 -0600

    Streamline some logic in storageInitialize.

commit 22f045a675562ed576d5814ecc7074f26e99e968
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 12:24:49 2013 -0600

    Don't re-add deleted or hidden devices during DeviceTree.populate.

commit 3c7429724c8ac3313dfa4628b249a94e7c8f11be
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 29 11:51:01 2013 -0600

    Only run findExistingInstallations and start iscsi, &c in installer mode.

commit f98464e851b9ac59f07b68fc2643ea3b24c1954f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 28 15:30:26 2013 -0600

    Do not change device status during populate in normal mode. (#817064)

commit 8f1420f02410251bf82480fe6de9ab842622baf5
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 28 15:02:21 2013 -0600

    Drop old code related to saving clearPartType from pre-f18.

commit 35f8fd5aaaa8c6b6da4d457db19bba342c383bdc
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 1 16:04:21 2013 -0800

    check for skipping bootloader in doIt
    
    Skipping bootloader install should also skip setting partition flags.

commit 24f0ec502b32482a6c0a81cb04c620000279951c
Author: Brian C. Lane <bcl@redhat.com>
Date:   Fri Feb 1 16:03:21 2013 -0800

    check for stage1 when not installing bootloader (#882065,#895232)
    
    When not installing a bootloader stage1_device may not be set, need to check
    before using it.

commit b9ada5dda0085dfb00ea73266d7a98b4efbb0af3
Author: Brian C. Lane <bcl@redhat.com>
Date:   Thu Jan 31 16:25:41 2013 -0800

    explicitly detect iso9660 on a disk (#903158)
    
    Previously we were relying on parted to raise an error when trying to
    examine a disk with an iso9660 image written to it. The reason for this
    was that isohybrid was writing an incorrect mbr, which has now been
    fixed. parted will now return the dos mbr from the hybrid iso.
    
    This skips handleUdevDiskLabel if the device format is iso9660, allowing
    it to be selected instead of the mbr.

commit 5b2622f90d8ee2f6680031fe0ad9841b938afed0
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 25 12:49:24 2013 -0600

    Fix several problems in python-blivet.spec.
    
    - Changed license to GPLv2+.
    - Remove BuildRoot.
    - Remove %clean.
    - Add missing versioned requires macros.
    - Remove anaconda requires.
    - Add pykickstart requires.

commit 8311939c9e1051e4962f9f60475e7b33879cf6e9
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 25 11:53:21 2013 -0600

    Remove #!/usr/bin/python from tsort.py

commit 292b2de06dd58f635ab98e55d5f593791806606b
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 25 11:52:59 2013 -0600

    Update COPYING file.

commit c9941a8c32b45d8026fcc36ad55fa8a31b9810f7
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 25 12:46:07 2013 -0600

    Add a Requires for dmidecode on x86.

commit b1bd77461553b2ec2ff3fddbfcbe7a8512ee985b
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 14:39:57 2013 -0600

    New version: 0.4-1

commit 31c5331bc353c560dfe4db72a0000872a1c18f98
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 14:28:12 2013 -0600

    Use a two-part version number instead of three.

commit 67e13f11ad3f60729da5afece3a08fd5245493da
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 12:01:19 2013 -0600

    Rename the rpm package from blivet to python-blivet.

commit c1a04500da886e26caef32a37cbb10c1c034badd
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 11:59:28 2013 -0600

    Move get_mount_device, get_mount_paths from pyanaconda.packaging to util.

commit 4e19ea25476462be666cac5fda6c0534c9077ae0
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 11:59:02 2013 -0600

    Update the TODO list.

commit d6fe8f4ee3752e39dd8f884151cc3f0e2e970b6a
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 11:58:09 2013 -0600

    Carry over s390 exclusion of fcoe-utils from anaconda.

commit 6da359a13a51a2c48fd597cc63ff5dc24ecbf72f
Author: David Lehman <dlehman@redhat.com>
Date:   Sun Jan 20 11:56:49 2013 -0600

    Enable translations via transifex.

commit 20e5c9991e69f5f06a9f59b6d0e7abe64cc42c5a
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 18 15:10:10 2013 -0600

    New version: blivet-0.3-1

commit d6495c2f8adc7efe442861dd6e2f1016968bfd2f
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 18 15:05:49 2013 -0600

    Add Requires: iscsi-initiator-utils, fcoe-utils, device-mapper-multipath.

commit 1ba3eda6279b3ef743cddeece6957d700af1e754
Author: David Lehman <dlehman@redhat.com>
Date:   Fri Jan 18 15:04:47 2013 -0600

    Use a threading lock to control program log output.

commit e8421079301555479cf5e2dd0430394d6cf90f72
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 16 09:39:22 2013 -0600

    Fix reference to data to refer to ksdata in Blivet constructor.

commit 92922ecb04ed5466e670259e4c22ac06c903c1fc
Author: David Lehman <dlehman@redhat.com>
Date:   Wed Jan 16 09:38:57 2013 -0600

    Remove the loop around proc.communicate in util._run_program.

commit f652de40b16f239d12d5206bc3e37906b7497609
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 15 13:37:35 2013 -0600

    New version: 0.2-1

commit 48d9be09cf93695f5c34da48ef0f8f8c386781f2
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 15 13:32:52 2013 -0600

    Add .gitignore, MANIFEST.in, po/Makefile, and update the pot file.

commit 97fc5303e0d771af8f8f6dd59736d9b743ada1c8
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 15 13:32:21 2013 -0600

    Update the TODO list.

commit c4b9c8c0d7b8fb4b3221089411de5a4ddd141893
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 14 18:04:51 2013 -0600

    Rename Storage->Blivet and Blivet.data->Blivet.ksdata.

commit 6437c11ce74de8a761b08a477b892bc6b0c6553f
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 14 17:55:38 2013 -0600

    Remove unused functions undoEncryption and getLUKSPassphrase.

commit 9c4712df3d94d348ace0e1aa1b3bb5511fd9f1f7
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 14 17:40:33 2013 -0600

    Add the storage unit tests from anaconda.
    
    They won't be runnable as-is, but this is where the code belongs until
    I get it into shape.

commit 2a56c2f3a3b21fb625751dbb488a2cd39c81a0ad
Author: David Lehman <dlehman@redhat.com>
Date:   Mon Jan 14 17:39:43 2013 -0600

    Update storage code from pre-split anaconda.

commit 50c0f5254fa6d6962d5825d276c111e456c2a3d9
Author: David Lehman <dlehman@redhat.com>
Date:   Tue Jan 8 11:54:37 2013 -0600

    Initial version
